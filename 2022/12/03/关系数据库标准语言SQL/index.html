<!-- build time:Thu Jul 20 2023 19:29:47 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" href="https://blog.xcu.icu/rss.xml"><link rel="alternate" type="application/atom+xml" href="https://blog.xcu.icu/atom.xml"><link rel="alternate" type="application/json" href="https://blog.xcu.icu/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="数据库"><link rel="canonical" href="https://blog.xcu.icu/2022/12/03/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL/"><title>关系数据库标准语言SQL - 数据库 | ClownのBlog =</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">关系数据库标准语言SQL</h1><div class="meta"><span class="item" title="创建时间：2022-12-03 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-12-03T00:00:00+08:00">2022-12-03</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>12k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>11 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ClownのBlog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/77.jpg"></li><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/83.jpg"></li><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/12.jpg"></li><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/146.jpg"></li><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/153.jpg"></li><li class="item" data-background-image="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/64.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="item" rel="index" title="分类于 数据库"><span itemprop="name">数据库</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.xcu.icu/2022/12/03/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Clown"><meta itemprop="description" content=", 一个妄想全栈web小废物"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content=""></span><div class="body md" itemprop="articleBody"><h2 id="前言"><a class="anchor" href="#前言">#</a> 前言</h2><p>本篇记录学习数据库的第三章，SQL（结构化查询语言）是关系数据的标准语言，也是一个通用的功能性极强的关系性数据库语言，虽然说是查询语言，但是其功能包括但不仅限于数据库数据查询，而是包含了数据库创建，数据库数据的插入，删除，修改和完整性安全性定义等一系列操作。</p><h2 id="sql概述"><a class="anchor" href="#sql概述">#</a> SQL 概述</h2><p>前面也有提到，SQL 是结构化查询语言，是关系数据库的标准语言，一个通用的，功能性极强的关系型数据库语言。这里可能会对什么是结构化查询语言的概念比较懵</p><p>结构化查询语言是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统；同时也是数据库脚本文件的扩展名。结构化查询语言是高级的非过程化编程语言，允许用户在高层数据结构上工作。</p><h3 id="sql的产生"><a class="anchor" href="#sql的产生">#</a> SQL 的产生</h3><p>SQL 是 1974 年由 Boyce 和 Chamberlin 提出的，最初叫 sequel，并在 IBM 公司研制的关系数据库管理系统原型 System R 上实现。由于 SQL <code>简单易学</code> ， <code>功能丰富</code> ，深受用户及计算机工业界欢迎，因此被数据库厂商所采用。经各公司的不断修改、扩充和完善，SQL 得到业界的认可。</p><p>目前，没有一个数据库系统能够支持 SQL 标准化的所有概念和特性。同时，许多的厂商对 SQL 基本命令集群进行了不同程度的扩充和修改，使其可以支持更多的功能特性，因此我们在具体使用某个产品的时候，阅读用户手册不可或缺。</p><h3 id="sql的特点"><a class="anchor" href="#sql的特点">#</a> SQL 的特点</h3><ol><li><p>综合统一</p><ul><li><p>集数据定义语言（DDL），数据查询语言（DQL），数据操作语言（DML），数据控制语言（DCL）功能于一体。</p></li><li><p><strong>可以独立完成数据库生命周期中的全部活动</strong></p><p>包括定义关系模式、插入数据建立数据库、查询、更新、维护、数据库重构、数据库安全性控制等一系列操作</p></li></ul></li><li><p>高度非过程化</p><p>SQL 只要提出做什么，无须了解存取路径（存取路径的选取由系统自动完成）</p></li><li><p>面向集合的操作方式</p></li><li><p>意同一种语法结构提供两种使用方法</p><p>（SQL 即是自含式语言，又是嵌入式语言）</p></li><li><p>语言简介，易学易用（等于没说【小声哔哔】）</p><p>SQL 中完成核心功能只有 9 个动词</p><table><thead><tr><th>SQL 功能</th><th>动词</th></tr></thead><tbody><tr><td>数据查询</td><td>SELECT</td></tr><tr><td>数据定义</td><td>CREATE，DROP，ALTER</td></tr><tr><td>数据操纵</td><td>INSERT，UPDATE，DELETE</td></tr><tr><td>数据控制</td><td>GRANT，REVOKE</td></tr></tbody></table></li></ol><h3 id="sql基本概念"><a class="anchor" href="#sql基本概念">#</a> SQL 基本概念</h3><p>支持 SQL 的关系数据库管理系统同样支持关系数据库的三级模式</p><ul><li>外模式对应视图和部分基本表</li><li>模式对应基本表</li><li>内模式对应存储文件</li></ul><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221130165919850.png" alt="image-20221130165919850"></p><ol><li><p>基本表</p><ul><li><p>本身独立存在的表</p></li><li><p>SQL 中一个关系就对应一个基本表</p></li><li><p>一个（或多个）基本表对应一个储存文件</p></li></ul></li><li><p>存储文件</p><ul><li>物理结构组成了关系数据库的内模式</li><li>物理结构是任意的，对用户透明</li></ul></li><li><p>视图</p><ul><li>从一个或几个基本表导出的表</li><li>数据库中只存放视图的定义没有对应的数据</li><li>视图是一个虚表</li><li>用户可以在视图上面再定义视图</li></ul></li></ol><h2 id="数据定义"><a class="anchor" href="#数据定义">#</a> 数据定义</h2><p>因关系数据库支持三级模式结构，其模式、内模式、外模式中的基本对象有模式，表，视图和索引，故 SQL 的数据定义功能包括模式定义，表定义，视图和索引的定义。</p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221130173020187.png" alt="image-20221130173020187"></p><p>注：一个关系数据库管理系统的实例中可以创建多个数据库，一个数据库里可以创建多个模式，一个模式通常包括多个表，视图和索引等数据库对象。</p><h3 id="模式的定义和删除"><a class="anchor" href="#模式的定义和删除">#</a> 模式的定义和删除</h3><p><code>定义模式</code></p><pre><code class="language-sql">CREATE SCHEMA &lt;模式名&gt; AUTHORIZATION &lt;用户名&gt;；
create schema &lt;模式名&gt; authorization &lt;用户名&gt;；
</code></pre><p>至于这里为什么要写两遍，SQL 语言是不区分大小写的，两种都行个人喜欢小写</p><p><code>注：</code></p><ol><li><code>如果没有指定&lt;模式名&gt;，则&lt;模式名&gt;隐含为&lt;用户名&gt;</code></li><li><code>调用该命令的用户需要有数据库管理员的权限，或者被授予create schema的权限</code></li></ol><p>这里的定义模式其实就是定义了一个命名空间，可以进一步的创建表，视图</p><pre><code class="language-sql">CREATE SCHEMA &lt;模式名&gt; AUTHORIZATION &lt;用户名&gt; [&lt;表定义子句&gt;|&lt;视图定义子句&gt;|&lt;授权定义子句&gt;];
create schema &lt;模式名&gt; authorization &lt;用户名&gt; [&lt;表定义子句&gt;|&lt;视图定义子句&gt;|&lt;授权定义子句&gt;];
</code></pre><p><code>注：这里的[]表示这部分可以没有</code></p><p>例如，如果要为用户 zhang 创建一个模式 test，并且在其中定义一个表 TAB1</p><pre><code class="language-sql">CREATE SCHEMA TEST AUTHORIZATION zhang CREATE TABLE TAB1(COL1 SNALLINT,COL2 INT,COL3 CHAR(20));
</code></pre><p><code>删除模式</code></p><pre><code class="language-sql">DROP SCHEMA &lt;模式名&gt; &lt;CASCADE|RESTRICT&gt;
drop schema &lt;模式名&gt; &lt;cascade|restrict&gt;
</code></pre><p>这里尖括号中的两者必选其一，cascade（级联）表示在删除模式的时候会将该模式下的数据库对象都删除，restrict（限制）如果该模式下面已经定义了数据库对象，则拒绝删除语句的执行。</p><h3 id="基本表的定义-删除与修改"><a class="anchor" href="#基本表的定义-删除与修改">#</a> 基本表的定义、删除与修改</h3><h4 id="定义基本表"><a class="anchor" href="#定义基本表">#</a> 定义基本表</h4><p>使用 create table 语句</p><pre><code class="language-sql">CREATE TABLE &lt;表名&gt;
(&lt;列名&gt; &lt;数据类型&gt; [列级完整性约束条件]
[,&lt;列名&gt; &lt;数据类型&gt; [列级完整性约束条件]]
····
);
</code></pre><p><code>建立一个学生表Student</code></p><pre><code class="language-sql">CREATE TABLE Student (
	Sno CHAR(9) PRIMARY KEY,/*表级约束条件~设置主键*/
    Sname CHAR(20) UNIQUE,/*表级约束条件~取唯一值*/
    Ssex CHAR(2),
    Sage SMALLINT,
    Sdept CHAR(20)
)；
</code></pre><p><code>建立一个“课程”表Course</code></p><pre><code class="language-sql">CREATE TABLE Course(
	Cno CHAR(4) PRIMARY KEY,/*表级约束条件~设置主键*/
    Cname CHAR(40) NOT NULL,/*表级约束条件~不能为空*/
    Cpno CHAR(4),
    Ccredit SMALLINT,
    FOREIGN KEY (Cpno) REFERENCES Course(Cno)
    /*表级约束条件，Cpno是外码，被参照表是Course，被参照列是Cno*/
);
</code></pre><p><code>注：参照表和被参照表可以是同一个表</code></p><p><code>建立一个学生选课表SC</code></p><pre><code class="language-sql">CREATE TABLE SC
(
	Sno CHAR(9),
	Cno CHAR(4),
	Grade SMALLINT,
	PRIMARY KEY(Sno,Cno),/*主码由两个属性组成必须通过表级约束条件来定义*/
    FOREIGN KEY (Sno) REFERENCES Student(Sno),/*表级约束条件~Sno是外码，参照表是Student*/
    FOREIGN KEY (Cno) REFERENCES Course(Cno),/*表级约束条件~Cno是外码，参照表是Couese*/
);
</code></pre><h4 id="数据类型"><a class="anchor" href="#数据类型">#</a> 数据类型</h4><p>在上面基本表的定义中提到了数据类型，关系模型中的每一个属性都来自一个域，他的取值必须是域中的值，在 SQL 中用数据类型来实现</p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221130183148691.png" alt="image-20221130183148691"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221130183201344.png" alt="image-20221130183201344"></p><h4 id="模式与表"><a class="anchor" href="#模式与表">#</a> 模式与表</h4><p>模式与表的关系很简单，每一个表都对应一个模式，一个模式对应多个表</p><h4 id="修改基本表"><a class="anchor" href="#修改基本表">#</a> 修改基本表</h4><p>使用 ALTER TABLE 来修改基本表</p><pre><code class="language-sql">ALTER TABLE &lt;表名&gt;
[ADD [COLUMN] &lt;新列名&gt; &lt;数据类型&gt; [完整性约束条件]]
[ADD &lt;表级完整性约束条件&gt;]
[DROP [COLUMN] &lt;列名&gt; [CASCADE|RESTRICT]]
[DROP CONSTRAINT &lt;完整性约束&gt; [RESTRICT|CASCADE]]
[ALTER COLUMN &lt;列名&gt; &lt;数据类型&gt;];
</code></pre><p><code>ADD</code> 用于增加新列、新的完整性约束条件 <code>DROP COLUMN</code> 子句用于删除表中的列，如果指定了 CASCADE 则删除引用了该列的其他对象， <code>DROP CONSTRAINT</code> 用于删除只能怪的完整性约束条件， <code>ALTER COLUMN</code> 子句用于修改原有的列定义</p><p><code>给Student表增加入学时间列，数据类型为日期型</code></p><pre><code class="language-sql">alter table Student add S_entrance DATE;
</code></pre><p><code>将年龄的数据类型由字符型改为整型</code></p><pre><code class="language-sql">alter table Student alter cloumn Sage INT;
</code></pre><p><code>增加课程名唯一的约束条件</code></p><pre><code class="language-sql">alter table Course add unique(Cname);
</code></pre><h4 id="删除基本表"><a class="anchor" href="#删除基本表">#</a> 删除基本表</h4><p>当一个表不需要的时候我们可以通过</p><pre><code class="language-sql">DROP TABLE &lt;表名&gt; [RESTRICT|CASCADE];
</code></pre><p><code>删除Student表</code></p><pre><code class="language-sql">drop table Student restrict;
</code></pre><h3 id="索引的建立与删除"><a class="anchor" href="#索引的建立与删除">#</a> 索引的建立与删除</h3><p>索引的目的是加快数据查询的速度</p><p>使用 create index 建立索引</p><pre><code class="language-sql">CREATE [UNIQUE] [CLUSTER] INDEX &lt;索引名&gt; ON &lt;表名&gt; (&lt;列名&gt; [&lt;次序&gt;] [,&lt;列名&gt; [&lt;次序&gt;]]···);
次序中ASC为升序，DESC为降序（默认是ASC）
</code></pre><p><code>为学生课程数据库中的Student，Course，SC三个表建立索引，其中Student表按照学号升序建立唯一索引，Course表按照课程号升序建立唯一索引，SC表中按照学号升序和课程号降序建立唯一索引</code></p><pre><code class="language-sql">create unique index Student on Student(Sno);
create unique index Course on Course(Cno);
create unique index SC on SC(Sno ASC,Cno DESC);
</code></pre><p><code>注，索引的建立只有建表的人和数据库管理员可以操作，其他的都依靠DBMS自动完成</code></p><h2 id="数据查询"><a class="anchor" href="#数据查询">#</a> 数据查询</h2><p>接下来开始本篇的重点部分，数据的查询其一般格式为：</p><pre><code class="language-sql">SELECT [ALL|DISTINCT] &lt;目标列表达式&gt; [,&lt;目标列表达式&gt;]··· FROM &lt;表名或者视图名&gt; [,&lt;表名或者视图名&gt;...] | (&lt;SELECT 语句&gt;) [AS] &lt;别名&gt;
[WHERE &lt;条件表达式&gt;]
[GROUP BY &lt;列名1&gt; [HAVING &lt;条件表达式&gt;]]
[ORDER BY &lt;列名2&gt; [ASC|DESC]];
</code></pre><p>整个 select 语句的含义是，根据 where 子句的条件表达式从 from 子句指定的基本表，视图或派生表中找出满足条件的元组，再按照 select 子句中的目标表达式选出元组中的属性值形成的结果表。</p><p><code>ALL</code> 表示显示所有结果， <code>DISTINCT</code> 表示去除重复的属性， <code>group by</code> 子句，将结果按照 &lt;列名 1&gt; 来进行分组，该属性列值相等的元组为一个组通常会在每组中作用聚集函数。如果有 <code>having</code> 则需要满足指定的条件， <code>order by</code> 的作用是将查询的结果排序。</p><p>我的数据库三个表：</p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201163315778.png" alt="image-20221201163315778"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201163333243.png" alt="image-20221201163333243"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201163346603.png" alt="image-20221201163346603"></p><p>查询方式，主要分为下面四种</p><h3 id="单表查询"><a class="anchor" href="#单表查询">#</a> 单表查询</h3><p>查询仅涉及一个表，查询中常需要一些条件，下表中总结了常用的查询条件</p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201140948099.png" alt="image-20221201140948099"></p><ol><li><p>查询表中的若干列</p><ul><li><p>类似投影</p></li><li><p><code>查询全体学生的学号和姓名</code> （查询指定列）</p><pre><code class="language-sql">select Sno,Sname from Student;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201132002432.png" alt="image-20221201132002432"></p></li><li><p><code>查询全体学生的详细记录</code> （查询全部列）</p><pre><code class="language-sql">select * from Student;/*这里的*代表查询所有*/
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201132332402.png" alt="image-20221201132332402"></p></li><li><p><code>查询全体学生的姓名及出生年月</code> （查询经过计算的值）</p><p>&lt;font color=&quot;red&quot;&gt;select 子句中的 &lt; 目标列表达式 &gt; 不仅可以是属性列，也可以是表达式，还可以是支付穿常量，函数等 &lt;/font&gt;</p><pre><code class="language-sql">select Sname,2022-Sage from Student;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201132913026.png" alt="image-20221201132913026"></p></li><li><p>查询全体学生姓名，出生年月和所在院系，使用小写字母表示系名</p><pre><code class="language-sql">select Sname,'出生年：',2022-Sage,LOWER(Sdept) from Student;/*这里LOWER表示转化为小写，对应的有UPPER转化为大写*/
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201134153565.png" alt="image-20221201134153565"></p><p>&lt;font color=blue&gt; 这里字符串用单引号包裹 &lt;/font&gt;</p></li><li><p><code>对上一个例子的查询结果进行别名</code><br>用 as 进行别名（&lt;font color=red&gt; 可以省略 &lt;/font&gt;）</p><pre><code class="language-sql">select Sname AS NAME,'出生年：',2022-Sage BIRTHDAY,UPPER(Sdept) DEPARTMENT from Student;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201135923229.png" alt="image-20221201135923229"></p></li></ul></li><li><p>选择表中的若干行（元组）</p><ul><li><p>类似选择</p></li><li><p><code>查询选修了课程的学生学号</code> （消除重复行）</p><pre><code class="language-sql">select DISTINCT Sno from SC;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201140711800.png" alt="image-20221201140711800"></p></li><li><p>接下来通过 where 子句使用查询条件进行查询</p><ol><li><p>比较大小</p><ul><li><p><code>查询计算机科学系全体学生的姓名</code></p><pre><code class="language-sql">select Sname from Student where Sdept='CS';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201142040007.png" alt="image-20221201142040007"></p></li><li><p><code>查询所有年龄在20岁一下的学生姓名及其年龄</code></p><pre><code class="language-sql">select Sname,Sage from Student where Sage!&gt;20;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201142007098.png" alt="image-20221201142007098"></p></li><li><p><code>查询考试成绩没有90的学生学号</code></p><pre><code class="language-sql">select DISTINCT Sno from SC where Grade&lt;=90;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201142333099.png" alt="image-20221201142333099"></p></li></ul></li><li><p>确定范围</p><p>使用谓词 BETWEEN ....AND... 确定范围</p><ul><li><p>查询年龄在 20~23 岁，包括 20 和 23 岁之间的学生的姓名系别和年龄</p><pre><code class="language-sql">select Sname,Sdept,Sage from Student where Sage between 20 and 23;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201142947029.png" alt="image-20221201142947029"></p></li><li><p>查询年龄不在 20~23 岁，之间的学生的姓名系别和年龄</p><pre><code class="language-sql">select Sname,Sdept,Sage from Student where Sage not between 20 and 23;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201143028072.png" alt="image-20221201143028072"></p></li></ul></li><li><p>确定集合</p><p>使用谓词 IN 来查找属性值属于指定集合的元组</p><ul><li><p><code>查询信息系（IS）、数学系（MA）和计算机科学性（CS）学生的姓名和性别。</code></p><pre><code class="language-sql">select Sname,Ssex from Student where Sdept IN('IS','MA','CS');
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201143628640.png" alt="image-20221201143628640"></p></li><li><p><code>查询即不是信息系，数学系，也不是计算机科学系的学生的姓名和性别</code></p><pre><code class="language-sql">select Sname,Ssex from Student where Sdept not IN('IS','MA','CS');	
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201143815063.png" alt="image-20221201143815063"></p></li></ul></li><li><p>字符匹配</p><p>使用谓词 like 来进行字符串匹配</p><pre><code class="language-sql">[NOT] LIKE '&lt;匹配串&gt;' [ESCAPE '&lt;换码字符&gt;']/*用%匹配任意字符，用_匹配任意单个字符*/
</code></pre><ul><li><p><code>查询学号为201215121的学生的详细情况</code> （字符串为固定字符）</p><pre><code class="language-sql">select * FROM Student where Sno LIKE '201215121';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201162259416.png" alt="image-20221201162259416"></p></li><li><p><code>查询所有刘姓学生的姓名，学号，性别</code> （匹配串为含通配符的字符串）</p><pre><code class="language-sql">select Sname,Sno,Ssex FROM Student where Sname LIKE '刘%';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201162905296.png" alt="image-20221201162905296"></p><p><code>查询姓”欧阳“，且全名为三个汉字的学生的姓名</code></p><pre><code class="language-sql">select Sname FROM Student where Sname LIKE '欧阳_';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201163127358.png" alt="image-20221201163127358"></p></li><li><p><code>查询以“DB_”开头，且倒数第三个字符为i的课程的详细情况</code> （特殊字符转义）</p><pre><code class="language-sql">select * FROM Course where Cname LIKE 'DB\_%i__' ESCAPE '\'; /*escape表示'\'为转义字符*/
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201164143639.png" alt="image-20221201164143639"></p></li></ul></li><li><p>涉及空值的查询</p><ul><li><p><code>某些学生选修课程后没有参加考试，所以有选课记录，但是没有成绩，查询缺少成绩的学生的学号和相应的课程号</code></p><pre><code class="language-sql">select Sno,Cno FROM SC where Grade is NULL;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201164934434.png" alt="image-20221201164934434"></p></li><li><p><code>查询所有有成绩的学生信息</code></p><pre><code class="language-sql">select Sno,Cno FROM SC where Grade is NOT NULL;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201165045093.png" alt="image-20221201165045093"></p></li></ul></li><li><p>多重条件查询</p><p>使用 and，or 来连接条件，and 的优先级高于 or</p><ul><li><p><code>查询计算机系年龄在20岁一下的学生姓名</code></p><pre><code class="language-sql">select Sname FROM Student where Sage&lt;=20 and Sdept='CS';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201172127267.png" alt="image-20221201172127267"></p></li></ul></li></ol></li></ul></li><li><p>order by 子句</p><ul><li><p>对选择结果排序</p></li><li><p><code>查询选修了2号课程的学生的学号及成绩，查询结果按照分数的降序排列</code></p><pre><code class="language-sql">select Sno,Grade FROM SC where Cno='2' Order BY Grade DESC;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201222545664.png" alt="image-20221201222545664"></p></li><li><p><code>查询全体学生情况，查询结果按所在系的系名降序排列，同一系中的学生按年龄的升序排列</code></p><pre><code class="language-sql">select * from Student ORDER BY Sdept DESC,Sage;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201223148145.png" alt="image-20221201223148145"></p></li></ul></li><li><p>使用集合函数</p><pre><code class="language-sql">COUNT(*)					统计元组个数
COUNT([DISTINCT|ALL] &lt;列名&gt;) 	统计一列中值的个数
SUM([DISTINCT|ALL] &lt;列名&gt;)	统计一列值的总和（此列必须是数值型）
AVG([DISTINCT|ALL] &lt;列名&gt;)	计算一列值的平均值（此列必须是整数型）
MAX([DISTINCT|ALL] &lt;列名&gt;)	求一列中的最大值
MIN([DISTINCT|ALL] &lt;列名&gt;)	求一列中的最小值
</code></pre><ul><li><p>又称级函数，或者聚集函数，或组函数</p></li><li><p><code>查询学生的总人数</code></p><pre><code class="language-sql">select COUNT(*) from Student;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201223742434.png" alt="image-20221201223742434"></p></li><li><p><code>查询选修了课程的学生人数</code></p><pre><code class="language-sql">select COUNT(DISTINCT Sno) from SC;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201224035853.png" alt="image-20221201224035853"></p></li><li><p><code>计算2号课程的学生的平均成绩</code></p><pre><code class="language-sql">select AVG(Grade) from SC WHERE Cno='2';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201225221482.png" alt="image-20221201225221482"></p></li></ul></li><li><p>分组（group by 子句）</p><ul><li><p>对查询结果分组，将查询的结果再次分组</p></li><li><p><code>求各个课程号及其对应的人数</code></p><pre><code class="language-sql">select Cno,COUNT(Sno) FROM SC GROUP BY Cno;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201231512674.png" alt="image-20221201231512674"></p></li><li><p><code>查询选修了一门以上的课程的学生的学号</code></p><pre><code class="language-sql">SELECT Sno from SC GROUP BY Sno HAVING COUNT(*)&gt;1;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221201231859584.png" alt="image-20221201231859584"></p></li></ul></li></ol><h3 id="连接查询"><a class="anchor" href="#连接查询">#</a> 连接查询</h3><p>前面的都只在一个表中进行查询，而连接查询同时涉及 &lt;font color=red&gt; 多个表 &lt;/font&gt;</p><pre><code class="language-sql">[&lt;表名1&gt;.]&lt;列名1&gt; &lt;比较运算符&gt; [&lt;表名2&gt;.]&lt;列名2&gt;;#常见的比较运算符主要=,&gt;,&lt;,&gt;=,&lt;=,&lt;&gt;,!=,!&gt;,!&lt;
[&lt;表名1&gt;.]&lt;列名1&gt; BETWEEN [&lt;表名2&gt;.]&lt;列名2&gt; AND [&lt;表名3&gt;.]&lt;列名3&gt;;
</code></pre><p>&lt;font color=red&gt; 比较的两个条件名字可以不同，但是数据类型要是相同的 &lt;/font&gt;</p><ol><li><p>等值与非等值连接查询</p><ul><li><p>等值连接</p><p>连接运算符为 =</p><ul><li><p><code>查询每个学生及其选修课程的情况</code></p><pre><code class="language-sql">select Student.*,SC.* FROM Student,SC where Student.Sno=SC.Sno;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202103658842.png" alt="image-20221202103658842"></p></li><li><p>对上一个例子使用自然连接完成</p><pre><code class="language-sql">select Student.*,SC.Cno,SC.Grade FROM Student,SC where Student.Sno=SC.Sno;#区别是去掉了比较的重复列
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202103938455.png" alt="image-20221202103938455"></p></li></ul></li><li><p>自身连接</p><ul><li><p><code>查询每一门课的间接先修课</code> （即先修课的先修课）</p><pre><code class="language-sql">select table1.Con,table2.Cpno from Course table1,Course table2 where table1.Cpno=table2.Con;#这里需要对表进行别名使其自身相比
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202105430451.png" alt="image-20221202105430451"></p><p>&lt;font color=red&gt; 注，自身连接由于属性名相同，因此必须要用别名相互区别 &lt;/font&gt;</p></li></ul></li><li><p>多表连接</p><p>顾名思义就是俩个以上的表进行连接</p><ul><li><p><code>查询每个学生的学号姓名选修的课程名及成绩</code></p><pre><code class="language-sql">select Student.Sname,Course.Cname,SC.Grade FROM Student,Course,SC WHERE Student.Sno=SC.Sno and SC.Cno=Course.Con;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202115556674.png" alt="image-20221202115556674"></p></li></ul></li></ul></li></ol><h3 id="嵌套查询"><a class="anchor" href="#嵌套查询">#</a> 嵌套查询</h3><p>在 SQL 语言中每一个 SELECT-FROM-WHERE 为一个查询块将一个查询块嵌套到另一个查询块中的 where 或者 having 子句中查询称为嵌套查询</p><p>SQL 的结构化的含义就是多以层层嵌套的方式来构造程序</p><ol><li><p>带有 IN 谓词的子查询</p><ul><li><p><code>查询与“刘留”在同一个系的学生</code></p><ul><li><p>&lt;font color=blue&gt; 先查询 “刘留” 所在的系 &lt;/font&gt;</p><pre><code class="language-SQL">SELECT Sdept FROM Student where Sname='刘留';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202124310325.png" alt="image-20221202124310325"></p></li><li><p>&lt;font color=blue&gt; 在查询所有在 CS 系的学生 &lt;/font&gt;</p><pre><code class="language-sql">SELECT Sname FROM Student where Sdept='CS';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202125011126.png" alt="image-20221202125011126"></p></li><li><p>&lt;font color=blue&gt; 将两个语句嵌套完成 &lt;/font&gt;</p><pre><code class="language-sql">SELECT * FROM Student where Sdept in (SELECT Sdept FROM Student where Sname='刘留');
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202125420911.png" alt="image-20221202125420911"></p><p><code>子查询的条件不依赖父查询，称为不相干子查询</code></p></li></ul></li><li><p><code>查询选修了课程名为“信息系统”的学生学号和姓名</code></p><pre><code class="language-sql">SELECT Sno,Sname FROM Student WHERE Sno in (select Sno FROM SC where Cno in (select Con from Course where Cname='信息系统')); 
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202131341962.png" alt="image-20221202131341962"></p></li></ul></li><li><p>带有比较运算符的子查询</p><ul><li><p><code>找出每个学生超过他自己选修课程平均成绩的课程号</code></p><pre><code class="language-sql">SELECT Sno,Cno FROM SC x WHERE Grade&gt;=(SELECT AVG(Grade) from SC y WHERE y.Sno=x.Sno);
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202133356393.png" alt="image-20221202133356393"></p></li></ul></li><li><p>带有 AND（SOME）或 ALL 谓词的子查询</p><ul><li><p><code>查询非计算机科学系中比任意一个计算机科学系的学生年龄都小的学生的姓名和年龄</code></p><pre><code class="language-sql">select Sname,Sage FROM Student WHERE Sage&lt;ANY(select Sage FROM Student WHERE Sdept='CS') and Sdept&lt;&gt;'CS';#小于任意一个即可
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202134147599.png" alt="image-20221202134147599"></p></li><li><p><code>查询非计算机科学系中比任意一个计算机科学系的学生年龄都小的学生的姓名和年龄</code></p><pre><code class="language-sql">select Sname,Sage FROM Student WHERE Sage&lt;ALL(select Sage FROM Student WHERE Sdept='CS') and Sdept&lt;&gt;'CS';#小于所有
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202134555583.png" alt="image-20221202134555583"></p></li></ul></li><li><p>带有 EXISTS 谓词的子查询</p><p>&lt;font color=red&gt; 带有 EXISTS 谓词的子查询不返回数据只返回逻辑真值与逻辑假值 &lt;/font&gt;</p><ul><li><p><code>选修了一号课程的学生的姓名</code></p><pre><code class="language-sql">SELECT Sname from Student WHERE EXISTS(select * from SC where Cno='1' AND
Student.Sno=Sno);
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221202141805285.png" alt="image-20221202141805285"></p></li></ul></li></ol><h3 id="集合查询"><a class="anchor" href="#集合查询">#</a> 集合查询</h3><p>集合操作的种类：</p><ol><li>并操作 UNION</li><li>交操作 INTERSECT</li><li>差操作 EXCEPT</li></ol><p>&lt;font color=red&gt; 注：参加集合操作的各查询结果的列数必须相同；对应的数据类型也必须相同 &lt;/font&gt;</p><ol><li><p><code>查询计算机科学系的学生及年龄不大于19岁的学生</code></p><pre><code class="language-sql">select * from Student where Sdept='CS' union select * from Student where Sage&lt;=19;#union 将多个查询结果合并起来，系统自动去掉重复元组
#union all 将多个查询结果合并起来，保留重复元组
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203132840712.png" alt="image-20221203132840712"></p></li><li><p><code>查询选修了课程1或者选修了课程2的学生</code></p><pre><code class="language-sql">select  DISTINCT * from Student,SC where Student.Sno=SC.Sno and SC.Cno='1' UNION select  DISTINCT * from Student,SC where Student.Sno=SC.Sno and SC.Cno='2';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203133748443.png" alt="image-20221203133748443"></p></li></ol><h3 id="基于派生表的查询"><a class="anchor" href="#基于派生表的查询">#</a> 基于派生表的查询</h3><p>子查询不仅可以出现在 <code>where子句</code> 中，还可以出现在 <code>from子句</code> 中，这时子查询生成的 <code>临时派生表</code> 成为主查询对象</p><p><code>查询每个学生超过他自己选修课程平均成绩的课程号</code></p><pre><code class="language-sql">select Sno,Cno from SC,(select Sno,avg(Grade) from SC GROUP BY Sno) as Avg_sc(avg_sno,avg_grade) WHERE Sno=avg_sno and Grade&gt;=avg_grade;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203142017891.png" alt="image-20221203142017891"></p><p><code>查询所有选修了1号课程的学生姓名</code></p><pre><code class="language-sql">SELECT Sname from Student,(SELECT Sno FROM SC WHERE Cno='1') SC1 WHERE Student.Sno=SC1.Sno;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203142502097.png" alt="image-20221203142502097"></p><h2 id="数据更新"><a class="anchor" href="#数据更新">#</a> 数据更新</h2><h3 id="插入数据"><a class="anchor" href="#插入数据">#</a> 插入数据</h3><ol><li><p>插入一个元组</p><p>语句格式：</p><pre><code class="language-sql">INSERT INTO &lt;表名&gt; [(&lt;属性列1&gt;[,&lt;属性列2&gt;.....])] VALUES (&lt;常量&gt;[,&lt;常量2&gt;]....)
</code></pre><p><code>将一个新学生元组（学号：201215128）；姓名：陈冬；性别：男；所在系：IS；年龄：18岁）插入到Student表中。</code></p><pre><code class="language-sql">INSERT INTO Student(Sno,Sname,Ssex,Sdept,Sage) VALUES ('201215128','陈东','男','IS',18);
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203204704729.png" alt="image-20221203204704729"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203204727631.png" alt="image-20221203204727631"></p><p><code>插入一条选课记录（'201215128','1')</code></p><pre><code class="language-sql">INSERT into SC(Sno,Cno,Grade) VALUES('201215128','1',null)
INSERT INTO &lt;表名&gt; [(&lt;属性列1&gt; [,&lt;属性列2&gt;...)] 子查询：
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203205007471.png" alt="image-20221203205007471"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203205018798.png" alt="image-20221203205018798"></p><p><code>对每个系，求学生的平均年龄，并把结果存入数据库中</code></p><pre><code class="language-sql">/*先建表*/create table Dept_age (Sdept char(15),avg_age SMALLINT);
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203205512524.png" alt="image-20221203205512524"></p><pre><code class="language-sql">INSERT into Dept_age(Sdept,avg_age) select Sdept,AVG(Sage) from Student GROUP BY Sdept;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203205748078.png" alt="image-20221203205748078"></p><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203205811314.png" alt="image-20221203205811314"></p></li></ol><h3 id="修改数据"><a class="anchor" href="#修改数据">#</a> 修改数据</h3><p>基本格式：</p><pre><code class="language-sql">UPDATE &lt;表名&gt; SET &lt;列名&gt;=&lt;表达式&gt;[,&lt;列名&gt;=&lt;表达式&gt;]....[WHERE&lt;条件&gt;];
</code></pre><ol><li><p><code>将学生201215121的年龄改为22岁</code></p><pre><code class="language-sql">UPDATE Student SET Sage=22 where Sno='201215121';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203215806818.png" alt="image-20221203215806818"></p></li><li><p><code>將所有學生年齡增加一歲</code></p><pre><code class="language-sql">UPDATE Student SET Sage=Sage+1;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203215914475.png" alt="image-20221203215914475"></p></li><li><p><code>将计算机系的全体学生的成绩置0</code></p><pre><code class="language-sql">UPDATE SC set Grade=0 WHERE Sno in (select Sno FROM Student where Sdept='CS');
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203220428813.png" alt="image-20221203220428813"></p></li></ol><h3 id="删除数据"><a class="anchor" href="#删除数据">#</a> 删除数据</h3><p>语句格式</p><pre><code class="language-sql">DELETE FROM &lt;表名&gt; [WHERE&lt;条件&gt;];
</code></pre><p>删除元组</p><ol><li><p>删除一个元组的值</p><ul><li><p><code>删除学号为201215128的学生记录</code></p><pre><code class="language-sql">DELETE from Student where Sno='201215128';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203220934710.png" alt="image-20221203220934710"></p></li></ul></li><li><p>删除多个元组的值</p><ul><li><p><code>删除所有学生的选课记录</code></p><pre><code class="language-sql">DELETE from SC;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203221028823.png" alt="image-20221203221028823"></p></li></ul></li><li><p>带子查询的删除语句</p><ul><li><p><code>删除计算机科学系所有学生的选课记录</code></p><pre><code class="language-sql">DELETE from SC WHERE Sno in (select Sno from Student where Sdept='CS');
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203221226462.png" alt="image-20221203221226462"></p></li></ul></li></ol><h3 id="空值的处理"><a class="anchor" href="#空值的处理">#</a> 空值的处理</h3><ol><li><p>空值的产生</p><ul><li><p><code>将Student表中学生号为201215125的学生所属的系改为空值</code></p><pre><code class="language-sql">update Student SET Sdept=NULL where Sno='201215125';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203221622264.png" alt="image-20221203221622264"></p></li></ul></li><li><p>空值的判断</p><ul><li><p><code>从Student表中找出信息填漏了的学生信息</code></p><pre><code class="language-sql">select * from Student where  Sno is NUll or Sname is null or Ssex is null or Sage is null or Sdept is null; 
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203222101262.png" alt="image-20221203222101262"></p></li></ul></li><li><p>空值的约束条件</p><ul><li>定义为 not null</li><li>unique</li><li>主码</li></ul></li><li><p>空值的运算</p><ul><li><p><code>找出选修了一号课程不及格的学生以及缺考的学生</code></p><pre><code class="language-sql">select * from SC where (Grade&lt;=60 AND Cno=1) or (Grade is null and Cno=1)
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203222726794.png" alt="image-20221203222726794"></p></li></ul></li></ol><h2 id="视图"><a class="anchor" href="#视图">#</a> 视图</h2><p>特点：</p><ul><li>虚表，是从一个或者多个基本表或者视图导出的表</li><li>只能存放视图的定义，不存放对应的数据</li><li>基表中的数据发生变化，从视图中查询出来的数据也发生变化</li></ul><h3 id="定义视图"><a class="anchor" href="#定义视图">#</a> 定义视图</h3><p>语句格式：</p><pre><code class="language-sql">CREATE VIEW &lt;视图名&gt; [(&lt;列名&gt; [,&lt;列名&gt;...)] AS &lt;子查询&gt; [WITH CHECK OPTION];# [WITH CHECK OPTION]表示对视图进行增删改查操作的时候要保证修改的行满足视图定义中的谓词条件（也就是子查询表达式中的条件）
</code></pre><p>下面三种情况需要指出组成视图的所有列名</p><ul><li>某个目标列不是单纯的属性名，而是聚集函数或者列表达式</li><li>多表连接的时候选出了同名列作为视图的字段</li><li>需要在视图中为某个列启用新的更合适的名字</li></ul><ol><li><p>基于单表</p><ul><li><p><code>创建计算机系学神的视图</code></p><pre><code class="language-sql">CREATE VIEW CS_Student AS SELECT * from Student where Sdept='CS';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203224115912.png" alt="image-20221203224115912"></p></li><li><p><code>使得上面的视图在修改时只能加入计算机系的学生</code></p><pre><code class="language-sql">CREATE VIEW CS_Student AS SELECT * from Student where Sdept='CS' WITH CHECK OPTION;
</code></pre></li></ul></li><li><p>基于多表</p><ul><li><p><code>建立计算机系选修了一号课程的学生视图</code></p><pre><code class="language-sql">CREATE VIEW SC_Student1 AS SELECT Student.* from Student,SC where Sdept='CS' and Cno='1' and Student.Sno=SC.Sno;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203225330680.png" alt="image-20221203225330680"></p></li></ul></li><li><p>基于视图</p><p><code>建立计算机系选修了1号课程且成绩在90分以上的学生的视图</code></p><pre><code class="language-sql">CREATE VIEW SC_Student2 AS SELECT * from SC_Student1 where Student.Grade&gt;=90;
</code></pre></li><li><p>带表达式的视图</p><p><code>定义一个反应学生出生年份的视图</code></p><pre><code class="language-sql">create VIEW BT_S(Sno,Sname,Sbirth) AS select Sno,Sname,2022-Sage FROM Student;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203231530346.png" alt="image-20221203231530346"></p></li><li><p>分组视图</p><p><code>将学生的学号及他的平均成绩定义为一个视图</code></p><pre><code class="language-sql">CREATE VIEW S_G(Sno,Gavg) AS SELECT Sno,Avg(Grade) FROM SC GROUP BY Sno;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203231831066.png" alt="image-20221203231831066"></p></li><li><p>删除视图</p><p>语句格式：</p><pre><code class="language-sql">DROP VIEW &lt;视图名&gt;;
</code></pre><p><code>删除视图BT_S</code></p><pre><code class="language-sql">DROP VIEW BT_S;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203232031229.png" alt="image-20221203232031229"></p></li></ol><h3 id="查询视图"><a class="anchor" href="#查询视图">#</a> 查询视图</h3><p>用户角度：查询视图与查询基本表相同</p><p><code>在计算机系学生的视图中找到年龄小于22岁的学生</code></p><pre><code class="language-sql">SELECT Sno,Sage FROM CS_Student WHERE Sage&lt;=22;
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203232531066.png" alt="image-20221203232531066"></p><h3 id="更新视图"><a class="anchor" href="#更新视图">#</a> 更新视图</h3><p><code>操作计算机系学生视图CS_Student,并将学号201215122的学生姓名改为“刘辰”</code></p><pre><code class="language-sql">UPDATE CS_Student SET Sname='刘辰' WHERE Sno='201215122';
</code></pre><p><img data-src="https://note-1311335427.cos.ap-shanghai.myqcloud.com/images/image-20221203232829223.png" alt="image-20221203232829223"></p><h3 id="视图的作用"><a class="anchor" href="#视图的作用">#</a> 视图的作用</h3><ol><li>视图能够简化用户的操作</li><li>视图使用户能以多种角度看待同一数据</li><li>视图对重构数据库提供了一定程度的逻辑独立性</li><li>视图能够对机密数据提供安全保护</li><li>适当的利用视图可以更清晰的表达查询</li></ol><div class="tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="ic i-tag"></i> 数据库</a></div></div><footer><div class="meta"><span id="2022/12/03/关系数据库标准语言SQL/" class="item leancloud_visitors" data-flag-title="关系数据库标准语言SQL" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Clown <i class="ic i-at"><em>@</em></i></li><li class="link"><strong>本文链接：</strong> <a href="https://blog.xcu.icu/2022/12/03/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL/" title="关系数据库标准语言SQL">https://blog.xcu.icu/2022/12/03/关系数据库标准语言SQL/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/11/09/preg_match&&%E6%AD%A3%E5%88%99/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;note-1311335427.cos.ap-shanghai.myqcloud.com&#x2F;images&#x2F;60.jpg" title="preg_match&amp;&amp;正则"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Web</span><h3>preg_match&&正则</h3></a></div><div class="item right"><a href="/2022/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;note-1311335427.cos.ap-shanghai.myqcloud.com&#x2F;images&#x2F;45.jpg" title="数据库安全性"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 数据库</span><h3>数据库安全性</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">SQL 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E7%9A%84%E4%BA%A7%E7%94%9F"><span class="toc-number">2.1.</span> <span class="toc-text">SQL 的产生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">SQL 的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.3.</span> <span class="toc-text">SQL 基本概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="toc-number">3.</span> <span class="toc-text">数据定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.1.</span> <span class="toc-text">模式的定义和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89-%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9"><span class="toc-number">3.2.</span> <span class="toc-text">基本表的定义、删除与修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="toc-number">3.2.1.</span> <span class="toc-text">定义基本表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%A1%A8"><span class="toc-number">3.2.3.</span> <span class="toc-text">模式与表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="toc-number">3.2.4.</span> <span class="toc-text">修改基本表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="toc-number">3.2.5.</span> <span class="toc-text">删除基本表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="toc-number">3.3.</span> <span class="toc-text">索引的建立与删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.</span> <span class="toc-text">数据查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.1.</span> <span class="toc-text">单表查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.2.</span> <span class="toc-text">连接查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.3.</span> <span class="toc-text">嵌套查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.4.</span> <span class="toc-text">集合查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%B4%BE%E7%94%9F%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.5.</span> <span class="toc-text">基于派生表的查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="toc-number">5.</span> <span class="toc-text">数据更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">5.1.</span> <span class="toc-text">插入数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">5.2.</span> <span class="toc-text">修改数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">5.3.</span> <span class="toc-text">删除数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">5.4.</span> <span class="toc-text">空值的处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">6.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%A7%86%E5%9B%BE"><span class="toc-number">6.1.</span> <span class="toc-text">定义视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%86%E5%9B%BE"><span class="toc-number">6.2.</span> <span class="toc-text">查询视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="toc-number">6.3.</span> <span class="toc-text">更新视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">6.4.</span> <span class="toc-text">视图的作用</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2022/10/24/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="bookmark" title="关系数据库">关系数据库</a></li><li><a href="/2022/10/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" rel="bookmark" title="数据库系统概述">数据库系统概述</a></li><li class="active"><a href="/2022/12/03/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL/" rel="bookmark" title="关系数据库标准语言SQL">关系数据库标准语言SQL</a></li><li><a href="/2022/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" rel="bookmark" title="数据库安全性">数据库安全性</a></li><li><a href="/2022/12/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7/" rel="bookmark" title="数据库的完整性">数据库的完整性</a></li><li><a href="/2023/01/05/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%90%86%E8%AE%BA/" rel="bookmark" title="关系数据库理论">关系数据库理论</a></li><li><a href="/2023/01/05/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/" rel="bookmark" title="数据库设计">数据库设计</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Clown" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Clown</p><div class="description" itemprop="description">一个妄想全栈web小废物</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">60</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">41</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Nsb3duLXE=" title="https:&#x2F;&#x2F;github.com&#x2F;clown-q"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="bWFpbHRvOjI2NDIxMzczNjVAcXEuY29t" title="mailto:2642137365@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/11/09/preg_match&&%E6%AD%A3%E5%88%99/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Vulnhub/" title="分类于 Vulnhub">Vulnhub</a></div><span><a href="/2023/07/16/hard_socnet2%E9%9D%B6%E6%9C%BA%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95/" title="hard_socnet2的靶机打靶记录">hard_socnet2的靶机打靶记录</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Web/" title="分类于 Web">Web</a></div><span><a href="/2022/10/24/awd-web%E5%B0%8F%E7%BB%93/" title="Awd-web小结">Awd-web小结</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTFshow/" title="分类于 CTFshow">CTFshow</a></div><span><a href="/2023/07/17/%E5%85%B6%E4%BB%96php%E7%AF%87/" title="CTFshow-web入门其他">CTFshow-web入门其他</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Web/" title="分类于 Web">Web</a></div><span><a href="/2022/10/31/CSRF&SSRF/" title="CSRF&amp;SSRF">CSRF&SSRF</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a></div><span><a href="/2022/12/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7/" title="数据库的完整性">数据库的完整性</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 数据结构">数据结构</a></div><span><a href="/2022/10/24/%E9%93%BE%E8%A1%A8/" title="顺序表">顺序表</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a></div><span><a href="/2023/01/05/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%90%86%E8%AE%BA/" title="关系数据库理论">关系数据库理论</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTFshow/" title="分类于 CTFshow">CTFshow</a></div><span><a href="/2022/11/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" title="CTFshow-web入门命令执行">CTFshow-web入门命令执行</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTFshow/" title="分类于 CTFshow">CTFshow</a></div><span><a href="/2023/07/20/%E4%B8%AD%E6%9C%9F%E6%B5%8B%E8%AF%84/" title="CTFshow-web中期测评">CTFshow-web中期测评</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a></div><span><a href="/2023/01/05/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/" title="数据库设计">数据库设计</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Clown @ ClownのBlog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">663k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">10:03</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/12/03/关系数据库标准语言SQL/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->